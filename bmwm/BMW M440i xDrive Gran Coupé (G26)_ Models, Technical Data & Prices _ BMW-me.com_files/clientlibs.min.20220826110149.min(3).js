define("ds2-showroom-preconfiguration",["ds2-main","ds2-showroom-tracking","ds2-text-direction","ds2-touch-detection","jquery","lazyload"],(function(e,t,o,n,i,s){return r={268:function(e,t,o){var n,i;n=[t,o(986),o(404),o(445),o(485),o(928),o(571)],void 0===(i=function(e,o,n,i,s,r,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function c(e){const t=this;t.element=e,t.elements={activeBar:e.querySelector(".ds2-showroom-preconfiguration__nav-item-activebar"),background:e.querySelectorAll(".ds2-showroom-preconfiguration__item-background"),expandToggle:e.querySelectorAll(".ds2-showroom-preconfiguration__item-expand"),footer:e.querySelector(".ds2-showroom-preconfiguration__footer"),footerItem:e.querySelectorAll(".ds2-showroom-preconfiguration__item-footer"),item:e.querySelectorAll(".ds2-showroom-preconfiguration__item"),nav:e.querySelector(".ds2-showroom-preconfiguration__nav"),navItem:e.querySelectorAll(".ds2-showroom-preconfiguration__nav-item"),slider:e.querySelector(".ds2-showroom-preconfiguration__slider"),ctaButtons:e.querySelectorAll(".ds2-showroom-preconfiguration__item-button, .ds2-showroom-preconfiguration__item-button"),previewItem:e.querySelectorAll(".ds2-showroom-preconfiguration__item-car--next"),accordion:e.querySelectorAll(".ds2-legal-accordion")},t.options={count:t.elements.item.length,current:0,hasFooter:t.elements.footerItem.length>0,isDotNav:!1,isTouch:s.default.any,rtl:!i.default.isLTR,softBreak:1275,timeout:{}},t.classes={active:"is-active",animate:"is-sliding",expanded:"is-expanded",grabbing:"is-grabbing",hoverNext:"is-hover-next",hoverPrev:"is-hover-prev",next:"is-next",prev:"is-prev",single:"is-single",touch:"is-touch",wait:"is-waiting"},t.elements.nav&&t.options.count>=2?(t.setupItemFooters(),t.setupItemPreviewImages(),t.initNav(),t.equalizeSlideHeights()):1===t.options.count&&t.setupSingleItem(),t.options.count>=1&&(t.introAnim(),t.initExpandCollapse(),t.navigateWithTabs(),new o.default({container:t.element}),t.setClass(t.element,{touch:t.options.isTouch}));for(let e=0;e<t.elements.ctaButtons.length;e+=1)t.elements.ctaButtons[e].addEventListener("click",(function(){t.emitTrackingEvent(this)}));for(let e=0;e<t.elements.accordion.length;e+=1)t.elements.accordion[e].addEventListener("ds2-legal-accordion-click",(e=>{const o=e.detail.object||e.detail.detail.object;if(o.parentNode&&!o.parentNode.classList.contains("ds2-legal-accordion__opened")){const e=Array.from(o.children).find((e=>"SPAN"===e.tagName));t.emitTrackingEvent(o,e?e.innerText:"")}}));(0,r.default)((0,n.default)(this.element),"ds2-showroom-preconfiguration")}Object.defineProperty(e,"__esModule",{value:!0}),t.default=void 0,o=l(o),n=l(n),i=l(i),s=l(s),r=l(r),c.prototype.emitTrackingEvent=function(e,t,o){let i=o;const s="ds2-showroom-preconfiguration-tracking";let r;o||(i=(0,n.default)(e).parents(".ds2-showroom-preconfiguration").find(".ds2-showroom-preconfiguration__item.is-active .ds2-showroom-preconfiguration__item-car img").attr("src"));const a={detail:{target:e,eventName:t||"",eventInfoTarget:i||""}};"function"==typeof Event?r=new CustomEvent(s,a):(r=document.createEvent("CustomEvent"),r.initCustomEvent(s,!1,!1,a)),this.element.dispatchEvent(r)},c.prototype.introAnim=function(){const e=this;function t(t){setTimeout((()=>{e.setClass(e.elements.item[e.options.count-t-1],{wait:!1})}),375*t+500)}for(let o=0;o<e.options.count;o+=1)t(o);setTimeout((()=>{e.setClass(e.element,{wait:!1})}),375*e.options.count+500+750)},c.prototype.initNav=function(){const e=this,{length:t}=e.elements.navItem;for(let o=0;o<t;o+=1)e.elements.navItem[o].addEventListener("click",(function(){const t=this.getAttribute("data-index"),o='.ds2-showroom-preconfiguration__item[data-index="'.concat(t,'"]\n      .ds2-showroom-preconfiguration__item-car'),n=Array.from(e.element.querySelectorAll(o)).find((e=>e.children&&e.children.length>0)),i=(n?Array.from(n.children[0].children):[]).find((e=>"IMG"===e.tagName));e.emitTrackingEvent(this,"",i?i.getAttribute("src"):"")}));for(let t=0;t<e.options.count;t+=1){const o=e.elements.navItem[t],n=e.elements.item[t],i=e.elements.background[t];o.index=t,o.addEventListener("click",(function(){this.index!==e.options.current&&e.activeNav(this.index,!1)}),!1),e.options.isTouch||(o.addEventListener("mouseenter",(function(){e.hoverNav(this.index,!0)}),!1),o.addEventListener("mouseleave",(function(){e.hoverNav(this.index,!1)}),!1),i.addEventListener("mouseenter",(function(){e.hoverNav(this.index,!0)}),!1),i.addEventListener("mouseleave",(function(){e.hoverNav(this.index,!1)}),!1)),i.index=t,i.addEventListener("click",(function(){(this.index-1===e.options.current||this.index+1===e.options.current)&&(e.options.isTouch||e.hoverNav(this.index,!1),e.activeNav(this.index,!1))}),!1),n.zIndex=10*(e.options.count-t),n.setAttribute("data-index",t),e.options.hasFooter&&e.elements.footerItem[t]&&e.elements.footerItem[t].setAttribute("data-index",t)}window.addEventListener("resize",(()=>{window.innerWidth>e.options.softBreak&&(clearTimeout(e.options.timeout.resize),e.options.timeout.resize=setTimeout((()=>{e.options.isDotNav?e.activeNav(e.options.current,!1):e.activeBar(e.options.current)}),100)),e.equalizeSlideHeights()})),e.activeNav(0,!1),e.swipeNav()},c.prototype.activeNav=function(e,t){const o=this,n=o.elements.navItem[e],i=o.elements.navItem[o.options.current];o.setClass(o.element,{hoverPrev:!1,hoverNext:!1,animate:!0}),clearTimeout(o.options.timeout.animate),o.options.timeout.animate=setTimeout((()=>{o.setClass(o.element,{animate:!1})}),1500),o.setClass(o.elements.item[e],{animate:!0}),clearTimeout(o.options.timeout.reset),o.options.timeout.reset=setTimeout((()=>{o.setClass(o.elements.item[e],{animate:!1})}),500),o.setClass(i,{active:!1}),o.setClass(n,{active:!0}),o.options.hasFooter&&(o.elements.footerItem[o.options.current]&&o.setClass(o.elements.footerItem[o.options.current],{active:!1}),o.elements.footerItem[e]&&o.setClass(o.elements.footerItem[e],{active:!0}));for(let t=0;t<o.options.count;t+=1)o.setClass(o.elements.item[t],{hoverPrev:!1,expanded:!1,hoverNext:!1,prev:t<e,active:t>=e-1&&t<=e+1,next:t>e});o.activeBar(e),o.elements.slider.setAttribute("data-index",e),o.options.current=e,!0===t&&o.elements.item[e].focus();const s=o.element.querySelectorAll(".ds2-tooltip--open");s.length&&s[0].dispatchEvent(new Event("ds2-tooltip--close"))},c.prototype.activeBar=function(e){const t=this,o=t.elements.navItem[e],n=t.elements.activeBar.style;window.innerWidth>t.options.softBreak?(t.options.isDotNav=!1,n.top="".concat(o.offsetTop,"px"),n.height="".concat(o.offsetHeight,"px")):t.options.isDotNav=!0},c.prototype.swipeNav=function(){const e=this,t=e.options.isTouch?"touchstart":"mousedown",o=e.options.isTouch?"touchend":"mouseup";let i,s,r;e.elements.slider.addEventListener(t,(t=>{s=e.options.isTouch?t.changedTouches[0].clientX:t.pageX,i=0,e.setClass(e.elements.slider,{grabbing:!0})})),e.elements.slider.addEventListener(o,(function(t){const o=(0,n.default)(this).find(".ds2-showroom-preconfiguration__item.is-active.is-next");r=e.options.isTouch?t.changedTouches[0].clientX:t.pageX,i=r-s,e.setClass(e.elements.slider,{grabbing:!1}),i>50&&!e.options.rtl||i<-50&&e.options.rtl?0!==e.options.current?e.activeNav(e.options.current-1,!1):e.activeNav(e.options.count-1,!1):(i<-50&&!e.options.rtl||i>50&&e.options.rtl)&&(e.options.current!==e.options.count-1?e.activeNav(e.options.current+1,!1):e.activeNav(0,!1)),e.emitTrackingEvent(o)}))},c.prototype.hoverNav=function(e,t){const o=this;let n;const i=o.elements.previewItem[o.options.current].querySelector("img.".concat(o.classes.active));e<o.options.current?(o.setClass(o.element,{hoverPrev:!0,hoverNext:!1}),o.setClass(o.elements.item[e],{hoverPrev:t}),o.setClass(o.elements.item[o.options.current],{hoverPrev:t}),o.options.current+1!==o.options.count&&o.setClass(o.elements.item[o.options.current+1],{hoverPrev:t})):e>o.options.current&&(o.setClass(o.element,{hoverPrev:!1,hoverNext:!0}),o.setClass(o.elements.item[o.options.current],{hoverNext:t}),o.options.current+1<e&&o.setClass(o.elements.item[o.options.current+1],{hoverPrev:t}),o.setClass(o.elements.item[e],{hoverNext:t})),e>o.options.current+1&&t?(n=o.elements.previewItem[o.options.current].querySelector("img[data-index='".concat(e,"']")),n||(n=o.elements.previewItem[e-1].querySelector("img[data-index='".concat(e,"']")),n=n.cloneNode(!0),o.setClass(n,{wait:!0}),o.elements.previewItem[o.options.current].appendChild(n),setTimeout((()=>{o.setClass(n,{wait:!1})}),25))):n=o.elements.previewItem[o.options.current].querySelector("img[data-index='".concat(o.options.current+1,"']")),i&&i!==n&&o.setClass(i,{active:!1}),n&&o.setClass(n,{active:!0}),clearTimeout(o.options.timeout.hover),t||(o.options.timeout.hover=setTimeout((()=>{o.setClass(o.element,{hoverPrev:!1,hoverNext:!1})}),750))},c.prototype.navigateWithTabs=function(){const e=this,t=e.element.querySelectorAll(".ds2-showroom-preconfiguration__item-link"),o=e.element.querySelectorAll(".ds2-showroom-preconfiguration__item-button--primary").length>=1?e.element.querySelectorAll(".ds2-showroom-preconfiguration__item-button--primary"):"",n=e.element.querySelectorAll(".ds2-showroom-preconfiguration__item-button--secondary").length>=1?e.element.querySelectorAll(".ds2-showroom-preconfiguration__item-button--secondary"):"",i=t.length;let s,r,a=!1;for(s=0;s<i;s+=1)t[s].addEventListener("click",(function(){e.emitTrackingEvent(this)}));function l(){a?a=!1:this.blur()}function c(i){if(e.options.hasFooter&&e.elements.footerItem[this.index]&&13===i.keyCode){const i=e.elements.footerItem[this.index],r=i.querySelector(".ds2-showroom-preconfiguration__item-button--primary"),a=i.querySelector(".ds2-showroom-preconfiguration__item-button--secondary");for(s=0;s<e.options.count;s+=1){const t=e.elements.item[s];t.index=s,t.setAttribute("tabindex","-1")}for(s=0;s<t.length;s+=1){const e=t[s];e.index=s,e.setAttribute("tabindex","-1")}e.elements.item[this.index].setAttribute("tabindex","0"),e.elements.item[this.index].querySelector(".ds2-showroom-preconfiguration__item-link")&&e.elements.item[this.index].querySelector(".ds2-showroom-preconfiguration__item-link").setAttribute("tabindex","0"),r&&r.setAttribute("tabindex","0"),a&&a.setAttribute("tabindex","0"),o||n||e.elements.item[this.index].querySelector(".ds2-showroom-preconfiguration__item-link")?e.activeNav(this.index,!0):e.activeNav(this.index,!1)}}for(document.body.addEventListener("keydown",(()=>{a=!0})),s=0;s<e.elements.navItem.length;s+=1)r=e.elements.navItem[s],r.index=s,r.setAttribute("tabindex","0"),r.addEventListener("focus",l),r.addEventListener("keyup",c,!1);function m(){for(s=0;s<e.elements.navItem.length;s+=1){const t=e.elements.navItem[s];t.index=s,t.setAttribute("tabindex","-1")}}function u(t){if(9===t.keyCode){for(s=0;s<e.elements.navItem.length;s+=1){const t=e.elements.navItem[s];t.index=s,t.setAttribute("tabindex","0")}for(e.elements.navItem[e.options.current].focus(),s=0;s<o.length;s+=1){const e=o[s];e.index=s,e.setAttribute("tabindex","-1")}for(s=0;s<n.length;s+=1)n[s].index=s,r.setAttribute("tabindex","-1")}}if(e.elements.item[e.options.current].querySelectorAll(".ds2-showroom-preconfiguration__item-link").length){if(o&&n)for(s=0;s<t.length;s+=1){const e=t[s];e.index=s,e.addEventListener("focus",m,!1)}}else for(s=0;s<e.options.count;s+=1){const t=e.elements.item[s];t.index=s,t.addEventListener("focus",m,!1)}if(e.options.hasFooter&&e.elements.footerItem[e.options.current].querySelectorAll(".ds2-showroom-preconfiguration__item-button--secondary").length)for(s=0;s<n.length;s+=1){const e=n[s];e.index=s,e.addEventListener("keydown",u,!1)}else if(e.options.hasFooter&&!e.elements.footerItem[e.options.current].querySelectorAll(".ds2-showroom-preconfiguration__item-button--secondary").length&&e.elements.footerItem[e.options.current].querySelectorAll(".ds2-showroom-preconfiguration__item-button--primary").length)for(s=0;s<o.length;s+=1){const e=o[s];e.index=s,e.addEventListener("keydown",u,!1)}},c.prototype.initExpandCollapse=function(){const e=this;for(let t=0;t<e.elements.expandToggle.length;t+=1)e.elements.expandToggle[t].addEventListener("click",(function(){e.setClass(e.element,{expanded:"toggle"}),clearTimeout(e.options.timeout.equalize),e.options.timeout.equalize=setTimeout((()=>{e.equalizeSlideHeights()}),500),e.emitTrackingEvent(this)}),!1)},c.prototype.equalizeSlideHeights=function(){const e=this;let t=0,o=0;clearTimeout(e.options.timeout.equalize),e.options.timeout.equalize=setTimeout((()=>{for(let t=0;t<e.options.count;t+=1)e.elements.item[t].removeAttribute("style"),e.elements.item[t].style.zIndex=e.elements.item[t].zIndex;clearTimeout(e.options.timeout.equalizeNew),e.options.timeout.equalizeNew=setTimeout((()=>{for(let n=0;n<e.options.count;n+=1){const i=e.elements.item[n];if(t=i.clientHeight,o=t>o?t:o,n===e.options.count-1){for(let t=0;t<e.options.count;t+=1)e.elements.item[t].style.minHeight="".concat(o,"px");e.elements.slider.style.minHeight="".concat(o,"px")}}}),50)}),50)},c.prototype.setupItemFooters=function(){const e=this;if(e.options.hasFooter){for(let t=0;t<e.options.count;t+=1)e.elements.footerItem[t]&&e.elements.footer.appendChild(e.elements.footerItem[t]);e.elements.footer.style.opacity=1}},c.prototype.setupItemPreviewImages=function(){const e=this;let t,o;for(let n=0;n<e.options.count-1;n+=1)o=e.elements.previewItem[n+1],t=document.createElement("img"),t.setAttribute("src",o.getAttribute("data-next-image")),t.setAttribute("alt",o.getAttribute("data-alt")),t.setAttribute("title",o.getAttribute("data-title")),t.setAttribute("data-index",n+1),e.setClass(t,{active:!0}),e.elements.previewItem[n].appendChild(t)},c.prototype.setupSingleItem=function(){const e=this;e.setupItemFooters(),e.setClass(e.element,{single:!0}),e.setClass(e.elements.item[0],{active:!0,prev:!1}),e.elements.item[0].setAttribute("data-index",0),e.options.hasFooter&&e.elements.footerItem[0]&&(e.setClass(e.elements.footerItem[0],{active:!0}),e.elements.footerItem[0].setAttribute("data-index",0))},c.prototype.setClass=function(e,t){const o=this,{classList:n}=e;let i,s;const r=Object.keys(t);for(let e=0;e<r.length;e+=1){const a=r[e];Object.prototype.hasOwnProperty.call(t,a)&&(i=o.classes[a],s=t[a],!1===s?n.remove(i):!0===s?n.add(i):n.toggle(i))}};var m=c;t.default=m}.apply(t,n))||(e.exports=i)},571:function(t){"use strict";t.exports=e},928:function(e){"use strict";e.exports=t},445:function(e){"use strict";e.exports=o},485:function(e){"use strict";e.exports=n},404:function(e){"use strict";e.exports=i},986:function(e){"use strict";e.exports=s}},a={},function e(t){var o=a[t];if(void 0!==o)return o.exports;var n=a[t]={exports:{}};return r[t](n,n.exports,e),n.exports}(268);var r,a}));