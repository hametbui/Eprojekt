define("ds2-content-navigation-tron-tracking",[],(function(){return function(){var e={579:function(e,t,n){"use strict";n.r(t),t.default=class{constructor(){this.detectDebugMode(),this._TronVersion="1.1.0";const e=function(e){e.component={category:{componentType:"native in-page",primaryCategory:"nsc website",subCategory1:"navigation"},componentInfo:{componentName:"anchor link",componentID:"anchor link"},attributes:{touchpoint:"web",componentVersion:"anchor link_v1"}},e.baseEvent={eventInfo:{eventName:"interaction",type:"ux",eventAction:"internal click",effect:"na",cause:"default",eventPoints:"0"},category:{primaryCategory:"anchor link",subCategory1:"datalayer field empty",subCategory2:"datalayer field empty"},attributes:{requestedURL:"datalayer field empty"}},e.baseCustom=[],e.baseDynamicData=["anchorName","hashName"]},t=function(e){e.events||(e.events={}),e.events=Object.assign(e.events,{anchorClick:{event:{eventInfo:Object.assign({},JSON.parse(JSON.stringify(e.baseEvent.eventInfo)),{eventAction:"internal click"})},dynamicData:e.baseDynamicData,description:'trigger whenever the user <span style="color:blue">clicks</span> on the navigation. <br>\n                Please provide the following dynamic parameters.<br>\n                <ul>\n                <li>"<span style="color:blue">anchorName</span>" = the name of the navigation link , that is the visible link text </li>\n                <li>"<span style="color:blue">hashName</span>" = the value provided in the href independent if it\'s actually currently in the URL or not. eg. if the user clicked on "Fahrzeugdesign" the URL hash would be "fahrzeug-design". When the user then scrolls to "Plug-in Hybride" the hashName must be "plug-in-hybrid" and not like still visible in the URL "fahrzeug-design" </li>\n                </ul>\n                '},anchorScroll:{event:{eventInfo:Object.assign({},JSON.parse(JSON.stringify(e.baseEvent.eventInfo)),{eventAction:"scroll"})},dynamicData:e.baseDynamicData,description:'trigger whenever the user <span style="color:blue">scrolls</span> down/up on the page and the highlighted navigation area changes. <br>\n                Please provide the following dynamic parameters.<br>\n                <ul>\n                <li>"<span style="color:blue">anchorName</span>" = the name of the navigation link , that is the visible link text </li>\n                <li>"<span style="color:blue">hashName</span>" = the value provided in the href independent if it\'s actually currently in the URL or not. eg. if the user clicked on "Fahrzeugdesign" the URL hash would be "fahrzeug-design". When the user then scrolls to "Plug-in Hybride" the hashName must be "plug-in-hybrid" and not like still visible in the URL "fahrzeug-design" </li>\n                </ul>\n                '}})},n=function(e){e._productTemplate={category:{},productInfo:{},attributes:{}},e.defaultDatalayer={component:{category:{},componentInfo:{},attributes:{}},event:{category:{},eventInfo:{},attributes:{}},custom:{},page:{category:{},pageInfo:{},attributes:{}},product:[],cart:{item:{category:{},price:{attributes:{}}},price:{}},transaction:{total:{attributes:{}},item:{category:{},price:{},attributes:{}}},user:{segment:{},profile:{profileInfo:{},attributes:{}}},dealer:{dealerInfo:{},attributes:{}},version:e.version},e.events||(e.events={}),e.events.error={event:{eventInfo:{eventName:"error",type:"",eventAction:"internal click",eventPoints:"0",cause:"default",effect:"na"}},custom:{errorCode:"datalayer field empty",errorOrigin:"datalayer field empty",errorURL:document.location.href},dynamicData:["errorAction","errorMessage","errorCause","errorType","errorCode","errorOrigin"],description:'Trigger this event whenever an error occurs that prevents the user from continuing with its journey. <br><br>\n                <u><i>dynamic parameters to be set </i></u><br> \n                "<span style="color:blue">errorAction</span>", \n                "<span style="color:blue">errorMessage</span>", \n                "<span style="color:blue">errorCausev</span>", \n                "<span style="color:blue">errorType</span>", \n                "<span style="color:blue">errorCode</span>", \n                "<span style="color:blue">errorOrigin</span>", \n                "<span style="color:blue">errorURL</span>", \n                "<span style="color:blue">pageSysEnv</span>", \n                "<span style="color:blue">pageVersion</span>", \n                "<span style="color:blue">pageName</span>", \n                "<span style="color:blue">pageType</span>"<br><br>\n                <u><i>Example: </i></u><br>\n                <i>Values are examplary and shall not be taken over hard coded. Values must be provided dynamically.</i> <br>\n                <div style="color:blue">tron.error({</div>\n                    <div style="text-indent:10px; color:blue">errorAction: "internal click", </div>\n                    <div style="text-indent:10px; color:blue">errorMessage: "a mandatory field is not filled", </div>\n                    <div style="text-indent:10px; color:blue">errorCause: "a validation error occurred on: guide[0].guide1[0].guiderootpanel[0].panel_personal_information_add", </div>\n                    <div style="text-indent:10px; color:blue">errorType: "backend 3rd party", </div>\n                    <div style="text-indent:10px; color:blue">errorCode: "01_01_005_000005", </div>\n                    <div style="text-indent:10px; color:blue">errorOrigin: "gcdm", </div>\n                    <div style="text-indent:10px; color:blue">errorURL: "https://www.test.com/abc#landingPage", </div>\n                    <div style="text-indent:10px;"><span style="color:blue">pageSysEnv:"int",</span> // mandatory </div>\n                    <div style="text-indent:10px;"><span style="color:blue">pageVersion:"last build:2022-01-13T19:22:56.138Z",</span> // mandatory </div>\n                    <div style="text-indent:10px;"><span style="color:blue">pageName:"boost vehicle details",</span> // mandatory </div>\n                    <div style="text-indent:10px;"><span style="color:blue">pageType:"product details"</span> // mandatory </div>\n                    <div style="text-indent:10px; color:blue">})</div><br>\n                '},e._validErrorTypes=["backend 1st party","backend 3rd party","frontend component","frontend page","user","product data","emission service","web links"],e._validErrorActions=["call","component load","content closed","content opened","content visible","download","drop-down menu","first page load","form fill","internal click","outbound click","page load","radio button","slide left","slide right","sort","suggested term","video pause","video play"],e.defaultValue="datalayer field empty"};(function(e){e.genericEventName="TRON: generic event listener",e.customEventName="TRON:anchor link",e._componentTrackingVersion="anchor link_v2",e.version=`TRON_${e._TronVersion}__${e._componentTrackingVersion}`})(this),n(this),e(this),t(this),this._createPublicMethods(),this.message={}}getSupportedEvents(){var e={};for(const t in this.events)e[t]={description:this.events[t].description,"expected dynamic data":this.events[t].dynamicData.toString()};return e}getExpectedDynamicData(e){return this.events[e]?[].concat(this.baseDynamicData,this.events[e].dynamicData):(this._throwError("Unknown event. Please call function getSupportedEvents to know all available events",new ReferenceError("event '"+e+"' is not supported. ")),!1)}setDebug(e){if("boolean"!=typeof e)return!1;this.debug=e}detectDebugMode(){let e=-1!=document.location.search.indexOf("trondebug");this.setDebug(e)}_createPublicMethods(e){for(const e in this.events)this[e]=function(e){return function(t){this._processEvent(`${e}`,t)}}(e)}_handleErrors(e){try{this._checkValidOption("errorType",e.errorType),this._checkValidOption("errorAction",e.errorAction)}catch(e){return void this._throwError("invalid data in error details",e)}this.message.event.type=e.errorType,this.message.event.action=e.errorAction,this.message.event.cause=e.errorCause,this.message.event.effect=e.errorMessage,this.message.custom.errorCode=e.errorCode,this.message.custom.errorOrigin=e.errorOrigin,this.message.custom.errorURL=e.errorURL}_processEvent(e,t){this._debug("ðŸ’¡ event triggered:"+e,t),this.message=this._loadEventData(e);try{this._checkDynamicData(e,t)}catch(t){return this._throwError("wrong dynamicData input for function "+e,t),!1}"error"==e&&this._handleErrors(t);"undefined"!=typeof _satellite&&void 0!==_satellite.getVar("snapshotDL")&&(this.message.page=_satellite.getVar("snapshotDL").get("page"),this.message.product=_satellite.getVar("snapshotDL").get("product"),this.message.user=_satellite.getVar("snapshotDL").get("user")),void 0!==this.message.event.eventInfo.effect&&(this.message.event.eventInfo.timeStamp=this.message.event.timeStamp,delete this.message.event.timeStamp),void 0!==this.message.custom&&"interaction"==this.message.event.eventInfo.eventName&&(this.message.event.category.subCategory1=t.anchorName||"datalayer field empty",this.message.event.category.subCategory2=t.hashName||"datalayer field empty","internal click"==this.message.event.eventInfo.eventAction&&(this.message.event.eventInfo.effect="nsc > user clicked on "+this.message.event.category.subCategory1+" anchor navigation link"),"scroll"==this.message.event.eventInfo.eventAction&&(this.message.event.eventInfo.effect="nsc > user scrolled to "+this.message.event.category.subCategory1+" page section")),void 0!==this.message.custom&&"error"==this.message.event.eventInfo.eventName&&(this.message.event.eventInfo.effect=t.errorMessage?"nsc > "+t.errorMessage:"datalayer field empty",this.message.event.eventInfo.eventAction=t.errorAction||"datalayer field empty",this.message.event.eventInfo.cause=t.errorCause||"datalayer field empty",this.message.event.eventInfo.type=t.errorType||"datalayer field empty",this.message.event.category.subCategory1=t.errorCode||"datalayer field empty",this.message.event.category.subCategory2=t.errorOrigin||"datalayer field empty",this.message.event.attributes.requestedURL=t.errorURL||"datalayer field empty",delete this.message.event.type,delete this.message.event.action,delete this.message.event.cause,delete this.message.event.effect),this._debug("ðŸ’² payload created",this.message),this._sendMessage()}_checkDynamicData(e,t){let n=this.events[e].dynamicData;for(let e=0;e<n.length;e++){let s=n[e],r=t[s];if(void 0===r)throw new SyntaxError(`missing key in dynamicData: ${s}`);if("string"==typeof r&&0==r.trim().length)throw new SyntaxError(`empty string in dynamicData: ${s}`)}return!0}_checkValidOption(e,t){let n=[];switch(e){case"errorType":n=this._validErrorTypes;break;case"errorAction":n=this._validErrorActions}if(!n.includes(t))throw new TypeError(`provided value '${t}' for field '${e}' is not part of standard list`);return!0}_loadEventData(e){const t=Object.assign({},this.defaultDatalayer);return t.component=Object.assign({},this.component),t.event=Object.assign({},JSON.parse(JSON.stringify(this.baseEvent)),JSON.parse(JSON.stringify(this.events[e].event))),t.event.timeStamp=(new Date).getTime(),this.events[e].custom=this.events[e].custom?this.events[e].custom:{},t.custom=Object.assign({},this.baseCustom,this.events[e].custom),t.version="TRON_"+this._TronVersion+"__"+this._componentTrackingVersion,t}_throwError(e,t){console.error(this.version,"\r\n",e,"\r\n",t.name+":"+t.message)}_debug(e,t){this.debug&&console.info(this.version,"\r\n",e,"\r\n",t)}_sendMessage(){this._debug("âŒ› sending data..."),this._sendCustomEvent(),this._sendGenericEvent(),this._sendPostMessage(),this.message={}}_sendCustomEvent(){let e=!1;try{e=new CustomEvent(this.customEventName,JSON.parse(JSON.stringify({detail:this.message}))),window.dispatchEvent(e)}catch(e){return this._throwError("could not create/send custom event",e),!1}this._debug("âœ… custom event successfully sent",e)}_sendGenericEvent(){let e=!1;try{e=new CustomEvent(this.genericEventName,JSON.parse(JSON.stringify({detail:this.message}))),window.dispatchEvent(e)}catch(e){return this._throwError("could not create/send generic event",e),!1}this._debug("âœ… generic event successfully sent",e)}_sendPostMessage(){let e=!1;try{e=JSON.parse(JSON.stringify({methodName:this.customEventName,detail:this.message,type:"TRON"})),window.top.postMessage(JSON.stringify(e),"*")}catch(e){return this._throwError("could not create/send postMessage",e),!1}this._debug("âœ… postmessage successful sent",e)}_sendPostMessage(){let e=!1;try{e=JSON.parse(JSON.stringify({methodName:this.genericEventName,detail:this.message,type:"TRON"})),window.top.postMessage(JSON.stringify(e),"*")}catch(e){return this._throwError("could not create/send postMessage",e),!1}this._debug("âœ… postmessage successful sent",e)}}},690:function(e,t,n){var s,r;s=[t,n(579)],void 0===(r=function(e,n){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),t.default=void 0;var r=(n=(s=n)&&s.__esModule?s:{default:s}).default;t.default=r}.apply(t,s))||(e.exports=r)}},t={};function n(s){var r=t[s];if(void 0!==r)return r.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,n),a.exports}return n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(690)}()}));