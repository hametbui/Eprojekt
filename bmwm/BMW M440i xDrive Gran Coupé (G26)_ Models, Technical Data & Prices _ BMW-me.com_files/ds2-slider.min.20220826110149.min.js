define("ds2-tracking-gallery",["jquery","ds2-tracking-base","ds2-tracking"],function(b,l,e){b.widget("digitals2.ds2TrackingGallery",l,{_isCurrentSlideVideo:function(c,g){return b(".slick-active",g).find(".ds2-video-player").length?"video-"+c:"image-"+c},_listenersInit:function(){var c=this;b(window).off("video-start").on("video-start",function(b,d){b=c.bmwTrackOptionsBuilder.options().name(c.TC.START_VIDEO).build();c._callExpandEvent(d,b)});b(window).off("video-open").on("video-open",function(b,d){b=
c.bmwTrackOptionsBuilder.options().name(c.TC.OPEN_VIDEO).build();c._callExpandEvent(d,b)});b(".ds2-slider--main",this.element).on("ds2slider-play-video",function(b,d){b=c.bmwTrackOptionsBuilder.options().name(c.TC.START_VIDEO).build();c._callExpandEvent(d,b)}).on("download-image",function(b,d){c._callExpandEvent(c.eventBuilder.newEvent().eventName(d.eventName).eventAction(d.eventAction).eventPoints(d.eventPoints).primaryCategory(c.TC.ENGAGEMENT).mmdr(d.mmdr).target(d.target).build(),c.bmwTrackOptionsBuilder.options().name(c.TC.DOWNLOAD).build())});
b(".ds2-video-player",this.element).on("ds2-video-player-track-absolute-progress",function(b,d){d.eventAction="Progress";c._trackVideoEvent(this,d)}).on("ds2-video-player-track-relative-progress",function(b,d){d.eventAction="Milestone";c._trackVideoEvent(this,d)})},_trackVideoEvent:function(c,g){c=b(c);var d={};var e=c.data("tracking-options").name;c.data("tracking-options")&&c.data("tracking-options").name&&(d="Progress"===g.eventAction?this._loopProp(this.options.mappingObj,"record_video_progress_seconds"):
"Milestone"===g.eventAction?this._loopProp(this.options.mappingObj,"record_video_progress_percent"):this._loopProp(this.options.mappingObj,e),d=this._mapFilter(d,c.data("tracking-options").content),eventPoints=c.closest(".ds2-slider").find(".ds2-slider--gallery").data("slide-index")+1);this._callExpandEvent(this.eventBuilder.newEvent().eventName(e).eventAction(g.eventAction).eventPoints("image-"+eventPoints).target(g.target).effect(g.milestone).primaryCategoryIsEngagement().videoLength(g.duration).build(),
d)}});return function(b){b.ds2TrackingGallery(e.getOptions("ds2-gallery"))}});
define("ds2-multimedia-gallery-accessibility",["jquery"],function(b){var l=function(c){this.ds2Slider=c;this.view=c.options.view;this.accessibility=c.accessibility;this.classes={videoPlayerCloseButton:"ds2-video-player--player-close-button",hidden:"hidden"};this.selectors={sliderMain:".ds2-slider--main",sliderBottom:".ds2-slider--bottom",sliderList:".slick-list",slide:".ds2-slider--slide",originalSlide:".ds2-slider--slide:not(.slick-cloned)",clonedSlide:".ds2-slider--slide.slick-cloned",slideDetails:".ds2-slider-slide-details",
arrowButtons:".slick-prev, .slick-next",paginationDots:".ds2-slider--pagination-dots",slickDots:".slick-dots",videoContainer:".ds2-slider--video-container",videoPlayer:".ds2-video-player--player",videoPlayerCloseButton:"."+this.classes.videoPlayerCloseButton,videoPlayButton:".ds2-video-player--play",zoomButton:".ds2-slider--zoom"};this.$element=b(c.element);this.$slider=b(c.options.slider);this.$sliderBottom=b(c.options.sliderBottom);this.$videoContainer=this.$element.find(this.selectors.videoContainer)},
e=l.prototype;e.addKeyboardSupport=function(){this.isGallerySlider()&&(this.makeUnnecessaryElementsUnfocusable(),this.makeNecessaryElementsFocusable(),this.improveKeyboardNavigationForImageGallery(),this.improveKeyboardNavigationForVideoGallery(),this.improveNavigationViaArrowKeys(),this.copyBottomSliderContentToMainSlider())};e.makeUnnecessaryElementsUnfocusable=function(){var b=this;this.accessibility.markAsNotFocusable(this.ds2Slider.options.$sliderList);b.$slider.on("init reInit",function(){b.$element.find(b.selectors.arrowButtons).each(function(){b.accessibility.makeElementInactive(this)});
setTimeout(function(){b.$element.find(b.selectors.clonedSlide).each(function(){b.accessibility.getKeyboardFocusableElements(this).forEach(function(c){b.accessibility.markAsNotFocusable(c)})})},500)})};e.makeNecessaryElementsFocusable=function(){var b=this;b.$slider.on("beforeChange",function(){setTimeout(function(){b.$slider.find("a").each(function(){b.accessibility.makeElementActive(this)})},0)})};e.improveKeyboardNavigationForImageGallery=function(){var c=this;this.isImageGallerySlider()&&this.$element.find(this.selectors.zoomButton).each(function(){var g=
b(this);g.attr("tabindex",0);var d=g.closest(".slick-slide");d.on("focusin",function(){d.hasClass("slick-active")||c.$slider.slick("slickGoTo",d.data("slick-index"))});c.accessibility.addKeyListener("up",{element:g,keyCodes:[c.accessibility.keyCodes.ENTER],fn:function(){c.handleZoomButtonPressed(g)}})})};e.handleZoomButtonPressed=function(c){c=b(c);c.targetSelector="[data-lightbox-id\x3d"+c.data("lightboxTargetId")+"]";var g=document.querySelector(c.targetSelector);g.Lightbox&&g.Lightbox.openLightbox(c[0])};
e.improveKeyboardNavigationForVideoGallery=function(){this.isVideoGallerySlider()&&(this.$videoPlayButtons=this.$element.find(this.selectors.videoPlayButton),this.$videoPlayers=this.$element.find(this.selectors.videoPlayer),this.$videoPlayerCloseButtons=this.$element.find(this.selectors.videoPlayerCloseButton),this.playVideosViaKeyboard(),this.stopVideosViaKeyboard())};e.playVideosViaKeyboard=function(){var c=this;this.$videoPlayButtons.each(function(){var g=b(this),d=g.closest(".slick-slide");d.on("focusin",
function(){c.lastFocusedVideoTrigger=g;d.hasClass("slick-active")||c.$slider.slick("slickGoTo",d.data("slick-index"))})});this.$videoPlayers.each(function(){c.accessibility.makeElementInactive(this)});this.$videoContainer.on(this.ds2Slider.events.videoOverlayOpen,function(){var g=b(this);c.accessibility.focusElement(g,!0,!0)})};e.stopVideosViaKeyboard=function(){var c=this;this.$videoPlayerCloseButtons.each(function(){var g=b(this);c.accessibility.addOnlyScreenReaderClass(g);c.accessibility.addKeyListener("down",
{element:g,keyCodes:[c.accessibility.keyCodes.TAB],fn:function(){var b=c.getNextSlidePlayButton(c.lastFocusedVideoTrigger);if(0<b.length)return setTimeout(function(){b.removeClass(c.classes.hidden);c.accessibility.focusElement(b)},0),{cancel:!0}}})});this.accessibility.addKeyListener("up",{element:this.$element,keyCodes:[this.accessibility.keyCodes.ESC],fn:function(){c.handleVideoPlayerCloseButtonPressed()}});this.$videoContainer.on("focusout",function(b){c.ds2Slider.options.hasKeyboardSupport&&b.relatedTarget&&
!b.relatedTarget.closest(c.selectors.videoContainer)&&c.ds2Slider.stopAllVideos()});this.$videoContainer.on(this.ds2Slider.events.videoOverlayOpen,function(){c.$videoPlayerCloseButtons.each(function(){b(this).on("click",function(){c.handleVideoPlayerCloseButtonPressed()})})})};e.getNextSlidePlayButton=function(c){c=b(c).closest(this.selectors.slide).next();return 0===c.length?b():c.find(this.selectors.videoPlayButton)};e.handleVideoPlayerCloseButtonPressed=function(){this.ds2Slider.stopAllVideos();
this.lastFocusedVideoTrigger&&this.accessibility.focusElement(this.lastFocusedVideoTrigger)};e.improveNavigationViaArrowKeys=function(){var b=this;this.accessibility.deactivateNavigationViaArrowKeysInSlick(this.$slider,!0);this.accessibility.addKeyListener("down",{element:b.$slider,keyCodes:[b.accessibility.keyCodes.ARROW_LEFT,b.accessibility.keyCodes.ARROW_RIGHT],fn:function(c){var d=b.$slider.find(".slick-current");c=c.key.toLowerCase()===b.accessibility.keyCodes.ARROW_LEFT.toLowerCase()?d.prev():
d.next();0<c.length&&(c=c.find(b.selectors.zoomButton+", "+b.selectors.videoPlayButton),b.accessibility.focusElement(c))}})};e.copyBottomSliderContentToMainSlider=function(){var c=this,g=this.$slider.find(this.selectors.originalSlide);this.$sliderBottom.find(this.selectors.originalSlide).each(function(){var d=b(this),e=d.data("slick-index");e=g.filter('[data-slick-index\x3d"'+e+'"]');d=d.find(c.selectors.slideDetails).clone(!0,!0);d.each(function(){c.accessibility.addOnlyScreenReaderClass(this)});
d.appendTo(e)})};e.makeSlideDetailsVisible=function(){var b=this;this.$slider.find(this.selectors.originalSlide).find(this.selectors.slideDetails).each(function(){b.accessibility.removeOnlyScreenReaderClass(this)})};e.updateKeyboardSupport=function(){this.makeSlideDetailsVisible();this.updateKeyboardSupportForVideoGallery();this.updateKeyboardSupportForImageGallery()};e.updateKeyboardSupportForVideoGallery=function(){var b=this;this.isVideoGallerySlider()&&this.$videoPlayerCloseButtons.each(function(){b.accessibility.removeOnlyScreenReaderClass(this)})};
e.updateKeyboardSupportForImageGallery=function(){var c=this;this.isImageGallerySlider()&&(this.lastFocusedElement=document.activeElement,this.$slider.css("opacity",0),this.$sliderBottom.css("opacity",0),this.ds2Slider.sliderUpdate(this.$slider),this.ds2Slider.sliderUpdate(this.$sliderBottom),setTimeout(function(){b(window).trigger("resize");c.$slider.css("opacity",1);c.$sliderBottom.css("opacity",1);c.ds2Slider.lastFocusedElement&&"BODY"===document.activeElement.tagName&&c.accessibility.focusElement(c.lastFocusedElement);
c.ds2Slider.fixSliderHeight()},100))};e.addScreenReaderSupport=function(){var b=this;this.isGallerySlider()&&(this.$slider.on("init reInit beforeChange",function(c){setTimeout(function(){b.updateScreenReaderSupport()},0)}),this.$slider.on("init reInit",function(c){b.addScreenReaderElements()}),this.addScreenReaderSupportForImageGalleryLayer(),this.addScreenReaderSupportForVideoContainer())};e.updateScreenReaderSupport=function(){this.makeNecessaryElementsReadable();this.makeUnnecessaryElementsUnreadable()};
e.makeNecessaryElementsReadable=function(){var b=this;this.$originalSlides.each(function(){b.accessibility.makeElementReadable(this)})};e.makeUnnecessaryElementsUnreadable=function(){var b=this;[this.$clonedSlides,this.$sliderBottom,this.$paginationDots,this.$arrowButtons].forEach(function(c){c.each(function(){b.accessibility.makeElementUnreadable(this)})});this.$sliderListElements.each(function(){this.removeAttribute("tabindex")})};e.addScreenReaderElements=function(){this.$sliderListElements=this.$element.find(this.selectors.sliderList);
this.$originalSlides=this.$element.find(this.selectors.originalSlide);this.$paginationDots=this.$element.find(this.selectors.paginationDots);this.$clonedSlides=this.$element.find(this.selectors.clonedSlide);this.$arrowButtons=this.$element.find(this.selectors.arrowButtons)};e.addScreenReaderSupportForImageGalleryLayer=function(){var c=this,e=[];this.$element.find(this.selectors.zoomButton).each(function(){var b=this.dataset.lightboxTargetId;-1===e.indexOf(b)&&e.push(b)});e.forEach(function(d){d=document.querySelector("[data-lightbox-id\x3d"+
d+"]");c.addScreenReaderTrapToLightbox(d);d=d.querySelector(c.selectors.sliderMain);b(d).on("init reInit",function(b,d){c.accessibility.setAriaRole(d.$dots,"list")});b(d).on("afterChange",function(b,d){c.accessibility.makeElementUnreadable(d.$prevArrow);c.accessibility.makeElementUnreadable(d.$nextArrow);document.activeElement.closest(c.selectors.slickDots)===d.$dots[0]&&c.accessibility.focusElement(d.$list)})})};e.addScreenReaderTrapToLightbox=function(b){var c=this,d;b.addEventListener("ds2-lightbox-open",
function(){d||(d=c.accessibility.activateScreenReaderTrap(b))});b.addEventListener("ds2-lightbox-close",function(){d&&(c.accessibility.deactivateScreenReaderTrap(d),d=void 0)})};e.addScreenReaderSupportForVideoContainer=function(){var b=this,e;this.$videoContainer.on(this.ds2Slider.events.videoOverlayOpen,function(){e=b.accessibility.activateScreenReaderTrap(b.$videoContainer)});this.$element.on(this.ds2Slider.events.allVideosStopped,function(){b.accessibility.deactivateScreenReaderTrap(e);e=void 0})};
e.isGallerySlider=function(){return this.isVideoGallerySlider()||this.isImageGallerySlider()};e.isVideoGallerySlider=function(){return 1===this.view};e.isImageGallerySlider=function(){return 2===this.view};return l});
define("ds2-slider","jquery jquery-slick lazyload ds2-slider-dots ds2-tracking-gallery lodash ds2-text-direction ds2-accessibility ds2-multimedia-gallery-accessibility ds2-resize-events".split(" "),function(b,l,e,c,g,d,p,t,u){l=function(a){this.options={currentSlide:0,myLazyLoad:new e({container:a})};this.element=b(a);this.accessibility=new t(a);this._create();this.multimediaGalleryAccessibility=new u(this);this.multimediaGalleryAccessibility.addScreenReaderSupport();a=b(a).find('[data-component-path\x3d"ds2-lightbox-trigger"]').first();
if(a.length){a=a.data("lightbox-target-id");a=document.querySelector('[data-lightbox-id\x3d"'+a+'"]');var f=a.querySelector(".ds2-lightbox__middle");f.classList.add("ds2-lightbox__middle--hide");a.addEventListener("ds2-lightbox-open",function(a){var c=b(this).find(".ds2-slider--main");a=a.trigger&&b(a.trigger).closest("[data-slick-index]").attr("data-slick-index")||0;c.find(".ds2-slider--main").slick("refresh");a&&c.slick("slickGoTo",a);setTimeout(function(){f.classList.remove("ds2-lightbox__middle--hide");
b(window).trigger("resize")},500)})}this.element.parent().hasClass("ds2-gallery")&&g(this.element)};var h=l.prototype;h._create=function(){var a=this;this.classes={sliderKeyboard:"ds2-slider--keyboard"};this.events={videoOverlayOpen:"videoOverlayOpen",allVideosStopped:"allVideosStopped"};a.options.$element=a.element;this.options.slider=b(".ds2-slider--main",this.element);this.options.sliderBottom=b(".ds2-slider--bottom",this.element);this.options.fullscreenModeInPlayerIsActive=!1;this.options.prevArrow=
b(".slick-prev",this.options.slider);this.options.nextArrow=b(".slick-next",this.options.slider);this.options.noSliding=a.element.hasClass("ds2-slider--no-sliding");this.options.showDots=!0;this.options.prevArrow[0]&&this.options.nextArrow[0]&&(this.options.prevArrowHtml=this.options.prevArrow[0].outerHTML,this.options.nextArrowHtml=this.options.nextArrow[0].outerHTML);this.options.prevArrow.remove();this.options.nextArrow.remove();this.options.isImage=!1;this.options.sliderTrackingActive=!1;this.options.sliderMaxWidth=
1200;this.options.gridMaxWidth=parseFloat(b(".ds2-row-padding",".ds2-lightbox").css("max-width"));this.options.rowPadding=b(".ds2-layer .ds2-row-padding");this.options.rowPaddingLightbox=b(".ds2-lightbox .ds2-row-padding");this.options.videoPlayerContainer=b(".ds2-video-player--player");this.options.sliderSize=this.options.slider.find(".ds2-slider--slide").length-this.options.slider.find(".slick-cloned").length;this.options.slickLightboxInit=!1;this.options.sliderOversizeInit=!1;this.options.centerPadding=
"37px";this.options.adaptiveHeight=!1;this.options.slidesToShowMedium=1;this.options.AUTOMATIC="automatic";this.options.ICON="icon";this.options.SWIPE="swipe";this.options.IMAGE="image";this.options.swipeStarted=!1;this.options.lastEventName=null;b(".ds2-video-player",this.options.$element).length&&(b(".ds2-video-player",this.options.$element).on("ds2-video-player-play",function(f,c){if(digitals2.tracking){var k=b(f.target).closest(".ds2-slider");c="Start video";k=b(".slick-current, .slick-active",
k);1<k.length&&(c=b(k[1]).text().trim());f=b(f.target).parent().prev().find("img");f=b(f).attr("src");c=digitals2.tracking.eventBuilder.newEvent().eventName(c).eventAction("Start video").build();c.eventInfo.target=f;b(".ds2-slider--main",a.options.$element).trigger("ds2slider-play-video",c)}}),this._addSwipeEvents());b(this.options.$element).off("videoOverlayClose").on("videoOverlayClose",function(b){a._videoOverlayClose()});b(this.options.$element).off("fullscreenModeInPlayerIsActive").on("fullscreenModeInPlayerIsActive",
function(c,k,d){a.options.fullscreenModeInPlayerIsActive=k;c=b(".ds2-slider--video-player-opener",a.options.$element).parent().not(".slick-cloned").find('[data-id\x3d"'+d+'"]').parent();!1===k?(a.options.$element.css({position:"relative"}),a._videoOverlayUpdate()):(a.options.$element.css({position:"static"}),k=c.offset().top,b(".ds2-slider--video-container",a.options.$element).css({top:k,position:"absolute"}),b(window).on("scroll",function(){!0===a.options.fullscreenModeInPlayerIsActive&&b(".ds2-slider--video-container",
a.options.$element).css({top:b(window).scrollTop(),position:"absolute"})}))});this.options.onAfterChangeTrigger=null;this.options.sliderInfinite=!1!==this.options.$element.data("infinite");this.options.sliderAutoPlay=this.options.slider.hasClass("ds2-autoplay")&&!this.options.slider.hasClass("ds2-slider-lightbox");this.options.interactionInAuthorDisabled=this.options.slider.hasClass("ds2-slider--swipe-disabled");if(this.options.noSliding)new e({container:this.element[0]});else{this.options.slider.hasClass("ds2-slider--gallery")?
(this.options.view=1,this.options.sliderMaxWidth=1680,this.options.slidesToShow=1,this.options.centerPadding="23%",this.options.centerPaddingMedium="42.5px",this.options.centerPaddingSmall="17.5px",this.options.centerMode=!0,this.options.centerModeMedium=!0,this.options.centerModeSmall=!0,this.options.arrowsMedium=!0,a.showNavButtons(this.options.slider),this.options.slider.hasClass("ds2-slider--gallery-model-overview")&&(this.options.modelOverview=!0)):this.options.slider.hasClass("ds2-slider--gallery-twoColumns")?
(this.options.view=2,this.options.slidesToShow=2,this.options.centerPadding=0,this.options.centerPaddingMedium="42.5px",this.options.centerPaddingSmall="17.5px",this.options.centerMode=!0,this.options.centerModeMedium=!0,this.options.centerModeSmall=!0,this.options.arrowsMedium=!0,a.showNavButtons(this.options.slider)):this.options.slider.hasClass("ds2-slider--twoColumns")?(this.options.view=4,this.options.slidesToShow=2,this.options.slidesToShowMedium=2,this.options.centerPadding=0,this.options.centerPaddingMedium=
0,this.options.centerPaddingSmall=0,this.options.centerMode=!1,this.options.centerModeMedium=!1,this.options.centerModeSmall=!1,this.options.arrowsMedium=!0,this.options.slider.closest(".ds2-technical-data-js--slider").length&&(this.options.slidesToShowMedium=1),a.showNavButtons(this.options.slider)):this.options.slider.hasClass("ds2-slider--stage")?(this.options.view=5,this.options.sliderMaxWidth=1680,this.options.slidesToShow=1,this.options.centerPadding=0,this.options.centerPaddingMedium=0,this.options.centerPaddingSmall=
0,this.options.centerMode=!1,this.options.centerModeMedium=!1,this.options.centerModeSmall=!1,this.options.arrowsMedium=!0):(this.options.slider.hasClass("ds2-slider--teaser")?(this.options.view=6,this.options.slidesToShow=1,this.options.centerPadding=0,this.options.centerPaddingMedium=0,this.options.centerPaddingSmall=0,this.options.centerMode=!1,this.options.centerModeMedium=!1,this.options.centerModeSmall=!1,this.options.arrowsMedium=!0):this.options.slider.hasClass("ds2-slider--fourColumns")?
(this.options.view=4,this.options.slidesToShow=4,this.options.slider.hasClass("ds2-slider--fourColumns-large-medium")?this.options.slidesToShowMedium=4:this.options.slidesToShowMedium=2,this.options.centerPadding=0,this.options.centerPaddingMedium=0,this.options.centerPaddingSmall=0,this.options.centerMode=!1,this.options.centerModeMedium=!1,this.options.centerModeSmall=!1,this.options.arrowsMedium=!0):this.options.slider.hasClass("ds2-slider--sevenColumns")?(this.options.view=4,this.options.slidesToShow=
7,this.options.slidesToShowMedium=3,this.options.centerPadding=0,this.options.centerPaddingMedium=0,this.options.centerPaddingSmall=0,this.options.centerMode=!1,this.options.centerModeMedium=!0,this.options.centerModeSmall=!0,this.options.arrowsMedium=!0):(this.options.view=3,this.options.slidesToShow=1,this.options.centerPadding=0,this.options.centerPaddingMedium=0,this.options.centerPaddingSmall=0,this.options.centerMode=!1,this.options.centerModeMedium=!1,this.options.centerModeSmall=!1,this.options.arrowsMedium=
!0,this.options.slider.hasClass("ds2-slider--layer")),a.showNavButtons(this.options.slider));this.options.prevArrowHtml&&this.options.nextArrowHtml?(a.initSlider(a,this.options.slider,!0,this.options.sliderBottom),a.sliderUpdate(this.options.slider),a.initSliderBottom(a,this.options.sliderBottom,!1,this.options.slider),a.sliderUpdate(this.options.sliderBottom),this.options.slider.slick("slickGoTo",0,!0),a.setOversizeOuterSpace(),a.initLightbox(),b(window.digitals2.resizeEvents).on("ds2ResizeLarge ds2ResizeMedium ds2ResizeSmall",
function(c){if(a.options.slider.hasClass("ds2-slider-lightbox")){var f=Math.round(.66*a.options.gridMaxWidth),d=Math.max(document.documentElement.clientWidth,window.innerWidth);f=f>d?d:f;/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||/Android/i.test(navigator.userAgent)?(a.options.rowPadding.css("width","auto"),a.options.rowPaddingLightbox.css("width","auto"),a.videoPlayerContainer?a.videoPlayerContainer.css("height","100vw"):b(".ds2-video-player--player").css("height","100vw")):
(a.options.rowPadding.css("width",f),a.options.rowPaddingLightbox.css("width",f));a.element.closest(".ds2-lightbox").addClass("ds2-lightbox--slider");a.sliderUpdate(a.options.slider);a.sliderUpdate(a.options.sliderBottom)}else a.sliderUpdate(a.options.slider),a.sliderUpdate(a.options.sliderBottom),a.options.slider.hasClass("ds2-slider--gallery-twoColumns")?a.setOversizeOuterSpace():a.options.slider.hasClass("ds2-slider--gallery")&&("ds2ResizeLarge"===window.digitals2.resizeEvents.mediaQueryWatcherCheck()?
b(".slick-prev, .slick-next",a.options.slider).css("width","23%"):b(".slick-prev, .slick-next",a.options.slider).css("width","auto"));"ds2ResizeLarge"===c.type?a.initLightbox():a.destroyLightbox();"ds2ResizeSmall"===c.type?a.options.mq="small":"ds2ResizeMedium"===c.type?a.options.mq="medium":"ds2ResizeLarge"===c.type&&(a.options.mq="large");a.playVideo();a.sliderClickableHalf();a.attachClickEvents();a.checkEventsToDisableAutoplay();a.setTriggerTrack();a.navButtonsUpdate()}),b(window).trigger("resize")):
b(this.element).hide();if(!this.options.slider.parents("ds2-layer--slider"))this.options.slider.on("dragstart",function(a){a.preventDefault()});b(window).on("scroll",function(){a.navButtonsUpdate()})}a._videoOpenerInit()};h._addSwipeEvents=function(){var a=this,b,c,d;console.log("_addSwipeEvents");a.options.$element.find(".ds2-slider--video-container").off("touchstart").on("touchstart",function(a){b=a.originalEvent.changedTouches[0];c=0;d=b.pageX});a.options.$element.find(".ds2-slider--video-container").off("touchend").on("touchend",
function(f){b=f.originalEvent.changedTouches[0];c=b.pageX-d;20<c?(console.log("show prev"),a.options.slider.slick("slickPrev")):-20>c&&(console.log("show next"),a.options.slider.slick("slickNext"))})};h.initSlider=function(a,f,d,r){f.hasClass("slick-initialized")||(this.options.slider.on("init reInit",function(){a.options.myLazyLoad.update();a.options.sliderTrackingActive=!0;b(".ds2-slider--slide.slick-slide.slick-active img",a.options.slider).first().on("load",function(){a.fixSliderHeight()})}),
this.options.slider.on("init",function(){setTimeout(function(){a.options.$sliderList=b(".slick-list",f);a.accessibility.makeAllLinksInSliderUnfocusable(f);a.accessibility.makeLinksInCurrentSlideFocusable(f);a.addKeyboardSupport();a.updateScreenReaderSupport();a.options.showDots&&(a.dots=new c(f),a.fixSliderHeight())},0)}),this.options.slider.on("reInit",function(){a.dots&&a.dots.reInitialize();a.sliderClickableHalf()}),this.options.slider.slick({dots:this.options.showDots,appendDots:this.options.showDots&&
b(".ds2-slider--pagination-dots",this.element),centerPadding:this.options.centerPadding,centerMode:this.options.centerMode,focusOnSelect:!1,arrows:d,prevArrow:this.options.prevArrowHtml,nextArrow:this.options.nextArrowHtml,infinite:this.options.sliderInfinite,lazyLoad:"anticipated",slidesToShow:this.options.slidesToShow,slidesToScroll:1,waitForAnimate:!1,asNavFor:r,autoplay:this.options.sliderAutoPlay,speed:500,autoplaySpeed:5E3,pauseOnHover:!1,adaptiveHeight:this.options.adaptiveHeight,swipe:!this.options.interactionInAuthorDisabled,
draggable:!this.options.interactionInAuthorDisabled,zIndex:120,rtl:!p.isLTR}),this.options.slider.on("swipe afterChange beforeChange",function(){b(window).trigger("scroll");setTimeout(function(){b(window).trigger("scroll")},800)}),this.options.slider.on("setPosition",function(b,c,f,d){a._videoOverlayUpdate();a.navButtonsUpdate()}),this.options.slider.on("beforeChange",function(b,c,d,k){f.hasClass("ds2-slider--main")&&!f.hasClass("ds2-slider--sound")&&a.stopAllVideos();a.dots&&a.dots.activeDots(d,
k);a.accessibility.makeActiveLinksInSliderUnfocusable(f)}),this.options.slider.on("afterChange",function(c,d,k,r){f.hasClass("ds2-slider--main")&&(f.data("slide-index",k),a._videoOpenerInit(k),f.hasClass("fireSlideChange")&&f.parent().parent().trigger("ds2-slide-change",k),a.options.lastEventName?(a.trackSlider("Impression","impression",a.options.lastEventName),a.options.lastEventName=null):a.trackSlider("Impression","impression"));a.accessibility.makeLinksInCurrentSlideFocusable(f);a.options.sliderAutoPlay||
a.options.sliderInfinite||0!==k&&k!==a.options.sliderSize-1||!a.options.hasKeyboardSupport||(a.options.$sliderList||(a.options.$sliderList=b(".slick-list",f)),a.accessibility.focusElement(a.options.$sliderList));a.updateScreenReaderSupport()}),this.options.slider.on("onSwipeMove",function(b,c,f){(b=a.options.sliderBottom&&a.options.sliderBottom.slick("getSlick"))&&b.changePosition&&(c=b.slideWidth/c.slideWidth,b.changePosition(f*c),a.trackSlider("Impression","impression"))}),a.navButtonsUpdate(),
setTimeout(function(){b("button",a.options.slider).off("touch swipe").on("click touch swipe",function(b){a.options.lastEventName="icon"})},1E3))};h.fixSliderHeight=d.debounce(function(){if(this.options&&this.options.$element&&"function"==typeof this.options.$element.find){var a=this.options.$element.find(".js_keep-height");a.length&&(a.css({height:""}),a.height(a.height()))}},100);h.trackSlider=function(a,c,d){if(this.options.sliderTrackingActive&&!b(".ds2-slider--main",this.options.$element).hasClass("ds2-slider--sound")){var f=
this._createTrackingObj();f&&(f.numSlides=this.options.sliderSize,a&&(f.eventAction=a),c&&(f.eventTrack=c),d&&(f.cause=d,this.options.lastEventName=f.eventName),b(".ds2-slider--main",this.options.$element).trigger("sliderChanged",f))}};h.initSliderBottom=function(a,c,d,e){c.hasClass("slick-initialized")||(this.options.sliderBottom.on("init",function(){2!==a.options.view&&4!==a.options.view||!b('.slick-cloned [data-loader\x3d"amdLoader"]',c).length||require(["componentInitializer"],function(a){a.initAll(b(".slick-cloned",
c))});a.options.$bottomsliderList=b(".slick-list",c);a.accessibility.makeElementInactive(a.options.$bottomsliderList);a.accessibility.makeAllLinksInSliderUnfocusable(c);a.accessibility.makeLinksInCurrentSlideFocusable(c)}),this.options.sliderBottom=c.slick({centerPadding:this.options.centerPadding,centerMode:this.options.centerMode,focusOnSelect:!1,arrows:d,prevArrow:this.options.prevArrowHtml,nextArrow:this.options.nextArrowHtml,infinite:this.options.sliderInfinite,slidesToShow:this.options.slidesToShow,
slidesToScroll:1,waitForAnimate:!1,asNavFor:e,autoplay:this.options.sliderAutoPlay,autoplaySpeed:5E3,pauseOnHover:!1,adaptiveHeight:this.options.adaptiveHeight,swipe:!this.options.interactionInAuthorDisabled,draggable:!this.options.interactionInAuthorDisabled,zIndex:100,rtl:!p.isLTR}),this.options.sliderBottom.on("beforeChange",function(b,f,d,k){a.accessibility.makeActiveLinksInSliderUnfocusable(c)}),this.options.sliderBottom.on("afterChange",function(b,f,d,k){a.accessibility.makeLinksInCurrentSlideFocusable(c)}))};
h._createTrackingObj=function(){try{var a={},c=b(".ds2-slider--slide.slick-active",this.element),d=b(c).first().find("img");a.currentSlide=this.options.currentSlide;if(d.data("tracking-event")&&d.data("tracking-event").eventInfo&&d.data("tracking-event").eventInfo.eventName)a.eventName=d.data("tracking-event").eventInfo.eventName;else{var e=b(d).children()[0];e=b(e).hasClass("ds2-slider--video-player-opener");if(e){var m=b('div[data-slick-index\x3d"'+a.currentSlide+'"]:has(h4)');m=0<m.length?b(m)[1]:
b(m)[0]}else m=b('div[data-slick-index\x3d"'+a.currentSlide+'"]:has(h4)')[0];m=b(m).find("h4");a.eventName=b(m).text().trim()}var h=b(c).data("tracking-headline");a.target=h&&0<h.length?h:d.attr("src");a.timeStamp=Date.now();if(!0===this.options.sliderAutoPlay)a.cause=this.options.AUTOMATIC;else{var g=window.digitals2.responsivePlus.responsivePlusDeviceGet();!0===this.options.isImage?(a.cause=this.options.IMAGE,a.element="Image"):0===g?(a.cause=this.options.ICON,a.element="Button"):(a.cause=this.options.SWIPE,
a.element="Other")}return a}catch(n){console.log(n)}};h.sliderUpdate=function(a,b){this.options.fullscreenModeInPlayerIsActive=!1;if(!a.hasClass("ds2-slider-lightbox")&&!this.options.fullscreenModeInPlayerIsActive){if("ds2ResizeSmall"===window.digitals2.resizeEvents.mediaQueryWatcherCheck()){var c=this.options.centerModeSmall;var f=this.options.centerPaddingSmall;var d=1;var e=a.hasClass("ds2-slider--bottom")?!1:this.options.arrowsMedium}else"ds2ResizeMedium"===window.digitals2.resizeEvents.mediaQueryWatcherCheck()?
(c=this.options.centerModeMedium,f=this.options.centerPaddingMedium,d=this.options.slidesToShowMedium?this.options.slidesToShowMedium:1,e=a.hasClass("ds2-slider--bottom")?!1:this.options.arrowsMedium,0<this.options.$element.find(".ds2-slider--main.ds2-slider--twoColumns").length&&(d=2)):"ds2ResizeLarge"===window.digitals2.resizeEvents.mediaQueryWatcherCheck()&&(c=this.options.centerMode,f=this.options.centerPadding,d=this.options.slidesToShow,e=!0);void 0===b&&(b=!1);a.slick("slickGetOption","centerMode")!==
c&&(a.slick("slickSetOption","centerMode",c,!1),b=!0);a.slick("slickGetOption","centerPadding")!==f&&(a.slick("slickSetOption","centerPadding",f,!1),b=!0);a.slick("slickGetOption","slidesToShow")!==d&&(a.slick("slickSetOption","slidesToShow",d,!1),b=!0);a.slick("slickGetOption","arrows")!==e&&(a.slick("slickSetOption","arrows",e,!1),b=!0);!0===b&&a.slick("slickSetOption","arrows",e,!0)}};h.attachClickEvents=function(){var a=this,c=b(".ds2-slider--slide",this.options.slider);c.off("touchstart mousedown touchmove mousemove touchend mouseup");
c.on("touchstart mousedown",function(b){a.options.swipeStarted=!1});c.on("touchmove mousemove",function(b){a.options.swipeStarted=!0});c.on("touchend mouseup",function(b){if(!a.options.swipeStarted){var c=a.options.slider.find(".slick-active");a.options.slider.hasClass("ds2-slider-clickable")&&1===c.length&&(c=a.options.slider.slick("slickCurrentSlide"),a.options.$element.trigger("ds2-slider-slide-clicked",c),b.preventDefault())}})};h.sliderClickableHalf=function(){var a=this;if(1!==this.options.view&&
2!==this.options.view&&!this.options.interactionInAuthorDisabled)b(".ds2-slider--slide",a.options.slider).off("click").on("click",function(c){var d=a.options.slider.find(".slick-active");a.options.slider.hasClass("ds2-slider-clickable")&&!(1<d.length)||b(c.target).parents(".ds2-buttonlist").length||b(c.target).is(".ds2-video-player--play")||b(c.target).is(".ds2-sound-player--play")||b(c.target).is(".ds2-icon--play-white")||b(c.target).is(".ds2-info-icon")||(4===a.options.view?(c=b(this).closest(".slick-slider").find(".slick-active").index(this),
a.options.slider.hasClass("ds2-slider-navVisible")?a.options.sliderSize<=a.options.slider.slick("slickGetOption","slidesToShow")?a.options.$element.trigger("ds2-slider-slide-clicked",c):(c=a.options.slider.slick("slickCurrentSlide")+c,a.options.slider.slick("slickGoTo",c)):0===c?a.options.slider.slick("slickPrev"):a.options.slider.slick("slickNext")):(c=c.pageX-b("img",this).offset().left,d=b("img",this).width(),c>d/2?a.options.slider.slick("slickNext"):a.options.slider.slick("slickPrev")))})};h.setOversizeOuterSpace=
function(){if(2===this.options.view&&b(window).width()>this.options.gridMaxWidth){var a=1680>b(window).width()?(b(window).width()-1200)/2+"px":"240px";this.options.slider.slick("slickSetOption","centerPadding",a,!0);b(".slick-prev, .slick-next",this.options.slider).css("width",a);this.options.sliderOversizeInit=!0}else 2===this.options.view&&(a="ds2ResizeSmall"===window.digitals2.resizeEvents.mediaQueryWatcherCheck()?this.options.centerPaddingSmall:"ds2ResizeMedium"===window.digitals2.resizeEvents.mediaQueryWatcherCheck()?
this.options.centerPaddingMedium:"37px")&&a!==this.options.slider.slick("slickGetOption","centerPadding")&&this.options.slider.slick("slickSetOption","centerPadding",a,!0)};h._videoOpenerInit=function(a){var c=this;if(c.options.noSliding){var d=b(".ds2-slider--slide .ds2-slider--video-player-opener",this.options.$element).data("id");var e=b(".ds2-slider--slide .ds2-slider--video-player-opener",this.options.$element).find(".ds2-video-player--play");var h=b(".ds2-slider--video-single",this.options.$element);
0<h.length&&h.toggleClass("hide",!0)}else{if(!0===c.options.centerMode){var g=b(".slick-active.slick-center",this.options.$element);if(-1<a)for(var q=0;q<g.length;q++){var n=b(g[q]);n.data("slick-index")==a&&b(".ds2-slider--video-player-opener",n).data("id")&&(d=b(".ds2-slider--video-player-opener",n).data("id"))}else d=b(".slick-active.slick-center .ds2-slider--video-player-opener",this.options.$element).data("id")}else d=b(".slick-active .ds2-slider--video-player-opener",this.options.$element).data("id");
e=b(".slick-active .ds2-slider--video-player-opener",this.options.$element).find(".ds2-video-player--play");0===e.length&&this.options.$element.hasClass(this.classes.sliderKeyboard)&&(a=b(".ds2-slider--video-player-opener",this.options.$element),e=a.find(".ds2-video-player--play"),d=a.data("id"))}c.options.$element.on("stopAllVideos allVideosStopped",function(){e.removeClass("hidden")});b(e,this.options.$element).off("click touchend").on("click touchend",function(a){if(digitals2.tracking.eventBuilder){var f=
b(a.target).closest(".ds2-slider");a="Open video";var k="",g="";e.toggleClass("hidden");f=b(".slick-current, .slick-active",f);1<f.length&&(a=b(f[1]).text().trim());if(f=c.options.noSliding?h.find(".ds2-tracking-js--event").first().data("tracking-event"):b("#"+d).find(".ds2-tracking-js--event").first().data("tracking-event"))k=f.eventInfo.target?f.eventInfo.target:"",g=f.eventInfo.element?f.eventInfo.element:"";a=digitals2.tracking.eventBuilder.newEvent().eventName(a).eventAction("Open video").target(k).element(g).build();
b(window).trigger("video-open",a)}c._videoOverlayOpen(d)});b(window).on("resize",function(a){c._videoOverlayUpdate();c.fixSliderHeight()})};h._videoOverlayOpen=function(a){var c=b(".ds2-slider--video-container",this.options.$element),d=b("#"+a,c),e=window.ds2.cl.ds2Videoplayer,h="";if(d.length){this.options.activeLayerVideoId=a;this._videoOverlayUpdate();this.autoPlayDisable();c.removeClass("hide");d.removeClass("hide");for(var g=0;g<e.length;++g)e[g].options.parentID===a&&e[g].invokeFromLayer();
digitals2.tracking.eventBuilder&&((a=d.find(".ds2-tracking-js--event").first().data("tracking-event"))&&(h=a.eventInfo.target?a.eventInfo.target:""),b(window).trigger("video-start",digitals2.tracking.eventBuilder.newEvent().eventName("Start video").eventAction("Start video").target(h).build()))}c.trigger(this.events.videoOverlayOpen)};h._clearVideoLayer=function(a){a=b("#"+a);a.find(".s7videotime").remove();a.find(".s7iconeffect").remove();a.find(".s7videoplayer").empty();a.find(".s7controlbar").empty()};
h._videoOverlayClose=function(){var a=b(".ds2-slider--video-container",this.options.$element),c=b(".ds2-slider--video-single",this.options.$element);c&&(a.addClass("hide"),c.addClass("hide"));this.options.activeLayerVideoId=null;this.options.$element.trigger("allVideosStopped")};h._videoLayerCalculatePosition=function(){};h._videoOverlayUpdate=function(){var a=b(".ds2-slider--video-player-opener",this.options.$element).parent().not(".slick-cloned").find('[data-id\x3d"'+this.options.activeLayerVideoId+
'"]').parent();0>=a.length||(a=a.find(".ds2-video-player--img-outer").innerWidth(),!1===this.options.fullscreenModeInPlayerIsActive&&b(".ds2-slider--video-container",this.options.$element).css({top:0,left:"50%","margin-left":-a/2,width:a,position:"absolute"}))};h.playVideo=function(){};h.stopAllVideos=function(){this.options.$element.trigger("stopAllVideos");this.options.slider.hasClass("ds2-slider--sound")||this._videoOverlayClose()};h.checkEventsToDisableAutoplay=function(){var a=this;b(".slick-prev, .slick-next",
this.options.slider).on("click",function(){a.autoPlayDisable()});this.options.$element.on("autoPlayDisable",function(){a.autoPlayDisable()})};h.autoPlayDisable=function(){this.options.noSliding||!0!==this.options.slider.slick("slickGetOption","autoplay")||(this.options.slider.slick("slickPause"),this.options.slider.slick("slickSetOption","autoplay",!1,!1),this.options.sliderBottom.slick("slickPause"),this.options.sliderBottom.slick("slickSetOption","autoplay",!1,!1))};h.showNavButtons=function(){var a=
this;this.options.slider.on("mouseenter",function(){a.options.slider.hasClass("ds2-slider-navVisible")||a.options.$element.hasClass(a.classes.sliderKeyboard)||b(".slick-prev, .slick-next",this).css("opacity",1)}).on("mouseleave",function(){a.options.slider.hasClass("ds2-slider-navVisible")||a.options.$element.hasClass(a.classes.sliderKeyboard)||b(".slick-prev, .slick-next",this).css("opacity",0)})};h.navButtonsUpdate=function(){var a=b(".slick-prev",this.options.slider),c=b(".slick-next",this.options.slider);
if(!(1>=this.options.sliderSize)&&this.options.slider.hasClass("ds2-slider-navVisible")){a.css("opacity",1);c.css("opacity",1);var d,e=b(".slick-slide img",this.options.slider).first().height()/2-a.height()/2;var g="small"===this.options.mq?d=-12.5:d=-27.5;isNaN(d)||isNaN(g)||void 0===e||(p.isLTR?(c.css({position:"absolute",right:d,top:e}),a.css({position:"absolute",left:g,top:e})):(c.css({position:"absolute",left:d,top:e}),a.css({position:"absolute",right:g,top:e})))}};h.setTriggerTrack=function(){var a=
this;a.options.$element.find(".ds2-icon--download-white").off("click").on("click",function(c){c={};c.eventPoints="image-"+a.options.currentSlide;c.eventName=b(this).attr("download");c.timeStamp=Date.now();c.eventAction="Download";c.target=b(this).attr("download");var d=b(this).data("tracking-event");b(this).data("tracking-options");c.mmdr=d.category.mmdr;b(".ds2-slider--main",a.options.$element).trigger("download-image",c)})};h.destroyLightbox=function(){b(".ds2-slider--zoom",this.options.$element).off("click")};
h.initLightbox=function(){var a=this;b(".ds2-slider--zoom",a.options.$element).off("click").on("click",function(c){a.autoPlayDisable();c="#"+b(this).attr("data-lightbox-id");var d=b(this).closest(".ds2-slider--slide").data("slick-index"),e=b(".ds2-slider-lightbox",c);e.slick("slickGoTo",d,!0);setTimeout(function(){a.sliderUpdate(e);e.slick("slickGoTo",d)},750);e.parent().find(".ds2-icon--download-white").off("click").on("click",function(c){var d={},e=b(this).closest(".ds2-slider-lightbox").slick("slickCurrentSlide");
d.eventPoints="image-"+e;d.eventName=b(this).data("tracking-options").name;d.timeStamp=Date.now();d.eventAction="Download";d.target=b(this).attr("download");e=b(this).data("tracking-event");b(this).data("tracking-options");d.mmdr=e.category.mmdr;b(".ds2-slider--main",a.options.$element).trigger("download-image",d);c.stopPropagation()});a.trackSlider("Open image","open_image")});var c=a.options.$element.find('a[data-component-path\x3d"ds2-lightbox-trigger"]');c.length&&c.each(function(a){var c=b(this);
c.targetSelector="[data-lightbox-id\x3d"+c.data("lightboxTargetId")+"]";var d=document.querySelector(c.targetSelector);c[0].addEventListener("click",function(){d.Lightbox&&d.Lightbox.openLightbox(c[0])})})};h.addKeyboardSupport=function(){var a=this;this.accessibility.addKeyListener("up",{element:this.options.$element,keyCodes:[this.accessibility.keyCodes.TAB],fn:function(){a.updateKeyboardSupport()}});this.accessibility.addKeyListener("down",{element:this.options.$element,keyCodes:[this.accessibility.keyCodes.ARROW_LEFT,
this.accessibility.keyCodes.ARROW_RIGHT],fn:function(){a.updateKeyboardSupport();a.accessibility.focusElement(a.options.$sliderList)}});this.multimediaGalleryAccessibility.addKeyboardSupport()};h.updateKeyboardSupport=function(){var a=this;this.options.sliderAutoPlay&&(this.accessibility.deactivateAutoplayInSlick(this.options.slider),this.accessibility.deactivateAutoplayInSlick(this.options.sliderBottom),this.options.sliderAutoPlay=!1);this.options.sliderInfinite&&(this.accessibility.deactivateInfiniteLoopingInSlick(this.options.slider),
setTimeout(function(){a.accessibility.deactivateInfiniteLoopingInSlick(a.options.sliderBottom)},0),this.options.sliderInfinite=!1);this.options.hasKeyboardSupport||(this.options.$element.addClass(this.classes.sliderKeyboard),this.options.$sliderList.before(b(".slick-prev",this.options.slider)),this.multimediaGalleryAccessibility.updateKeyboardSupport(),this.options.hasKeyboardSupport=!0)};h.updateScreenReaderSupport=function(){var a=this;5===a.options.view&&(a.options.slider.find(".slick-slide:not(.slick-cloned)").each(function(b,
c){a.accessibility.makeElementReadable(c)}),a.options.sliderBottom.find(".slick-slide:not(.slick-cloned)").each(function(b,c){a.accessibility.makeElementReadable(c)}))};return l});require(["ds2-slider"],function(b){$(".ds2-slider").not("[data-loader\x3d'amdLoader']").each(function(){return new b(this)});$(window).trigger("ds2-slider-ready")});