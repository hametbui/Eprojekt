var _extends=Object.assign||function(f){for(var l=1;l<arguments.length;l++){var h=arguments[l],g;for(g in h)Object.prototype.hasOwnProperty.call(h,g)&&(f[g]=h[g])}return f},_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};
(function(f,l){"object"===("undefined"===typeof exports?"undefined":_typeof(exports))&&"undefined"!==typeof module?module.exports=l():"function"===typeof define&&define.amd?define(l):f.LazyLoad=l()})(this,function(){function f(a,b){if(b)if(b.length)for(var c=0,d;d=b[c];c+=1)q(a,d);else q(a,b)}function l(a,b,c){var d=b._settings;if(c||"true"!==k(a,"was-processed")){(c=d.callback_enter)&&c(a);-1<z.indexOf(a.tagName)&&(A(a,b),r(a,d.class_loading));c=b._settings;var e=B[a.tagName];e?(e(a,c),b._updateLoadingCount(1),
b._elements=C(b._elements,a)):(b=m&&c.to_webp,e=k(a,c.data_src),c=k(a,c.data_bg),e&&(e=h(e,b),a.style.backgroundImage='url("'+e+'")'),c&&(b=h(c,b),a.style.backgroundImage=b));n(a,"was-processed","true");(d=d.callback_set)&&d(a)}}var h=function(a,b){return b?a.replace(/\.(jpe?g|png)/gi,".webp"):a},g="undefined"!==typeof window,t=g&&!("onscroll"in window)||"undefined"!==typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),D=g&&"IntersectionObserver"in window,u=g&&"classList"in
document.createElement("p"),E=g&&"createImageBitmap"in window,F=g&&"fetch"in window,m=!1;(function(a){return E&&F?fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA\x3d").then(function(b){return b&&"undefined"!==typeof b.blob?b.blob():a(!1)}).then(function(b){return window.createImageBitmap(b)?a(!0):a(!1)}):a(!1)})(function(a){m=a});var G={elements_selector:"img",container:t||g?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",
data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,callback_load:null,callback_error:null,callback_set:null,callback_enter:null,callback_finish:null,to_webp:!1},k=function(a,b){return a.getAttribute("data-"+b)},n=function(a,b,c){b="data-"+b;null===c?a.removeAttribute(b):a.setAttribute(b,c)},H=function(a){return a.filter(function(a){return"true"!==k(a,"was-processed")})},C=function(a,b){return a.filter(function(a){return a!==b})},q=function(a,b){a=new a(b);
try{var c=new CustomEvent("LazyLoad::Initialized",{detail:{instance:a}})}catch(d){c=document.createEvent("CustomEvent"),c.initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:a})}window.dispatchEvent(c)},w=function(a,b,c,d){for(var e=0,f;f=a.children[e];e+=1)if("SOURCE"===f.tagName){var g=k(f,c);g&&f.setAttribute(b,h(g,d))}},B={IMG:function(a,b){var c=m&&b.to_webp,d=b.data_srcset,e=a.parentNode;e&&"PICTURE"===e.tagName&&w(e,"srcset",d,c);(e=k(a,b.data_sizes))&&a.setAttribute("sizes",h(e,void 0));
(d=k(a,d))&&a.setAttribute("srcset",h(d,c));(b=k(a,b.data_src))&&a.setAttribute("src",h(b,c))},IFRAME:function(a,b){(b=k(a,b.data_src))&&a.setAttribute("src",h(b,void 0))},VIDEO:function(a,b){b=b.data_src;var c=k(a,b);w(a,"src",b);c&&a.setAttribute("src",h(c,void 0));a.load()}},r=function(a,b){u?a.classList.add(b):a.className+=(a.className?" ":"")+b},I=function(a,b,c){a.addEventListener("load",b);a.addEventListener("loadeddata",b);a.addEventListener("error",c)},x=function(a,b,c){var d=c._settings,
e=b?d.class_loaded:d.class_error;b=b?d.callback_load:d.callback_error;a=a.target;d=d.class_loading;u?a.classList.remove(d):a.className=a.className.replace(new RegExp("(^|\\s+)"+d+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"");r(a,e);b&&b(a);c._updateLoadingCount(-1)},A=function(a,b){var c=function v(c){x(c,!0,b);c=d;a.removeEventListener("load",v);a.removeEventListener("loadeddata",v);a.removeEventListener("error",c)},d=function J(d){x(d,!1,b);a.removeEventListener("load",c);a.removeEventListener("loadeddata",
c);a.removeEventListener("error",J)};I(a,c,d)},z=["IMG","IFRAME","VIDEO"],y=function(a){var b=k(a,"ll-timeout");b&&(clearTimeout(b),n(a,"ll-timeout",null))},K=function(a,b,c){var d=c._settings.load_delay,e=k(a,"ll-timeout");e||(e=setTimeout(function(){l(a,c);b.unobserve(a);y(a)},d),n(a,"ll-timeout",e))},p=function(a,b){this._settings=_extends({},G,a);this._setObserver();this._loadingCount=0;this.update(b)};p.prototype={_manageIntersection:function(a){var b=this._observer,c=a.target;if(this._settings.load_delay)a.isIntersecting||
0<a.intersectionRatio?K(c,b,this):y(c);else if(a.isIntersecting||0<a.intersectionRatio)l(c,this),b.unobserve(c)},_onIntersection:function(a){a.forEach(this._manageIntersection.bind(this))},_setObserver:function(){if(D){var a=IntersectionObserver,b=this._onIntersection.bind(this),c=this._settings;this._observer=new a(b,{root:c.container===document?null:c.container,rootMargin:c.thresholds||c.threshold+"px"})}},_updateLoadingCount:function(a){this._loadingCount+=a;0===this._elements.length&&0===this._loadingCount&&
(a=this._settings.callback_finish)&&a(void 0)},update:function(a){var b=this,c=this._settings;a=a||c.container.querySelectorAll(c.elements_selector);this._elements=H(Array.prototype.slice.call(a));t||!this._observer?this.loadAll():this._elements.forEach(function(a){b._observer.observe(a)})},destroy:function(){var a=this;this._observer&&(this._elements.forEach(function(b){a._observer.unobserve(b)}),this._observer=null);this._settings=this._elements=null},load:function(a,b){l(a,this,b)},loadAll:function(){var a=
this;this._elements.forEach(function(b){a.load(b)})}};g&&f(p,window.lazyLoadOptions);return p});