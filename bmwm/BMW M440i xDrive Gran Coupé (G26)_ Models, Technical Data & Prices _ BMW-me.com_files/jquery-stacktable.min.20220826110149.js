(function(a){a.fn.stacktable=function(e){var c=a.extend({},{id:"stacktable small-only",hideOriginal:!0,headIndex:0},e);headIndex=e&&e.headIndex?e.headIndex:0;return this.each(function(){var b=a(this).prop("class");b=a('\x3ctable class\x3d" '+b+" "+c.id+'"\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3c/table\x3e');b.addClass(c.myClass);var d="";$table=a(this);$table.addClass("stacktable large-only");$caption=$table.find("caption").clone();$topRow=$table.find("tr").eq(0);$table.find("tr").each(function(b,c){bodyMarkup=
headMarkup="";tr_class=a(this).prop("class");0===b?d+='\x3ctr class\x3d" '+tr_class+' "\x3e\x3cth class\x3d"st-head-row st-head-row-main" colspan\x3d"2"\x3e'+a(this).find("th,td").eq(headIndex).html()+"\x3c/th\x3e\x3c/tr\x3e":(a(this).find("td,th").each(function(b,c){b===headIndex?headMarkup='\x3ctr class\x3d"'+tr_class+'"\x3e\x3cth class\x3d"st-head-row" colspan\x3d"2"\x3e'+a(this).html()+"\x3c/th\x3e\x3c/tr\x3e":""!==a(this).html()&&(bodyMarkup+='\x3ctr class\x3d"'+tr_class+'"\x3e',bodyMarkup=$topRow.find("td,th").eq(b).html()?
bodyMarkup+('\x3ctd class\x3d"st-key"\x3e'+$topRow.find("td,th").eq(b).html()+"\x3c/td\x3e"):bodyMarkup+'\x3ctd class\x3d"st-key"\x3e\x3c/td\x3e',bodyMarkup+='\x3ctd class\x3d"st-val '+a(this).prop("class")+'"\x3e'+a(this).html()+"\x3c/td\x3e",bodyMarkup+="\x3c/tr\x3e")}),d+=headMarkup+bodyMarkup)});b.prepend($caption);b.append(a(d));$table.before(b);c.hideOriginal||$table.show()})};a.fn.stackcolumns=function(e){var c=a.extend({},{id:"stacktable small-only",hideOriginal:!0},e);return this.each(function(){$table=
a(this);var b=$table.find("tr").eq(0).find("td,th").length;if(!(3>b)){var d=a('\x3ctable class\x3d"'+c.id+'"\x3e\x3c/table\x3e');d.addClass(c.myClass);$table.addClass("stacktable large-only");for(var e=a("\x3ctbody\x3e\x3c/tbody\x3e"),f=1;f<b;)$table.find("tr").each(function(b,c){c=a("\x3ctr\x3e\x3c/tr\x3e");0===b&&c.addClass("st-head-row st-head-row-main");first=a(this).find("td,th").eq(0).clone().addClass("st-key");var d=f;if(a(this).find("*[colspan]").length){var g=0;a(this).find("td,th").each(function(b,
c){(b=a(this).attr("colspan"))?(b=parseInt(b,10),d-=b-1,g+b>f&&(d+=g+b-f-1),g+=b):g++;if(g>f)return!1})}second=a(this).find("td,th").eq(d).clone().addClass("st-val").removeAttr("colspan");c.append(first,second);e.append(c)}),++f;d.append(a(e));$table.before(d);c.hideOriginal||$table.show()}})}})(jQuery);