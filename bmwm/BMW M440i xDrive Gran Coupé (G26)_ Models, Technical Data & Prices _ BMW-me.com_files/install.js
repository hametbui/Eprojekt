(function(){var p=function(){function i(t){this.key="jsErrors",this.counter=0,this.errors={},this.options=t}return i.prototype.on=function(t,e){(this.options&&this.options.afterDCL?e.onDOMInteractive:function(r){return r()})(function(){window.addEventListener("error",function(r){var n=i.errorEventToError(r);n&&t(n)}),window.addEventListener("unhandledrejection",function(r){var n=i.rejectionEventToError(r);n&&t(n)})})},i.prototype.append=function(t){var e=t.stackTrace&&t.stackTrace.split("\n")[0];return this.options&&this.options.maxPerPi&&this.counter>=this.options.maxPerPi||this.errors[e]?null:(this.errors[e]=!0,this.counter+=1,t)},i.errorEventToError=function(t){return t.error?{message:t.error.message,stackTrace:t.error.stack,timestamp:Date.now()}:null},i.rejectionEventToError=function(t){var e=t.reason instanceof Error;return{message:e?t.reason.message:JSON.stringify(t.reason),stackTrace:e?t.reason.stack:null,timestamp:Date.now()}},i}();var l=function(){function i(){}return i.prototype.track=function(t){var e=this;t.onSpeedKitLoaded(function(){e.sendData(t),e.sendOriginData(t)}),t.onDfDataReady(function(){return e.sendOriginData(t)}),window.addEventListener("pagehide",function(){return e.sendData(t)})},i.prototype.sendData=function(t){if(SpeedKit.dynamicBlocks){var e={start:t.calculateRelative(SpeedKit.dynamicBlocks.start),status:SpeedKit.dynamicBlocks.status,received:t.calculateRelative(SpeedKit.dynamicBlocks.received),complete:t.calculateRelative(SpeedKit.dynamicBlocks.complete),errors:SpeedKit.dynamicBlocks.errors,localBlocks:SpeedKit.dynamicBlocks.localBlocks,remoteBlocks:SpeedKit.dynamicBlocks.remoteBlocks,mergedBlocks:SpeedKit.dynamicBlocks.mergedBlocks};t.set("dynamicFetcher",e)}},i.prototype.sendOriginData=function(t){SpeedKit.dynamicBlocks&&(t.set("originTTFB",SpeedKit.dynamicBlocks.originTTFB,!1),t.setTiming("originResponseStart",SpeedKit.dynamicBlocks.originResponseStart,!1))},i}();var f=function(){function i(){var t=this;this.time=0,this.key="largestContentfulPaint",this.isSupported()&&(this.po=new PerformanceObserver(function(e){var r=e.getEntries(),n=r[r.length-1];t.time=Math.round(n.startTime)}),this.po.observe({type:"largest-contentful-paint",buffered:!0}))}return i.prototype.on=function(t,e){e.onLeavePage(t),["keydown","click"].forEach(function(r){addEventListener(r,function(n){n.isTrusted&&t()},{capture:!0})})},i.prototype.set=function(){return this.po&&this.po.disconnect(),this.time?this.time:null},i.prototype.isSupported=function(){return typeof PerformanceObserver!="undefined"&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.indexOf("largest-contentful-paint")>=0},i}();var d=function(){function i(){var t=this;if(this.clsValue=null,this.sessionValue=0,this.clsEntries=[],this.sessionEntries=[],this.key="cumulativeLayoutShift",this.on="leavePage",this.isSupported()){this.clsValue=0,this.clsEntries=[],this.sessionValue=0,this.sessionEntries=[],this.po=new PerformanceObserver(function(r){for(var n=0,o=r.getEntries();n<o.length;n++){var a=o[n];e(a)}});var e=function(r){var n=r;if(!n.hadRecentInput){var o=t.sessionEntries[0],a=t.sessionEntries[t.sessionEntries.length-1];t.sessionValue&&r.startTime-a.startTime<1e3&&r.startTime-o.startTime<5e3?(t.sessionValue+=n.value,t.sessionEntries.push(n)):(t.sessionValue=n.value,t.sessionEntries=[n]),t.sessionValue>t.clsValue&&(t.clsValue=t.sessionValue,t.clsEntries=t.sessionEntries)}};this.po.observe({type:"layout-shift",buffered:!0})}}return i.prototype.set=function(){return typeof this.clsValue=="number"?this.clsValue:null},i.prototype.isSupported=function(){return typeof PerformanceObserver!="undefined"&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.indexOf("layout-shift")>=0},i}();var m=function(){function i(){this.data={},this.startTimestamp=Date.now(),this.listenerOpts={passive:!0,capture:!0}}return i.prototype.track=function(t){if(this.controller=t,this.listenScrollEvent(),this.isPerformanceObserverSupported())this.listenWithPerformanceObserver();else try{this.listenForInputEvents()}catch(e){}},i.prototype.listenScrollEvent=function(){var t=this,e=function(r){try{if(window.removeEventListener("scroll",e),t.data.firstInteractionTime)return;t.data.firstInteractionTime=t.calculateFirstInteractionTime(r.timeStamp),t.executeTracking()}catch(n){}};window.addEventListener("scroll",e)},i.prototype.isPerformanceObserverSupported=function(){return typeof PerformanceObserver!="undefined"&&PerformanceObserver.supportedEntryTypes!==void 0&&PerformanceObserver.supportedEntryTypes.indexOf("first-input")>=0},i.prototype.calculateInputDelay=function(t){return(t.timeStamp>1e12?Date.now():performance.now())-t.timeStamp},i.prototype.calculateFirstInteractionTime=function(t){return t>1e12?t-performance.timing.navigationStart:t},i.prototype.listenWithPerformanceObserver=function(){var t=this;new PerformanceObserver(function(e){var r=e.getEntries(),n=r[r.length-1],o=n.processingStart,a=n.startTime;t.data.firstInputDelay=o-a,t.data.firstInputTime=t.calculateFirstInteractionTime(a),t.data.firstInteractionTime||(t.data.firstInteractionTime=t.data.firstInputTime),t.executeTracking()}).observe({type:"first-input",buffered:!0})},i.prototype.executeTracking=function(){this.controller&&(this.controller.set("firstInputDelay",this.data.firstInputDelay!==void 0?Math.round(this.data.firstInputDelay):void 0),this.controller.set("firstInput",this.data.firstInputTime?Math.round(this.data.firstInputTime):void 0),this.controller.set("firstInteraction",this.data.firstInteractionTime?Math.round(this.data.firstInteractionTime):void 0))},i.prototype.listenForInputEvents=function(){this.eachEventType(addEventListener)},i.prototype.removeInputEventListeners=function(){this.eachEventType(removeEventListener)},i.prototype.calculateFirstInteractionData=function(t){this.data.firstInputDelay!==void 0||this.data.firstInputTime||(this.data.firstInputDelay=this.calculateInputDelay(t),this.data.firstInputTime=this.calculateFirstInteractionTime(t.timeStamp),this.data.firstInteractionTime||(this.data.firstInteractionTime=this.data.firstInputTime),this.removeInputEventListeners(),this.notifyFirstInputDelayIfValid())},i.prototype.notifyFirstInputDelayIfValid=function(){this.data.firstInputTime&&this.data.firstInputDelay!==void 0&&this.data.firstInputDelay>=0&&this.data.firstInputDelay<Date.now()-this.startTimestamp&&this.executeTracking()},i.prototype.onPointerDown=function(t){var e=this,r=function(){e.calculateFirstInteractionData(t),o()},n=function(){o()},o=function(){try{removeEventListener("pointerup",r,e.listenerOpts),removeEventListener("pointercancel",n,e.listenerOpts)}catch(a){}};addEventListener("pointerup",r,this.listenerOpts),addEventListener("pointercancel",n,this.listenerOpts)},i.prototype.onInteraction=function(t){try{if(!t.cancelable||!t.isTrusted)return;if(t.type==="pointerdown")return this.onPointerDown(t);this.calculateFirstInteractionData(t)}catch(e){}},i.prototype.eachEventType=function(t){var e=this;["click","mousedown","keydown","touchstart","pointerdown"].forEach(function(r){return t(r,e.onInteraction.bind(e),e.listenerOpts)})},i}();(function(){if(window!==window.top)return;window.SpeedKit=window.SpeedKit||{},SpeedKit.rumPlugins=[new f,new d,new p,new m,new l,{key:"pageType",type:"PiDimension",on:i,set:function(){var t=window.dataLayer,e=t.pages&&t.pages[0].page&&t.pages[0].page.attributes&&t.pages[0].page.attributes.template;if(e)return e.substring(e.lastIndexOf("/")+1)}},{key:"pageTypeEnabled",type:"PiDimension",on:"domInteractive",set:function(){var t=null;try{var e=!0;window.speedKit&&speedKit.enabledSites&&(e=speedKit.enabledSites.some(function(n){return n.pathname?n.pathname.some(function(o){return typeof o!="string"?o.test(location.pathname):location.pathname.indexOf(o)===0}):!1}));var r=!1;window.speedKit&&speedKit.disabledSites&&(r=speedKit.disabledSites.some(function(n){return n.pathname?n.pathname.some(function(o){return typeof o!="string"?o.test(location.pathname):location.pathname.indexOf(o)===0}):!1})),t=e&&!r?"true":"false"}catch(n){}return t}}],window.location.host==="www.bmw.de"&&SpeedKit.rumPlugins.push({on:function(t,e){e.onDOMInteractive(function(){var r=!1,n=function(){r||(r=!0,setTimeout(t,1e3),["keydown","click","scroll"].forEach(function(o){window.removeEventListener(o,n)}))};["keydown","click","scroll"].forEach(function(o){window.addEventListener(o,n)})})},track:function(t){function e(c,u){var s=c.top,h=c.bottom;return s>=0&&h<=u}function r(c){var u=[];return Array.from(c).slice(0,20).forEach(function(s){s.naturalWidth!==0&&u.push({src:s.src,width:s.width,height:s.height,srcWidth:s.naturalWidth,srcHeight:s.naturalHeight,isAboveFold:e(s.getBoundingClientRect(),window.innerHeight)})}),u}var n=document.getElementsByTagName("img"),o=r(n),a={width:window.innerWidth,height:window.innerHeight};t.trackCustomEvent("imageMetaData",JSON.stringify({userWindow:a,images:o}))}});function i(t,e){e.onDOMInteractive(function(){function r(){var n=window.dataLayer;if(!n){setTimeout(r,500);return}t()}r()})}})();})();
(function(){(function(){var m=function(){var t=navigator.userAgent.toLowerCase(),o=t.indexOf("edge")>-1,a=!o&&t.indexOf("chrome")>-1,n=!a&&t.indexOf("safari")>-1;if(n){var s=t.match(/version\/([\d+\.]+)\s/i);if(s)return s[1]>="14"}return!0}(),e=["https://www.bmw.co.uk","https://www.bmw.de","https://www.bmw.at","https://www.bmw.ie","https://www.bmw.com.cy","https://www.bmw.mu","https://www.bmw.com.mt","https://www.bmw-m.com","https://www.bmw.co.jp","https://www.bmw.co.kr","https://www.bmw.ru","https://www.bmw.com.tr","https://www.bmw.com.mx","https://www.bmw.co.th","https://www.bmw.com.my","https://www.bmw.com.tw","https://www.bmw-voli.me","https://www.bmw.co.za","https://www.bmw.cl","https://www.bmw.co.id","https://www.bmw.ua","https://www.bmw.com.co","https://www.bmwhk.com","https://www.bmw.com.ar","https://www.bmw.co.il","https://www.bmw.com.sg","https://www.bmw.rs","https://www.bmw.ma","https://www.bmw.vn","https://www.bmw.com.ec","https://www.bmw.com.pe","https://www.bmw-egypt.com","https://www.bmw.com.ph","https://www.bmw.mq","https://www.bmw.lk","https://www.bmw.md","https://www.bmw.tm.dz","https://www.bmw.com.uy","https://www.bmw.com.mo","https://www.bmw.com.do","https://www.bmw.ba","https://www.bmw.hr","https://www.bmw.co.nz","https://www.bmw-me.com","https://www.bmw.co.cr","https://www.bmw.com.mk","https://www.bmw-tunisia.com","https://www.bmw.by","https://www.bmw-kz.com","https://www.bmw.com.py","https://www.bmw.com.pa","https://www.bmw.com.gt","https://www.bmw.es","https://www.bmw.gr","https://www.bmw.lt","https://www.bmw.ro","https://www.bmw.si","https://www.bmw.in","https://www.bmw.cz","https://www.bmw.pt","https://www.bmw.sk","https://www.bmw.com.bd","https://www.bmw.az","https://www.bmw.hn","https://www.bmw.com.bo","https://www.bmwjamaica.com","https://www.bmw.am","https://www.bmw.com.ge","https://www.bmw.cc","https://www.bmw.bm","https://www.bmw.pl","https://www.bmw.dk","https://www.bmw.fi","https://www.bmw.ca","https://www.bmw.it","https://www.bmw.ee","https://www.bmw.no","https://www.bmw.lv","https://www.bmw.se","https://www.bmw-tahiti.com","https://www.bmw.co.ao","https://www.bmw.tm","https://www.bmw.ci","https://www.bmw.fr","https://www.bmw.ch","https://www.bmw.lu","https://www.bmw.com.br","https://www.bmw.re","https://www.bmw.gp","https://www.bmw.bg","https://www.bmw.com.bn","https://www.bmw.tt","https://www.bmw.com.sv","https://www.bmw.nc","https://www.bmw.com.ky","https://www.bmw.co.ke","https://www.bmw.kg","https://www.bmw-nigeria.com","https://www.bmw-ghana.com","https://www.bmw.sn","https://www.bmwmyanmar.com","https://www.bmw.bb","https://www.bmw.uz","https://www.bmw.bs","https://www.bmw.lc","https://www.bmw-lao.la","https://www.bmw.cw","https://www.bmw.mn","https://www.bmw.sr","https://www.bmw-albania.com","https://www.bmw.com.kh","https://www.bmw.nl","https://www.bmw.be","https://www.bmw.hu","https://www.bmw-yemen.com","https://www.bmw.is","https://www.bmw.ly"];function w(){return e.some(function(t){return location.href.indexOf(t)>-1})}function i(){return 1}function c(){return"100"}window.speedKit={appName:"bmw",sw:"/wrapper-sw.js?r=03c1c533-4323-431f-93bd-34d72631c2ec&v=2.12.0",userAgentDetection:!1,rumTracking:w()&&window.activateSpeedKitRUM!==!1,split:i(),disabled:!w()||window.activateSpeedKit===!1,splitTestId:c(),enabledSites:[{pathname:[/\/index[\/.]/i,/\/home[\/.]/i,/\/topics[\/.]/i,/\/all-models[\/.]/i,/\/footer[\/.]/i,/\/models[\/.]/i,/\/fastlane[\/.]/i,/\/local-content[\/.]/i,"/de/neufahrzeuge","/de/neuwagensuche","/de/konfigurator","/de/landingpage/","/en/configurator","/fr/accueil","/fr/voiture-neuve","/fr/tous-les-modeles","/fr/gamme-bmw","/fr/configurateur.html","/ru/Online","/ru/general","/zh/news/","/zh/configurator","/ko/bmw-korea","/ko/discover","/ko/models","/ko/services","/tr/ssl/kampanya","/es/landing","/es/local","/es/modelos","/es/configurador","/es/integration/campana","/en/ssl/configurator","/th/ssl/configurator","/en/bmw-explore","/th/bmw-explore","/select-offers","/en_Za/integration/contact","/en/integration","/sr/ssl/Zakazivanje-serivsa.html","/es/landing-pages","/es/coches-bmw/","/es/informacion/","/es/configurator/","/es_ES/stocklocator.html","/es_ES/all-models/","/el_GR/configurator.html","/lt/konfiguratorius.html","/ro_RO/configurator.html","/sl/news-center","/pt_PT/configurator.html","/sk_SK/konfigurator.html","/pl/konfigurator.html","/APPS.html","/da/alle_modeller","/da/generelt","/da/byg-din-bmw.html","/fi/aiheet","/fi/rakenna-oma-bmw.html","/fi_FI/rakenna-oma-bmw.html","/fi/mallisto/","/it/gamma","/it_IT/configuratore.html","/et/configurator.html","/no_NO/bygg-din-bmw.html","/lv_LV/topics","/sv/bygg-din-bmw.html","/sv/alla-modeller","/sv/avdelning","/sv/sidfot","/de/bmw-neuwagen/","/de/bmw-neuwagen.html","/fidelidade","/nl/modellen.html","/nl/configurator.html","/nl/voorraad.html","/nl/specials","/nl_NL/specials","/nl/content/","/fr/configurateur.html","/hu/konfigurator.html","/hu_HU/konfigurator.html"]}],disabledSites:[{pathname:[/\?speedkit=off/i,/dealer-locator.html/i,/MyAccount.html/i,/mybmw/i,/mein-bmw/i,/mybmw-dashboard/i,/my-bmw/i,/topics\/offers-and-services\/used-automobiles\/our-offers\.html/,/\/lt\/topics\/offers-and-services\/bmw-online-store.html/,/\/content\/forms/i,/forms\/zamow-jazde-probna\/tda\.html/,"/da/generelt/kontakt/","/da_DK/topics/kontakt/",/locator\.html/,"/fi_FI/topics/contact/","/fi/aiheet/yhteydenotto/","/fi_FI/footer/contact/","/fi/footer/yhteydenotto/","/es/index.html"]}],whitelist:[{host:["www.bmw.","www.bmw-m.","www.bmw-voli.me","www.bmwhk.com","www.bmw-egypt.com","www.bmw-me.com","www.bmw-tunisia.com","www.bmw-kz.com","www.bmwjamaica.com","www.bmw-tahiti.com","www.bmwmyanmar.com","www.bmw-ghana.com","www.bmw-nigeria.com","www.bmw-lao.la","www.bmw-albania.com","www.bmw-yemen.com","assets.adobedtm.com","amplify.outbrain.com","static.criteo.net","s.pinimg.com","snap.licdn.com","bmw.admo.tv","static.iadvize.com","static.bmw.1dmp.io","static.ads-twitter.com","apps.mypurecloud.de","d.line-scdn.net","cdn.smartnews-ads.com"],contentType:["script","font","style","image","navigate"]},{url:["cdn.rutarget.ru/static/tag/tag.js","mc.yandex.ru/metrika/tag.js"]}],blacklist:[{host:m?[]:["cosystatic.bmwgroup.com","cosy.bmwgroup.com"]},{host:["api.bmw.com","api-int.bmw.com","stocklocator-dealers.bmw.com","stocklocator-dealers.bmw-int.com","c2b-services.bmw.com","c2b-services-i.bmw.com"]},{pathname:[/login/i,/\/newsletteranmeldung/i,/checkout/i,/forms/i,/video.js\/video-js.min.css/,/\/settings\/wcm\/designs\/digitals2\/static\.css/,"/libs/wcm/msm/content/touch-ui/authoring/editor.min.4117887ca0f80cf30f8b0733f367af43.css","/libs/wcm/designimporter/components/touch-ui/clientlibs/editor.min.6635a2bba6ff8cb80d66ce9ac1ad815e.css","/libs/social/integrations/livefyre/components/authorizablecomponent/clientlibs.min.bef9a2b3bfc121e9d3116ba2be989f47.css","/libs/foundation/components/form/actions/mail/clientlibs.min.61c284a8a0358337305c6c732561dc4b.css","/libs/dam/remoteassets/components/clientlibs.min.825d7f462a23d8aa3da061f2044afa08.css","/libs/dam/cfm/clientlibs/authoring.min.bcda9c34faf5a23a2273f8751b846770.css","/libs/cq/flow/components/control/split/clientlibs.min.e804d986d7b4431f17a8896976e95f0d.css","/libs/commerce/gui/components/common/assetpicker/clientlibs.min.645f48a5116fe643b2062c4f76b75d82.css","/libs/commerce/components/addtocartimage/clientlib-authoring.min.ced22610c2d571622ce7285ef3946c0d.css","/etc.clientlibs/digitals2/navigate/components/navigation/clientlibs-author.min.css","/etc.clientlibs/core/wcm/components/commons/editor/clientlibs/panelselect.min.css","/etc.clientlibs/business/dealerlocator/components/par/dealerlocator/author/granite/filterServices/clientlibs.min.prod2.1.20210827-103225.min.css","/etc.clientlibs/business/dealerlocator/components/par/dealerlocator/author/granite/filterAddress/clientlibs.min.prod2.1.20210827-103225.min.css","/etc/cloudsettings.kernel.js/libs/settings/cloudsettings/legacy/contexthub","/etc/clientlibs/digitals2/clientlib/js/app/partials/0-sub-elements/ds2-video-layer-link.min.20210317121531.min.js","/etc.clientlibs/clientlibs/digitals2/ltr+requests.min","/etc/clientlibs/digitals2/clientlib/js/app/ds2-visualizer.min","/etc.clientlibs/digitals2/topics/components/detailinformation/clientlibs.min",/\/fahrzeugsuche/,/\/lagerwagen/,/\/stock-results/,/\/stocklocator/]},{url:["www.googletagmanager.com/gtm.js","www.google.com","www.google-analytics.com","www.googletagmanager.com/gtag/js",/registration/i,/gcdm/i,/\.pdf/i,/[?&](formtype|token)=/i,/[?&](_=1\d{12})/,/[?&]clc=/,/\/override\.css/i,"stream.bmw","bmw.scene7.com","api.bmw.com",/facebook/,/assets.adobedtm.com/,/omtrdc/,/linkedin/,/pinterest/,/sslwidget.criteo/,/demdex/,/doubleclick/,/googleads/,/googleadservices/,/\/pagead\//,/nocache/,/messagebusdefinition/,"www.bmw.co.nz/h5vco/finance/apps/html5-bmw-app.css","www.bmw.in/h5vco/finance/apps/html5-bmw-app.css",/minidigital/,/c2b-localsearch/i,/services/i,/api/i]},{cookie:["speedkit=off"],contentType:["document"]},{host:["www.bmw.in"],pathname:["/etc.clientlibs/settings/wcm/designs/digitals2/resources.css"]}],stripQueryParams:[{params:["gclid","msclkid","utm_source","utm_campaign","utm_medium","utm_content","utm_term","utm-source","utm-campaign","utm-medium","utm-content","utm-term","gclsrc","fbclid","ds_rl","dclid","cjid","campaign","yclid","mkwid","ctid","ccid","tblci","DMKW","DMSKW","DMCOL","n_campaign_type","sc_src","sc_lid","sc_uid","sc_llid","sc_customer","nspid","ac_delivery_internal_name","ac_delivery_label","ac_campaign_internal_name","ac_campaign_label",/^nx$/,/^ny$/,/^tl$/,"clkt","guid","_adp_p_ad","_adp_p_agr","_adp_e","_adp_c","_adp_p_cp","_adp_p_dm","_adp_p_md","_adp_u","s_kwcid","ef_id",/_kis_cup_/,"icp","bid","cid","hemaid","hucid",,"_ga"]}]}})();})();
(function(){(function(h,v,N,a,ve,Lt,Rt){"use strict";var A="baqend-speedkit",F=A+"-user-id",Y=A+"-session-id",ie=A+"-session-index",re=A+"-session-timestamp";function he(e,t,n,i){return Promise.resolve(e).then(function(r){return new Promise(function(o,s){var c=r.transaction(t,n),l=Promise.resolve(i(c.objectStore(t)));c.oncomplete=function(){return l.then(o)},c.onabort=c.onerror=function(){return s(c.error)}})})}function me(e,t,n){return he(e,t,"readwrite",n)}function oe(e,t){return t&&t!=="/"?""+(""+(t.lastIndexOf("/")===t.length-1?t.substr(0,t.length-1):t))+((e.indexOf("/")===0?"":"/")+e):e}var ae=function(){function e(t){this.dbp=null,this.cacheName=oe(A,t),this.dbp=this.openDb()}return e.prototype.get=function(t){return(n=this.db(),i="baqend-speedkit-store",r=function(o){return o.get(t)},he(n,i,"readonly",r)).then(function(o){return o.result||null});var n,i,r},e.prototype.set=function(t,n){return me(this.db(),"baqend-speedkit-store",function(i){return i.put(n,t)&&void 0})},e.prototype.clear=function(){return Promise.all([(t=this.db(),n="baqend-speedkit-store",me(t,n,function(i){return i.clear()}).then(function(){}))]).then(function(){});var t,n},e.prototype.disconnect=function(){var t=this;return this.dbp?this.dbp.then(function(n){t.dbp=null,n.close()}):Promise.resolve()},e.prototype.db=function(){return this.dbp||(this.dbp=this.openDb()),this.dbp},e.prototype.openDb=function(){var t=this,n=indexedDB.open(this.cacheName,1);return n.onupgradeneeded=function(i){var r=i.oldVersion,o=n.result;if(r<1){if(!o)return;try{o.createObjectStore("baqend-speedkit-store")}catch(s){}}},this.openRequest(n).then(function(i){return i.onclose=function(){t.dbp=null},i.onerror=function(){t.dbp=null},i.onversionchange=function(r){r.newVersion||(t.dbp=null,i.close())},i})},e.prototype.openRequest=function(t){return new Promise(function(n,i){t.onsuccess=function(){return n(t.result)},t.onerror=function(){return i(t.error)},t.onblocked=function(){return i(t.error)}})},e}();(function(){function e(){this.map=new Map}e.prototype.get=function(t){return Promise.resolve(this.map.get(t)||null)},e.prototype.set=function(t,n){return this.map.set(t,n),Promise.resolve()},e.prototype.clear=function(){return this.map.clear(),Promise.resolve()}})();function Q(e){h.readyState!=="complete"?window.addEventListener("load",function(){return e()}):e()}var _e=1e5;function ye(e,t){var n=function(r,o){o===void 0&&(o=_e);var s=JSON.stringify(r),c=s.length;if(c<=o)return s;var l=[],p=[];Object.keys(r).forEach(function(f){var d=JSON.stringify(r[f]);l.push({name:f,size:d.length})}),l.sort(function(f,d){return d.size-f.size});for(var u=0;c>o&&l[u];)delete r[l[u].name],c-=l[u].size,p.push(l[u].name),u+=1;return r.truncatedKeys=p,JSON.stringify(r)}(t);try{if(v.sendBeacon&&v.sendBeacon(e,n))return}catch(r){}var i=new XMLHttpRequest;i.open("POST",e,!0),i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),i.send(n)}function Se(e,t){return!(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))&&typeof e==typeof t&&(Array.isArray(e)?e.length===t.length:typeof e=="object"?function(n,i){var r=0,o=0;for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)&&(r+=1,!Se(n[s],i[s])))return!1;for(var s in i)o+=1;return r===o}(e,t):e===t)}function Z(e){h.readyState==="loading"?h.addEventListener("DOMContentLoaded",function(){return e()}):setTimeout(e,0)}function Xe(e){h.querySelector("html.speed-kit-dynamic-loaded")?setTimeout(e,0):h.addEventListener("speed-kit-loaded",function(){return e()})}var Ye=function(){function e(){this.dataLayerObservers=[]}return e.prototype.onDataLayer=function(t){if(!this.dataLayerObservers.length){var n=this.dataLayerObservers;this.observeDataLayer(function(){for(var i=function(l){var p=r;setTimeout(function(){l.apply({},p)},0)},r=arguments,o=0,s=n;o<s.length;o++){var c=s[o];i(c)}})}this.dataLayerObservers.push(t)},e.prototype.onDataLayerReady=function(t){this.waitForDataLayer(t)},e.prototype.observeDataLayer=function(t){Z(this.initDataLayer.bind(this,t))},e.prototype.initDataLayer=function(){var t=arguments[0];this.waitForDataLayer(function(){var n=window.dataLayer,i=n.push;n.push=function(){var s=Array.prototype.slice.call(arguments),c=i.apply(n,s);return t.apply(n,s),c};for(var r=0;r<n.length;r+=1)t.call(n,n[r])})},e.prototype.waitForDataLayer=function(t){var n=this;window.dataLayer?t():setTimeout(function(){n.waitForDataLayer(t)},500)},e}();function H(e){return e===void 0&&(e=25),function(t){var n=[];n.length=t;for(var i=0;i<t;)n[i]=0,i+=1;return n}(e).map(function(){return Math.floor(62*Math.random())}).map(function(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[t]}).join("")}function j(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={};return e.forEach(function(i){Object.keys(i).forEach(function(r){return n[r]=i[r]})}),n}var Qe={performanceOnly:!1,stripAllParameter:!1,noCookies:!1,noTracking:!1,pageDisabled:!1};function L(){var e=j({},Qe);return a.rumTracking?typeof a.rumTracking=="boolean"?e:j(e,a.rumTracking):j(e,{noTracking:!0})}function x(e){var t=null;if(typeof Storage!="undefined")try{t=localStorage.getItem(e)}catch(n){}return t}function se(){var e,t=H(),n=0;if((e=x(re))&&(Date.now()-parseInt(e,10))/1e3<=1800){t=x(Y);var i=""+(x(ie)||-1);n=parseInt(i,10)+1}return[t,n]}function $(e,t){if(typeof Storage!="undefined")try{localStorage.setItem(e,t)}catch(n){}}var w,Ze=[F,"baqend-speedkit-config"];function ce(){return!(x("baqend-speedkit-sk-opt-out")!=="1"&&!window.deactivateSpeedKit)}function K(e,t){if(!(ce()||($(e,t),L().noCookies||Ze.indexOf(e)<0))){var n=a.cookieLifetime||180,i=new Date(Date.now()+24*n*60*60*1e3).toUTCString();try{h.cookie=e+"="+t+"; expires="+i+"; path=/; SameSite=Lax; Secure"}catch(r){}}}function B(e,t){t===void 0&&(t=!0);var n=x(e),i=function(o){try{var s=new RegExp(o+"=([^,;]*)"),c=h.cookie.match(s);return c&&c[1]?c[1]:null}catch(l){}return null}(e),r=n||i;return r&&n!==i&&t&&K(e,r),r}function we(e){return e===void 0&&(e=!0),B(F,e)||H()}function ue(e){return"reason"in e}function k(e,t){(function(){if(!(window.SpeedKit&&window.SpeedKit.track)){var o=L(),s=!(o.noTracking||o.performanceOnly);if(window.SpeedKit=window.SpeedKit||{},window.SpeedKit.navigateId=window.SpeedKit.navigateId||""+H(32),window.SpeedKit.group=window.SpeedKit.group||"sk",window.SpeedKit.track=$e,!window.SpeedKit.sessionId&&s){var c=se(),l=c[0],p=c[1];window.SpeedKit.sessionId=l,window.SpeedKit.sessionIndex=p}s&&(window.SpeedKit.userId=window.SpeedKit.userId||we())}})();var n={timestamp:Date.now(),type:t,message:"Install.js",stackTrace:"null"};if(function(o){return!!o&&("reason"in o||"message"in o)}(e)){var i=ue(e)?e.reason.message||JSON.stringify(e.reason):e.message,r=ue(e)?e.reason.stack:e.stack;n.message="Install.js: "+i,n.stackTrace=r||"null"}(function(o){be("jsErrors",[o])})(n)}function $e(e,t,n){be("events",[{action:""+e,label:""+t,value:isNaN(Number(n))?0:Number(n)}])}function be(e,t){var n=L();if(!n.noTracking){var i={sessionId:SpeedKit.sessionId,userId:SpeedKit.userId},r={piId:SpeedKit.navigateId,testGroup:SpeedKit.group};r[e]=t;var o=n.performanceOnly?r:j(r,i);ye("https://"+(a.appDomain||"{}.app.baqend.com".replace("{}",a.appName))+"/v1/rum/pi",o)}}(function(e){e.SNIPPET="snippet",e.CONFIG="skConfig",e.RUMPLUGIN="rum",e.JSTRACKINGPLUGIN="js",e.DFCONFIG="dfConfig",e.MERGE="merge",e.CHANGEDETECTION="cd",e.DYNAMICFETCHER="df"})(w||(w={}));var et=function(){function e(t){this.rumController=t,this.triggerFunctions={domInteractive:this.rumController.onDOMInteractive,load:this.rumController.onLoad,speedKitLoaded:this.rumController.onSpeedKitLoaded,dataLayer:this.rumController.onDataLayer.bind(this.rumController),dataLayerReady:this.rumController.onDataLayerReady.bind(this.rumController),visibilityHidden:this.rumController.onVisibilityHidden,dfDataReady:this.rumController.onDfDataReady,leavePage:this.rumController.onLeavePage.bind(this.rumController),gaReady:this.rumController.onGaReady.bind(this.rumController),gaTracking:this.rumController.onGaTracking.bind(this.rumController)}}return e.prototype.initPlugin=function(t){if(t.shouldExecute)try{if(!t.shouldExecute())return}catch(i){k(i,w.RUMPLUGIN)}t.type||(t.type="Data"),typeof t.on=="string"?t.on=this.triggerFunctions[t.on]||this.getUnknownTriggerFunction(t.on):t.on=t.on||function(i){return i()};var n=this.generateCallbackFunction(t);try{t.on(n,this.rumController)}catch(i){k(i,w.RUMPLUGIN)}},e.prototype.generateCallbackFunction=function(t){var n=this;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(t.track){var o=[n.rumController].concat(i);try{t.track.apply(t,o)}catch(p){k(p,w.RUMPLUGIN)}}else if(t.key&&(t.set||t.append||t.setTiming)){var s,c=n.getControllerFunction(t),l=n.getTrackingFunction(t);try{s=l.apply(t,i)}catch(p){k(p,w.RUMPLUGIN)}s!=null&&c.call(n.rumController,t.key,s)}}},e.prototype.getControllerFunction=function(t){return t.setTiming?this.rumController.setTiming:t.set?this.rumController.set:this.rumController.append},e.prototype.getTrackingFunction=function(t){return t.setTiming||t.set||t.append},e.prototype.getUnknownTriggerFunction=function(t){var n=this,i=function(r){n.resolvePluginVariable(t)!==null?r():setTimeout(function(){return i(r)},200)};return i},e.prototype.resolvePluginVariable=function(t){for(var n=t.replace(/\[(\w+)\]/g,".$1"),i=(n=n.replace(/^\./,"")).split("."),r=window,o=0,s=i;o<s.length;o++){var c=s[o];if(typeof r!="object"||r==null)break;r=r[c]}return r||null},e}();function tt(e){h.addEventListener("visibilitychange",function(){h.visibilityState==="hidden"&&e()},!0)}function nt(e){SpeedKit&&SpeedKit.dynamicBlocks&&SpeedKit.dynamicBlocks.complete&&SpeedKit.dynamicBlocks.dataComplete||!h.querySelector("html.speed-kit-dynamic-loading")?setTimeout(e,0):h.addEventListener("dynamic-fetcher-data-ready",function(){return e()})}var R,it=function(){function e(){this.callbacks=[],this.unloaded=!1}return e.prototype.init=function(){var t=this;h.addEventListener("visibilitychange",function(){h.visibilityState==="hidden"?t.prepareBeforeLeaving("visibilityChange"):h.visibilityState==="visible"&&(t.unloaded=!1)}),"onpagehide"in window?window.addEventListener("pagehide",function(){return t.prepareBeforeLeaving("pagehide")}):(window.addEventListener("beforeunload",function(){return t.prepareBeforeLeaving("beforeunload")}),window.addEventListener("unload",function(){return t.prepareBeforeLeaving("unload")}))},e.prototype.onLeavePage=function(t){this.callbacks.push(t)},e.prototype.executeRemainingCallbacks=function(){for(var t=0,n=this.callbacks;t<n.length;t++)(0,n[t])();this.callbacks=[]},e.prototype.prepareBeforeLeaving=function(t){var n=SpeedKit;this.executeRemainingCallbacks(),G(n,t),this.unloaded=!0},e.prototype.isUnloaded=function(){return this.unloaded},e}(),rt=function(){function e(){this.gaObserver=[]}return e.prototype.onGaTracking=function(t){if(!this.gaObserver.length){var n=this.gaObserver;this.observeGa(function(){for(var i=0,r=n;i<r.length;i++){var o=r[i];o.apply({},arguments)}})}this.gaObserver.push(t)},e.prototype.onGaReady=function(t){Z(this.waitForGa.bind(this,t))},e.prototype.observeGa=function(t){Z(this.initGa.bind(this,t))},e.prototype.initGa=function(){var t=this,n=arguments[0];this.waitForGa(function(){window.ga.getAll().forEach(function(i){var r=i.get("sendHitTask");i.set("sendHitTask",function(o){r.call(t,o),n.call(t,o)})})})},e.prototype.waitForGa=function(t){var n=this,i=window.ga;i?i(function(){return t()}):setTimeout(function(){return n.waitForGa(t)},500)},e}();(function(e){e.Override="override",e.Append="append",e.Force="force",e.Once="once"})(R||(R={}));var I,Te,ke,W,J,P,ee,ot=function(){function e(t,n,i){this.beaconIndex=0,this.sendingScheduled=!1,this.init=this.getInit(t,n),this.sentTracking=Object.create(this.init),this.unsentTracking={},this.customTimers={},this.shouldTrackPI=i,this.dataLayerHandler=new Ye,this.leavePageHandler=new it,this.gATrackingHandler=new rt,this.customDimensions=[{name:"customPiDimensions",type:"PiDimension",dimensionData:{}},{name:"customSessionDimensions",type:"SessionDimension",dimensionData:{}}],this.onDOMInteractive=Z,this.onLoad=Q,this.onSpeedKitLoaded=Xe,this.onGaReady=this.gATrackingHandler.onGaReady.bind(this.gATrackingHandler),this.onGaTracking=this.gATrackingHandler.onGaTracking.bind(this.gATrackingHandler),this.onDataLayer=this.dataLayerHandler.onDataLayer.bind(this.dataLayerHandler),this.onDataLayerReady=this.dataLayerHandler.onDataLayerReady.bind(this.dataLayerHandler),this.onDfDataReady=nt,this.onVisibilityHidden=tt,this.onLeavePage=this.leavePageHandler.onLeavePage.bind(this.leavePageHandler),this.pluginHandler=new et(this)}return e.prototype.initializePlugins=function(){var t=this.getPlugins();this.initCustomTimerData(t),this.initCustomDimensionData(t),t.forEach(this.pluginHandler.initPlugin,this.pluginHandler),this.leavePageHandler.init()},e.prototype.reinitialize=function(t,n){this.init=this.getInit(t,n),this.sentTracking=Object.create(this.init),this.unsentTracking={},this.beaconIndex=0;var i=!L().pageDisabled&&a.group!=="B";this.shouldTrackPI=i},e.prototype.reportEvent=function(t,n,i,r){if(!(n===void 0||n<0)&&(this.reportTracking(t,n),r!==void 0&&i)){var o=r-n;if(o<0)return;this.reportTracking(i,o)}},e.prototype.sendCurrentTracking=function(t){if(!L().noTracking){var n=this.getUnsentTracking();if(n){t&&(n.unloadType=t);var i="";n.beaconIndex===0&&(i="?pi=1"+(this.shouldTrackPI?"&bqpi=1":"")),this.shouldTrackPI=!1,ye(a.appURL+"/rum/pi"+i,n)}}},e.prototype.updateBaseDimension=function(t,n){this.init[t]=n},e.prototype.trackCustomEvent=function(t,n,i,r){r===void 0&&(r=!0);var o={action:""+t,label:""+n,value:isNaN(Number(i))?0:Number(i)};this.reportTracking("events",o,R.Append),r&&this.sendCollapsed()},e.prototype.set=function(t,n,i,r){var o;i===void 0&&(i=!0),r===void 0&&(r=!1),o=typeof r=="boolean"?r?R.Force:R.Override:r;var s=this.reportTracking(t,n,o);return i&&this.sendCollapsed(),s},e.prototype.setTiming=function(t,n,i,r){return i===void 0&&(i=!0),r===void 0&&(r=!1),typeof n=="number"?this.set(t,n-this.init.navigationStart,i,r):this.set(t,n,i,r)},e.prototype.append=function(t,n,i){i===void 0&&(i=!0),this.reportTracking(t,n,R.Append),i&&this.sendCollapsed()},e.prototype.getBeaconIndex=function(){return this.beaconIndex},e.prototype.calculateRelative=function(t){if(t!==void 0)return t-this.init.navigationStart},e.prototype.reportTracking=function(t,n,i){if(i===void 0&&(i=R.Override),n==null)return!1;var r=this.customDimensions.filter(function(l){return l.dimensionData.hasOwnProperty(t)})[0];if(r)return this.reportCustomDimension(t,n,r.type);if(this.customTimers.hasOwnProperty(t))return this.reportCustomTimer(t,n);if(i===R.Append){var o=Array.isArray(n)?n:[n],s=this.unsentTracking[t]!==void 0?this.unsentTracking[t]:[],c=Array.isArray(s)?s:[s];return this.unsentTracking[t]=c.concat(o),!0}return!(!Array.isArray(n)&&Se(n,this.sentTracking[t])&&i!==R.Force)&&(!this.sentTracking.hasOwnProperty(t)||i!==R.Once)&&(this.unsentTracking[t]=n,!0)},e.prototype.reportCustomDimension=function(t,n,i){var r=typeof n=="string"?n:JSON.stringify(n),o=this.customDimensions.filter(function(c){return c.type===i})[0];if(!o||o.dimensionData[t]&&o.dimensionData[t]!=="null")return!1;o.dimensionData[t]=r;var s=this.unsentTracking[o.name]||{};return s[t]=r,this.unsentTracking[o.name]=s,!0},e.prototype.reportCustomTimer=function(t,n){if(typeof n!="number"||this.customTimers[t]&&this.customTimers[t]!==-1)return!1;this.customTimers[t]=n;var i=this.unsentTracking.customTimers||{};return i[t]=n,this.unsentTracking.customTimers=i,!0},e.prototype.getPlugins=function(){return window.SpeedKit&&window.SpeedKit.rumPlugins?window.SpeedKit.rumPlugins:[]},e.prototype.initCustomDimensionData=function(t){var n=this;t.forEach(function(i){i.key&&(n.customDimensions.every(function(r){return r.type!==i.type})||n.reportCustomDimension(i.key,"null",i.type))})},e.prototype.initCustomTimerData=function(t){var n=this;t.forEach(function(i){i.key&&i.type==="CustomTimer"&&(n.customTimers[i.key]=-1)})},e.prototype.getUnsentTracking=function(){if(Object.keys(this.unsentTracking).length===0)return null;var t=Object.create(null);for(var n in this.init)Object.prototype.hasOwnProperty.call(this.init,n)&&(t[n]=this.init[n]);for(var n in t.beaconIndex=this.beaconIndex,this.unsentTracking)Object.prototype.hasOwnProperty.call(this.unsentTracking,n)&&(t[n]=this.unsentTracking[n],this.sentTracking[n]=this.unsentTracking[n]);return this.unsentTracking=Object.create(null),this.beaconIndex+=1,t},e.prototype.sendCollapsed=function(){var t=this;this.leavePageHandler.isUnloaded()?this.sendCurrentTracking():this.sendingScheduled||(this.sendingScheduled=!0,setTimeout(function(){t.sendingScheduled=!1,t.sendCurrentTracking()},100))},e.prototype.getInit=function(t,n){return L().performanceOnly?t:j(t,n)},e}();function Ie(e){return parseFloat((1-e).toFixed(2))}function Ce(){var e=v.userAgent;return e.indexOf("Safari")>-1&&e.indexOf("Edge")===-1&&e.indexOf("Chrome")===-1}function Ne(){return!Ce()&&typeof PerformanceNavigationTiming!="undefined"&&!!performance.getEntriesByType}function Pe(){var e=performance.navigation;if(!Ne())return Ee(e.type);var t=performance.getEntriesByType("navigation");return t[0]&&"toJSON"in t[0]?J[t[0].type]:Ee(e.type)}function Ee(e){return typeof e!="number"?J[e]:e}function te(){return window.performance?performance.timing.navigationStart||Math.trunc(performance.timeOrigin):0}function De(e){var t=function(){var l=window.performance.timing;if(!Ne())return l;var p=performance.getEntriesByType("navigation");return p[0]&&"toJSON"in p[0]?p[0].toJSON():l}(),n=window.performance.timing,i="entryType"in t,r={};for(var o in t)if(typeof t[o]=="number"){var s=t[o]!==0,c=n&&(typeof n[o]!="number"||n[o]!==0);s||c?i?r[o]=Math.trunc(t[o]):t[o]>=e&&(r[o]=t[o]-e):r[o]=-1}else r[o]=t[o];return r.navigationStart=e,r.domLoading=n.domLoading-e,r.ttfb=i?r.responseStart:n.domLoading-e,r}function at(e,t){var n,i,r;e.controllingServiceWorker&&t.set("controllingSw",e.controllingServiceWorker,!1),e.lastNavigate.applicationState&&t.set("applicationState",e.lastNavigate.applicationState,!1),e.lastNavigate.responseCause!==I.Unknown&&t.set("responseCause",e.lastNavigate.responseCause,!1)&&t.set("responseSource",e.lastNavigate.responseSource,!1,!0),e.lastNavigate.disconnectCause!==W.None&&e.lastNavigate.disconnectCause!==W.DashboardDisabled&&t.set("disconnectCause",e.lastNavigate.disconnectCause,!1),typeof e.split=="number"&&t.set("split",(n=e.group,i=e.split,r=n==="A"&&typeof a.secondarySplit=="number"?a.secondaryGroup==="B"?Ie(a.secondarySplit):a.secondarySplit:1,i*r),!1),e.readyState==="complete"&&e.lastNavigate.splitTestId!==e.splitTestId&&t.set("actualTestId",""+e.lastNavigate.splitTestId,!1),e.readyState==="complete"&&e.lastNavigate.group!==e.group&&t.set("actualTestGroup",""+e.lastNavigate.group,!1)}function G(e,t){var n,i=e.rumController,r=!!a.secondaryGroup,o=e.lastNavigate.responseCause===I.BfCache,s=r?e.splitTestId+"-"+a.secondaryTestId:e.splitTestId,c=function(){if(L().stripAllParameter)return location.href.replace(/\?.*/,"?redacted");if(L().stripParameters){var u=new URL(location.href);return L().stripParameters.forEach(function(f,d){var T=new URL(location.href).searchParams.get(f)||"",b=T.length?f+"="+T:f;u.search=u.search.replace(new RegExp("(\\?|&)"+b),"$1redacted-"+d)}),u.href}return location.href}();r&&i.updateBaseDimension("testGroup",a.group+"-"+a.secondaryGroup);var l=L().performanceOnly?0:e.sessionIndex;i.set("sessionIndex",l,!1);var p=te();i.reportEvent("snippetExecution",e.executionTime-p),i.set("url",c,!1,R.Once),i.set("userAgent",v.userAgent,!1),i.set("referrer",h.referrer,!1),i.set("testId",s||"None",!1),i.set("responseSource",e.lastNavigate.responseSource,!1),i.set("assetTTFB",e.lastNavigate.assetTTFB,!1),i.set("originTTFB",e.lastNavigate.originTTFB,!1),i.set("assetSource",e.lastNavigate.assetSource,!1),i.set("assetCause",e.lastNavigate.assetCause,!1),i.set("firstLoad",e.lastNavigate.firstLoad,!1),i.set("disabled",e.disabled,!1),i.set("swSupported",e.swSupported,!1),i.set("skSupported",e.skSupported,!1),i.set("redirectList",(n=e.lastNavigate.redirectList)===null||n===void 0?void 0:n.map(function(u){return u.url}),!1,R.Once),i.set("screenResolution",e.screenResolution,!1,R.Once),at(e,i),typeof window.performance===void 0||o||(function(u){var f=te(),d=De(f);u.set("navigationStart",f,!1),u.set("secureConnectDuration",d.secureConnectionStart>=0&&d.connectEnd>=0?d.connectEnd-d.secureConnectionStart:-1,!1),u.reportEvent("unload",d.unloadEventStart,"unloadDuration",d.unloadEventEnd),u.reportEvent("domainLookup",d.domainLookupStart,"domainLookupDuration",d.domainLookupEnd),u.reportEvent("connect",d.connectStart,"connectDuration",d.connectEnd),u.reportEvent("redirect",d.redirectStart,"redirectDuration",d.redirectEnd),u.reportEvent("response",d.responseStart,"responseDuration",d.responseEnd),u.reportEvent("load",d.loadEventStart,"loadDuration",d.loadEventEnd),u.reportEvent("domContentLoaded",d.domContentLoadedEventStart,"domContentLoadedDuration",d.domContentLoadedEventEnd),u.reportEvent("request",d.requestStart),u.reportEvent("fetch",d.fetchStart),u.reportEvent("ttfb",d.ttfb),u.reportEvent("domComplete",d.domComplete),u.reportEvent("domInteractive",d.domInteractive),u.reportEvent("workerStart",d.workerStart)}(i),function(u){var f=Pe();f!==void 0&&u.set("navigationType",f,!1)}(i),function(u){if(typeof PerformancePaintTiming!="undefined"&&window.performance.getEntriesByType){var f=performance.getEntriesByType("paint");if(f&&f.length){var d=f.find(function(D){return D.name==="first-paint"}),T=f.find(function(D){return D.name==="first-contentful-paint"});u.set("firstPaint",d?Math.round(d.startTime):-1,!1),u.set("firstContentfulPaint",T?Math.round(T.startTime):-1,!1)}}else if(window.performance!==void 0){var b=performance.timing.msFirstPaint;b&&(u.setTiming("firstPaint",b,!1),u.setTiming("firstContentfulPaint",b,!1))}}(i)),o||(function(u,f){u.lastNavigate.cdnBackendTime&&f.set("cdnBackendTime",u.lastNavigate.cdnBackendTime,!1),u.lastNavigate.cdnPoP&&f.set("cdnPop",""+u.lastNavigate.cdnPoP,!1)}(e,i),function(u,f){var d=u.lastNavigate?u.lastNavigate.timings:null;d&&(f.setTiming("speedKitFetchEvent",d.eventStart,!1),f.setTiming("speedKitHandle",d.handleStart,!1),f.setTiming("speedKitBlacklistHandler",d.blacklistHandler,!1),f.setTiming("speedKitDisabledPageHandler",d.disabledPageHandler,!1),d.handleStart!==void 0&&d.handleEnd!==void 0&&f.set("speedKitHandleDuration",d.handleEnd-d.handleStart,!1),d.cacheStart!==void 0&&d.cacheEnd!==void 0&&f.reportEvent("speedKitCacheLookup",d.cacheStart-d.handleStart,"speedKitCacheLookupDuration",d.cacheEnd-d.handleStart),d.fetchStart!==void 0&&d.fetchEnd!==void 0&&f.reportEvent("speedKitFetchCall",d.fetchStart-d.handleStart,"speedKitFetchCallDuration",d.fetchEnd-d.handleStart))}(e,i)),t?i.sendCurrentTracking(t):i.sendCollapsed()}function M(){return!!h.querySelector(".speed-kit-dynamic-loading,.speed-kit-dynamic-loaded")}function st(e){var t,n=!1,i=!1,r=!1,o=function(){n&&i&&r&&G(e)};Q(function(){setTimeout(function(){n=!0,o()})}),function(s,c){s.readyState!=="complete"?window.addEventListener("speed-kit-completed",c,{once:!0}):c()}(e,function(){i=!0,o()}),t=function(){r=!0,o()},typeof PerformancePaintTiming!="undefined"&&window.performance.getEntriesByType&&performance.getEntriesByType("paint").length>0||typeof PerformanceObserver=="undefined"||typeof PerformancePaintTiming=="undefined"?t():new PerformanceObserver(t).observe({entryTypes:["paint"]}),window.addEventListener("pageshow",function(s){if(s.persisted){var c=se(),l=c[0],p=c[1];SpeedKit.navigateId=""+H(32),SpeedKit.lastNavigate.responseCause=I.BfCache,SpeedKit.lastNavigate.responseSource=M()?P.AssetAPI:P.Origin,SpeedKit.sessionIndex=p,SpeedKit.executionTime=Date.now();var u=performance.timing.navigationStart||performance.timeOrigin,f={sessionId:l,userId:SpeedKit.userId},d={navigationStart:u,testGroup:SpeedKit.group,piId:SpeedKit.navigateId};SpeedKit.rumController.reinitialize(d,f),G(SpeedKit)}})}function V(e){e.readyState!=="complete"&&setTimeout(function(){var t,n,i,r;e.readyState="complete",t="speed-kit-completed",n=window,i===void 0&&(i={}),typeof CustomEvent=="function"?r=new CustomEvent(t,{detail:i}):(r=h.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),n.dispatchEvent(r)})}function Oe(e,t,n,i){i===void 0&&(i=1e3);var r=!1;return n&&setTimeout(function(){return r?null:n()},i),new Promise(function(o,s){var c=new MessageChannel,l=c.port1,p=c.port2;l.onmessage=function(u){r=!0,o(u.data)},l.onmessageerror=function(u){return s(u.data)},e.postMessage(t,[p])})}function ct(e,t){Oe(e,{type:"get-navigate-info",clientURL:location.href},function(){t.lastNavigate.responseSource=M()?P.AssetAPI:P.Origin,t.lastNavigate.responseCause=I.NoSwResponse,V(t)}).catch(function(n){return k(n,w.SNIPPET),null}).then(function(n){(function(i,r){if(!(!r||"wasCacheHit"in r)){if("reason"in r)return i.lastNavigate.applicationState=r.applicationState,i.lastNavigate.errorMessage=r.reason,void(r.applicationState===ee.FAILED&&(i.lastNavigate.responseCause=I.SwFailed));r.firstLoad=i.lastNavigate.firstLoad;var o=r.responseSource===P.Origin;r.assetSource||r.assetCause||r.assetTTFB||(r.assetSource=i.lastNavigate.assetSource,r.assetCause=i.lastNavigate.assetCause,r.assetTTFB=i.lastNavigate.assetTTFB),r.originTTFB||(r.originTTFB=i.lastNavigate.originTTFB),i.lastNavigate=r,i.lastNavigate.applicationState=r.applicationState,i.lastNavigate.responseCause=r.responseCause,i.lastNavigate.responseSource=o&&M()?P.SDN:r.responseSource,i.lastNavigate.originStatus=r.originStatus,i.lastNavigate.disconnectCause=r.disconnectCause,i.lastNavigate.assetTTFB=r.assetTTFB}})(t,n),V(t)})}function ut(e){return fetch(a.appURL+"/config/VAPIDPublicKey").then(function(t){return t.arrayBuffer()}).then(function(t){return{applicationServerKey:t,userVisibleOnly:!0}}).then(function(t){return e.subscribe(t)}).then(function(t){var n={subscription:t,devicetype:"WebPush"};return fetch(a.appURL+"/db/Device/register",{method:"POST",credentials:"include",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})}).then(function(t){return t.status===200},function(){return!1})}function dt(){return"Notification"in window?Notification.requestPermission().then(function(e){return e==="denied"?"denied":e!=="granted"?"undecided":v[N].ready.then(function(t){var n=t.pushManager;return function(i){return i.getSubscription().then(function(r){return!!r})}(n).then(function(i){return!!i||ut(n)})}).then(function(t){return t?"registered":"unregistered"})}):Promise.resolve("unsupported")}function Le(e){var t=v[N];if(t)return t.ready.then(function(n){var i;if(n.active&&n.active.state==="activated")return n.active.postMessage(e);(i=n.active)===null||i===void 0||i.addEventListener("statechange",function(){var r;((r=n.active)===null||r===void 0?void 0:r.state)==="activated"&&n.active.postMessage(e)})})}function Re(e){return e&&new URL(e,location.origin).pathname}function de(e){var t;(t=Le({type:"update-device",data:e}))===null||t===void 0||t.catch(function(n){return k(n,w.SNIPPET)});try{(function(n){var i=Re(a.scope),r=v.userAgent,o=new ae(i);o.set("/com.baqend.speedkit.device",{device:n,userAgent:r}).catch(function(s){return k(s,w.SNIPPET)}).finally(function(){return o.disconnect().catch(function(s){return k(s,w.SNIPPET)})})})(e)}catch(n){k(n,w.SNIPPET)}}function pt(e){var t=v[N].controller;t&&t.postMessage({type:"bypass-deactivation",data:e})}function lt(){var e=v[N];e&&e.controller&&e.controller.postMessage({type:"connect"})}function ft(){var e=v[N];e&&e.controller&&e.controller.postMessage({type:"disconnect"})}function gt(){var e=x("baqend-speedkit-hashing-salt");if(e)return e;var t=function(){for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",r=0;r<32;r+=1)i+=n.charAt(Math.floor(Math.random()*n.length));return i}();return $("baqend-speedkit-hashing-salt",t),t}function vt(e){return function(t,n){for(var i="",r=0;r<t.length;r+=1){var o=r%n.length;i+=(t.charCodeAt(r)^n.charCodeAt(o)).toString(32)}return i}(e,gt())}function ht(e){var t=v[N].controller;t&&t.postMessage({type:"offline",data:e})}function Ae(){var e=v[N].controller;e&&e.postMessage({type:"fetch-bloom-filter",data:!0})}function z(){return a.disabled||a.enabled===!1}function Be(e){return e===I.SkUnsupported}function _(e){var t;(t=Le({event:e,type:"send-cookies",data:h.cookie}))===null||t===void 0||t.catch(function(n){return k(n,w.SNIPPET)})}function Fe(e,t,n){return!!v[N]&&!!v[N].getRegistrations&&function(i,r,o){return i==="Safari"?r!==15||o>=2:i==="Chrome"?r>=61:i!=="Firefox"||r!==59}(e,t,n)}function xe(){return v.userAgent.toLowerCase().indexOf("wv)")>-1}function Ke(e){var t=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)\.?(\d+)?/i)||[],n=null;if(/trident/i.test(t[1]))return n=/\brv[ :]+(\d+)\.?(\d+)?/g.exec(e)||[],["IE",parseInt(n[1],10)||0,parseInt(n[2],10)||0];var i=function(o){if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)/.test(o)){var s=o.match(/(OS |os |OS)(\d+)_?(\d+)?/i)||[];return["SafariWebView",parseInt(s[2],10)||0,parseInt(s[3],10)||0]}return null}(e)||function(o,s){if(s[1]==="Chrome"){var c=null;if((c=o.match(/\bEdg\/(\d+)\.?(\d+)?/)||o.match(/\bEdge\/(\d+)\.?(\d+)?/))!=null)return["Edge",parseInt(c[1],10),parseInt(c[2],10)||0];if((c=o.match(/\bOPR\/(\d+)\.?(\d+)?/))!=null)return["Opera",parseInt(c[1],10),parseInt(c[2],10)||0]}return null}(e,t);if(i!==null)return i;var r=t[2]?[t[1],parseInt(t[2],10),parseInt(t[3],10)||0]:[v.appName,parseInt(v.appVersion,10),0];return e.indexOf("Android")===-1&&(n=e.match(/version\/(\d+)\.?(\d+)?/i))!=null&&(r.splice(1,1,parseInt(n[1],10)),r.splice(2,1,parseInt(n[2],10)||0)),r}function Ue(){var e=Ke(v.userAgent);return e[0]==="SafariWebView"&&e[1]>=14}function qe(){return v.userAgent.indexOf("Edge")>=0}function Ge(e,t,n,i){i===void 0&&(i=!1);var r=!a.enableForWebViews&&(xe()||Ue());return Fe(e,t,n)&&!i&&!r&&!qe()}function mt(e,t){var n,i,r=a.group,o=window.SpeedKit||{},s=o.navigateId||""+H(32),c=te(),l=t.userId,p=t.sessionId,u=t.sessionIndex,f=e.browser,d=e.browserVersion,T=e.minorVersion,b={navigationStart:c,testGroup:r,piId:s},D={userId:l,sessionId:p},g=(n=e.responseCause,i=!L().pageDisabled,(z()||Be(n))&&i&&a.group!=="B"),S=new ot(b,D,g),m=S.trackCustomEvent.bind(S),E={navigateId:s,userId:l,sessionId:p,sessionIndex:u,group:r,rumController:S,track:m,subscribe:dt,bypassDeactivation:pt,activate:lt,deactivate:ft,split:typeof a.split=="number"?a.group==="B"?Ie(a.split):a.split:1,updateDevice:de,getHash:vt,simulateOfflineMode:ht,fetchBloomFilter:Ae,updateCookies:_,disabled:!1,lastNavigate:e,readyState:"loading",splitTestId:a.splitTestId,controllingServiceWorker:yt(),executionTime:Date.now(),swSupported:Fe(f,d,T),skSupported:Ge(f,d,T),screenResolution:{width:window.screen.width*window.devicePixelRatio,height:window.screen.height*window.devicePixelRatio}};return Object.keys(o).forEach(function(O){E[O]=o[O]}),window.SpeedKit=E,S.initializePlugins(),window.SpeedKit}function yt(){return v.serviceWorker&&v.serviceWorker.controller?v.serviceWorker.controller.scriptURL:null}function ne(e){if(typeof Storage!="undefined")try{localStorage.removeItem(e)}catch(t){}try{h.cookie=e+"=; expires="+new Date().toUTCString()+"; path=/; SameSite=lax; Secure"}catch(t){}}function Me(e,t){if(t)return!0;var n=e.group,i=e.testId;return!(!i||i.indexOf("-debug")===-1)||n!=="A"}function He(e,t){var n=function(r,o){var s=o==="baqend-speedkit-secondary-config",c=function(p,u){var f=p.testId!=="undefined",d=p.group!=="undefined",T=u?a.secondaryTestId:a.splitTestId,b=f&&(D=p.testId,g=T,(D==null?void 0:D.replace("-debug",""))!==(g==null?void 0:g.replace("-debug",""))),D,g;if(d&&!b)return p.group;var S=u?a.secondaryGroup:a.group,m=u?a.secondarySplit:a.split;return function(E,O){return E===void 0?Math.random()<O?"A":"B":E}(S,m)}(r,s),l=s?a.secondaryTestId:a.splitTestId;return l&&(l=function(p){return x("baqend-speedkit-debug")!=="true"?p.replace("-debug",""):p.indexOf("-debug")>-1?p:p+"-debug"}(l)),{group:c,testId:l}}(e,t),i=t==="baqend-speedkit-secondary-config";return i?(a.secondaryGroup=n.group,a.secondaryTestId=n.testId):(a.group=n.group,a.splitTestId=n.testId),Me(n,i?a.secondarySplit<1:a.split<1)?(function(r,o,s){c=s,l=encodeURIComponent(JSON.stringify(r)),p=encodeURIComponent(JSON.stringify(o)),p!==l&&p&&K(c,p);var c,l,p}(e,n,t),!0):(ne(t),!1)}function St(e,t,n,i){var r=window.location.href,o=Ke(v.userAgent),s=o[0],c=o[1],l=o[2],p=function(f,d,T,b,D,g){var S=Ge(f,d,T,b),m=a.group==="B"||a.secondaryGroup==="B";return S?!m&&z()?[P.Origin,I.Disabled]:!D||!a.sdnSetup&&M()?!m&&g?[P.Origin,I.GroupChange]:v[N].controller?[M()?P.AssetAPI:P.Origin,I.Unknown]:[P.Origin,m?I.NonSKGroup:I.NoSwInstalled]:[P.Origin,I.FirstLoad]:[P.Origin,I.SkUnsupported]}(s,c,l,e,t,n.group==="B"||i.group==="B"),u=p[0];return{url:r,browser:s,firstLoad:t,browserVersion:c,minorVersion:l,responseCause:p[1],responseSource:u,cdnBackendTime:null,cdnPoP:null,splitTestId:n.testId,group:a.split!==void 0?n.group:a.group,disconnectCause:W.None}}function pe(e,t,n){return e.put(""+t,new Response(null,{status:200,statusText:(i=n,JSON.stringify(i,function(r,o){return o instanceof RegExp?"regexp:/"+(s=o).source+"/"+(s.flags||""):o;var s}))}));var i}function le(){var e=new URL(a.sw||"/sw.js",location.origin);return e.origin+e.pathname}function wt(e){var t=function(n){var i=n;if(a.includeServiceWorker){var r=n.indexOf("?")>=0?"&":"?";i+=r+"othersw="+a.includeServiceWorker}return i}(a.sw);return v[N].register(t,{scope:a.scope||"/"}).then(function(n){var i;i=!1,h.addEventListener("visibilitychange",function(){h.visibilityState==="hidden"?i||(i=!0,_("visibilitychange")):i=!1}),window.addEventListener("pagehide",function(){i||(i=!0,_("pagehide"))});var r=le(),o=e.controllingServiceWorker;(!o||(r==null?void 0:r.split("?")[0])!==o.split("?")[0])&&function(s){Q(function(){window.setTimeout(function(){if(s.active&&typeof PerformanceResourceTiming!="undefined"){var c,l=(c=De(te()).domContentLoadedEventEnd,window.performance.getEntriesByType?performance.getEntriesByType("resource").filter(function(p){if(c>0&&p.startTime+p.duration>c)return!1;var u;try{u=new URL(p.name)}catch(f){return!1}return(u==null?void 0:u.origin)!==window.location.origin}):[]).map(function(p){var u=p.name;return{initiatorType:p.initiatorType,url:u}});Oe(s.active,{type:"prewarm-fetch",data:l}).then(function(p){if(p.applicationState===ee.FAILED)return function(u){return window.caches?caches.open(oe(A,a.scope)).then(function(f){var d=window.devicePixelRatio,T=window.screen.width,b=[[location.origin,h.cookie]];return Promise.all([pe(f,"/com.baqend.speedkit.screen",{dpr:d,width:T}),pe(f,"/com.baqend.speedkit.config",a),pe(f,"/com.baqend.speedkit.cookie",{origins:b})])}).then(function(){return u.postMessage({type:"init-cache"})}):Promise.resolve()}(s.active)})}},1e3)})}(n),function(s){s.navigationPreload&&function(c){if(c.active)return Promise.resolve(c.active);var l=c.waiting||c.installing;return new Promise(function(p){return l.onstatechange=function(){l.state==="activated"&&p(l)}})}(s).then(function(){a.navigationPreload?s.navigationPreload.enable():s.navigationPreload.disable()}).catch(function(c){return k(c,w.SNIPPET)})}(n)})}function je(e){var t=B(e),n=e==="baqend-speedkit-secondary-config",i=n?a.secondarySplit:a.split,r=n?A+"-secondary-ab-test-info":A+"-ab-test-info";if(t)return We(t);var o={group:"undefined",testId:"undefined"},s=B(r);return s&&(o=We(s),ne(r),Me(o,i!=null&&i<1)&&K(e,encodeURIComponent(JSON.stringify(o)))),o}function We(e){try{return JSON.parse(decodeURIComponent(e))}catch(t){return{group:"undefined",testId:"undefined"}}}function bt(){var e,t,n=JSON.parse(x("baqend-speedkit-rum-split-enabled")||"{}"),i=!n.sessionId,r=n.sessionId===B(Y);return{rumSplitEnabled:n&&n.sessionId?n.split!==!1:(t=Math.random()<((e=a.sampleRate)!==null&&e!==void 0?e:1),a.sampleRate&&$("baqend-speedkit-rum-split-enabled",JSON.stringify({split:t,sessionId:B("baqend-speedkit-session-id")})),t),isActiveSession:i||r}}function Tt(){if(!(!ce()&&x("baqend-speedkit-rum-opt-out")!=="1"&&!window.deactivateSpeedKitRUM))return!1;var e=a.rumTracking;if(!e)return!1;if(a.sampleRate===void 0)return function(r){if(h.cookie=r+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax; Secure",typeof Storage!="undefined")try{localStorage.removeItem(r)}catch(o){}}("baqend-speedkit-rum-split-enabled"),e;var t=bt(),n=t.rumSplitEnabled,i=t.isActiveSession;return!(!n||!i)&&e}function kt(){var e,t=window.SpeedKit||{},n=t.userId,i=t.sessionId,r=t.sessionIndex,o=L(),s=!o.noTracking&&!o.performanceOnly;return t.sessionId||(i=(e=s?se():["",0])[0],r=e[1]),t.userId||(n=s?we():""),{userInfo:{userId:n,sessionId:i,sessionIndex:r},persisted:function(c,l,p){var u=L();return u.noTracking||u.performanceOnly?!1:(K(F,c),K(Y,l),K(ie,""+p),K(re,Date.now().toString()),!0)}(n,i,r)}}function Je(e){for(var t=0,n=h.cookie.replace(/\s/g,"").split(";").filter(function(s){return s.lastIndexOf(e,0)===0});t<n.length;t++){var i=n[t],r=i.indexOf("="),o=r>-1?i.substr(0,r):i;h.cookie=o+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; SameSite=Lax; Secure"}}function It(e,t){if(e)return function(n,i){if(typeof Storage!="undefined")try{for(var r in localStorage)r.includes(n)&&!(i==null?void 0:i.includes(r))&&localStorage.removeItem(r)}catch(o){}}(A,["baqend-speedkit-sk-opt-out"]),void Je(A);t.noCookies&&Je(A),!t.noTracking&&!t.performanceOnly||a.sampleRate||[F,Y,ie,re].forEach(function(n){return ne(n)})}(function(e){e.Blacklist="Blacklist",e.ClientError="ClientError",e.Redirect="Redirect",e.CORSRedirect="CORSRedirect",e.CriticalResource="CriticalResource",e.Delayed="Delayed",e.Disabled="Disabled",e.Disconnected="Disconnected",e.DynamicBlock="DynamicBlock",e.DynamicBlockPreload="DynamicBlockPreload",e.DynamicBlockCached="DynamicBlockCached",e.Error="Error",e.Fallback="Fallback",e.Fetchlist="Fetchlist",e.FirstLoad="FirstLoad",e.GroupChange="GroupChange",e.IgnoredAfterPOSTNavigate="IgnoredAfterPOSTNavigate",e.InternalServerError="InternalServerError",e.LoopDetected="LoopDetected",e.NavigationPreload="NavigationPreload",e.NonSKGroup="NonSKGroup",e.SkUnsupported="SkUnsupported",e.NoSwInstalled="NoSwInstalled",e.NoSwResponse="NoSwResponse",e.Offline="Offline",e.Onboarding="Onboarding",e.SafeScript="SafeScript",e.SwFailed="SwFailed",e.TrackingRequest="TrackingRequest",e.Unknown="Unknown",e.Immutable="Immutable",e.BfCache="BfCache",e.NotEnabled="NotEnabled",e.NotWhitelisted="NotWhitelisted",e.UserAgentChanged="UserAgentChanged",e.TooLargeRequest="TooLargeRequest",e.FormatNotSupported="FormatNotSupported",e.OtherSwInstalled="OtherSwInstalled",e.SwBooting="SwBooting",e.NoNavigate="NoNavigate",e.NoMatchingNavigate="NoMatchingNavigate",e.Timeout="Timeout",e.DisabledSites="DisabledSites",e.PartialResponse="PartialResponse"})(I||(I={})),function(e){e.CacheMiss="CacheMiss",e.ExpiredResponse="ExpiredResponse",e.InstantRefresh="InstantRefresh",e.InvalidCacheSketch="InvalidCacheSketch",e.ReloadCacheMode="ReloadCacheMode",e.UrlInCacheSketch="UrlInCacheSketch"}(Te||(Te={})),function(e){e.CacheHit="CacheHit",e.RevalidationWhitelist="RevalidationWhitelist"}(ke||(ke={})),function(e){e.SWException="SWException",e.BloomfilterException="BloomfilterException",e.DashboardDisabled="DashboardDisabled",e.ServerError="ServerError",e.None="None",e.AssetTimeout="AssetTimeout"}(W||(W={})),function(e){e[e.navigate=0]="navigate",e[e.reload=1]="reload",e[e.back_forward=2]="back_forward",e[e.prerender=3]="prerender",e[e.reserved=255]="reserved"}(J||(J={})),function(e){e.AssetAPI="AssetAPI",e.Shield="Shield",e.Storage="Storage",e.Edge="Edge",e.Collapsed="Collapsed",e.PendingAsset="PendingAsset",e.Stream="Stream",e.MissingCachingHeader="MissingCachingHeader",e.Generated="Generated",e.Origin="Origin",e.SwCache="SwCache",e.SDN="SDN"}(P||(P={})),function(e){e.INSTALLING="installing",e.BOOTING="booting",e.RUNNING="running",e.FAILED="failed"}(ee||(ee={}));try{(function(){if(!window[ve]){window[ve]=!0;var e=window.location.href.match(/speed-kit-rum-opt-out=([01])/);e&&$("baqend-speedkit-rum-opt-out",e[1]);var t=ce();t&&(a.rumTracking=!1);var n=function(){var g={group:"",testId:a.splitTestId};if(window.location.href.indexOf("disableSpeedKit=1")>=0?g.group="B":window.location.href.indexOf("enableSpeedKit=1")>=0&&(g.group="A"),g.group)return K("baqend-speedkit-config",encodeURIComponent(JSON.stringify(g))),g}()||je("baqend-speedkit-config"),i=je("baqend-speedkit-secondary-config"),r=function(g,S,m){var E=!1;if(m)return a.group="optOut",E;if(a.split==null){var O=g.testId==="undefined"&&g.group!=="undefined";a.group=O?g.group:"A"}else E=He(g,"baqend-speedkit-config");if(B("baqend-speedkit-debug")==="true"&&(a.secondarySplit=null),a.secondarySplit!=null&&a.group==="A"){var C=He(S,"baqend-speedkit-secondary-config");E=E||C}return E}(n,i,t),o=B(F)===null,s=kt(),c=s.userInfo,l=s.persisted,p=function(g,S){var m=B(F)===null&&B("baqend-speedkit-config")===null&&B("baqend-speedkit-secondary-config")===null;return m?m&&g?!0:S?!1:(K(F,"testDenied"),m=B(F)===null,ne(F),m):!1}(r&&l,t);(function(g){a.sw=a.sw||"/sw.js",a.split!=null&&a.group&&(a.sw=(S=a.sw,m="gr",E=a.group,O=S.indexOf("?")>-1?"&":"?",""+S+O+m+"="+E));var S,m,E,O;a.rumTracking=Tt();var C=!a.enableForWebViews&&(xe()||Ue());if(a.disabled=a.enabled===!1||a.disabled||a.group==="B"||a.secondaryGroup==="B"||C||qe()||g,a.appURL="https://"+(a.appDomain||"{}.app.baqend.com".replace("{}",a.appName))+"/v1",a.customVariation&&a.customVariation.forEach(function(y){y.variationFunction=typeof y.variationFunction=="function"?y.variationFunction.toString():y.variationFunction}),a.image&&Array.isArray(a.image)&&a.image.forEach(function(y){var q;y.imageFunction=typeof y.imageFunction=="function"?(q=y.imageFunction)===null||q===void 0?void 0:q.toString():y.imageFunction}),typeof a.customDevice=="function"){var U=a.customDevice.call(null);a.customDevice=typeof U=="string"?U:null,Promise.resolve(U).then(function(y){y&&de(y)}).catch(function(y){k(y,w.CONFIG)})}else a.customDevice&&de(a.customDevice);v.userAgent.indexOf("Firefox/")>=0&&(a.navigationPreload=!1)})(t);var u=function(g,S){var m=mt(g,S);return m.disabled=a.group!=="B"&&a.secondaryGroup!=="B"&&!!z(),v[N]&&v[N].controller||!M()||(m.lastNavigate.responseSource=P.SDN),m}(St(p,o,n,i),c),f=L();if(It(t,f),f.noTracking||p||function(g){G(g),st(g)}(u),Be(u.lastNavigate.responseCause)||(d=window.top!==window,location.protocol!=="https:"||!a.executeInIframe&&d))return void V(u);var d,T=v[N].controller;if(T?function(g,S,m){var E=le();if(m.scriptURL&&!function(C,U){var y=U.scriptURL;if(!y)return!1;if(C===y.split("?")[0])return!0;var q=new URL(y).searchParams.get("othersw");return!!q&&C===q.split("?")[0]}(E,m))return function(C,U){return a.group==="B"||a.secondaryGroup==="B"||C.lastNavigate.group==="B"||!!z()||U}(g,S)||(g.lastNavigate.responseCause=I.OtherSwInstalled),void V(g);ct(m,g),_("load"),O=Object.getOwnPropertyDescriptor(Document.prototype,"cookie"),O&&O.configurable&&Object.defineProperty(Document.prototype,"cookie",{configurable:!0,get:function(){return O.get.call(h)},set:function(C){O.set.call(h,C),_()}}),function(C){v[N].addEventListener("message",function(U){var y=U.data,q=y.type,X=y.payload;if(q==="asset-response-timings"){var Nt=X.assetSource,Pt=X.assetTTFB,Et=X.cdnPoP,Dt=X.originTTFB,Ot=X.assetCause;C.lastNavigate.assetSource=Nt,C.lastNavigate.assetTTFB=Pt,C.lastNavigate.originTTFB=Dt,C.lastNavigate.cdnPoP=Et,C.lastNavigate.assetCause=Ot,G(C)}})}(g),Ce()&&function(){return Pe()===J.reload}()&&Ae();var O}(u,o,T):V(u),z())return void ge().catch(function(g){return k(g,w.SNIPPET)});if(!T)return fe();b=!1,Q(function(){b||(b=!0,fe())}),D=function(){setTimeout(function(){b||(b=!0,fe())},1e3)},h.readyState==="loading"?h.addEventListener("DOMContentLoaded",D):setTimeout(D,0);var b,D}})()}catch(e){k(e,w.SNIPPET)}function fe(){var e=!1;Ve().catch(function(t){return!e&&k(t,w.SNIPPET),e=!0,ze().then(function(){return Ve()})}).then(function(){return wt(SpeedKit)}).catch(function(t){var n=ue(t)?t.reason.message||JSON.stringify(t.reason):t.message;return n==="The operation is insecure."||n==="Rejected"?(SpeedKit.lastNavigate.responseCause=I.SkUnsupported,G(SpeedKit),ge()):(!e&&k(t,w.SNIPPET),e=!0,ge())}).catch(function(t){!e&&k(t,w.SNIPPET),e=!0})}function Ve(){var e=Re(a.scope),t=new ae(e),n=window.devicePixelRatio,i=window.screen.width,r=v.userAgent,o=a.customDevice,s=o?t.set("/com.baqend.speedkit.device",{device:o,userAgent:r}):Promise.resolve();return Promise.all([t.set("/com.baqend.speedkit.config",a),t.set("/com.baqend.speedkit.screen",{dpr:n,width:i}),t.set("/com.baqend.speedkit.cookie",{origins:[[location.origin,h.cookie]]}),Ct(t),s]).then(function(){return t.disconnect()})}function Ct(e){}function ge(){var e=new URL(a.scope||"/",location.origin).toString(),t=le();return v[N].getRegistrations().then(function(n){return n.forEach(function(i){var r=function(o){var s=o.active||o.installing||o.waiting;if(!s)return"";var c=new URL(s.scriptURL);return c.origin+c.pathname}(i);i.scope===e&&r===t&&i.unregister()})}).catch(function(){return null}).then(function(){return ze()})}function ze(){return Promise.all([window.caches?caches.keys().then(function(t){var n=t.filter(function(i){return new RegExp("^"+oe(A,a.scope)+".*").test(i)});return Promise.all(n.map(function(i){return caches.delete(i)}))}):Promise.resolve(),(e=new ae(a.scope),e.clear().then(function(){return e.disconnect()}))]);var e}})(document,navigator,"serviceWorker",typeof speedKit!="undefined"?speedKit:config,"SNIPPET_LOADED");})();