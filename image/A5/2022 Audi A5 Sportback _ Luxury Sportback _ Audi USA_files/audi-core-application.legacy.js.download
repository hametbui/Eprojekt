/*! @audi/audi-core-application 7.4.0 - Thu, 12 May 2022 12:09:49 GMT
License information can be found in audi-core-application.legacy.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("core-utils"),require("microkernel"),require("core-vendor")):"function"==typeof define&&define.amd?define("core-application",["core-utils","microkernel","core-vendor"],t):"object"==typeof exports?exports["core-application"]=t(require("core-utils"),require("microkernel"),require("core-vendor")):e["core-application"]=t(e["core-utils"],e.microkernel,e["core-vendor"])}(self,(function(e,t,n){return function(){var r={7162:function(e,t,n){e.exports=n(5047)},895:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},9120:function(e,t,n){var r=n(7960)("unscopables"),o=Array.prototype;null==o[r]&&n(4077)(o,r,{}),e.exports=function(e){o[r][e]=!0}},9267:function(e,t,n){"use strict";var r=n(4470)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},2095:function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},6515:function(e,t,n){var r=n(6208);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},7419:function(e,t,n){var r=n(4787),o=n(4710),a=n(2642);e.exports=function(e){return function(t,n,i){var s,c=r(t),l=o(c.length),u=a(i,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},868:function(e,t,n){"use strict";var r=n(895),o=n(6208),a=n(7830),i=[].slice,s={},c=function(e,t,n){if(!(t in s)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=i.call(arguments,1),s=function(){var r=n.concat(i.call(arguments));return this instanceof s?c(t,r.length,r):a(t,r,e)};return o(t.prototype)&&(s.prototype=t.prototype),s}},314:function(e,t,n){var r=n(2399),o=n(7960)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},2399:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},7493:function(e,t,n){"use strict";var r=n(1848).f,o=n(9191),a=n(1319),i=n(1330),s=n(2095),c=n(7785),l=n(9792),u=n(1382),f=n(6616),d=n(7967),p=n(6171).fastKey,h=n(5040),y=d?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var u=e((function(e,r){s(e,u,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[y]=0,null!=r&&c(r,n,e[l],e)}));return a(u.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[y]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var o=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=o),o&&(o.p=a),n._f==r&&(n._f=o),n._l==r&&(n._l=a),n[y]--}return!!r},forEach:function(e){h(this,t);for(var n,r=i(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),d&&r(u.prototype,"size",{get:function(){return h(this,t)[y]}}),u},def:function(e,t,n){var r,o,a=m(e,t);return a?a.v=n:(e._l=a={i:o=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=a),r&&(r.n=a),e[y]++,"F"!==o&&(e._i[o]=a)),e},getEntry:m,setStrong:function(e,t,n){l(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?u(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=void 0,u(1))}),n?"entries":"values",!n,!0),f(t)}}},9554:function(e,t,n){"use strict";var r=n(9851),o=n(4351),a=n(3573),i=n(1319),s=n(6171),c=n(7785),l=n(2095),u=n(6208),f=n(6966),d=n(8572),p=n(4564),h=n(1890);e.exports=function(e,t,n,y,m,g){var v=r[e],E=v,_=m?"set":"add",L=E&&E.prototype,S={},O=function(e){var t=L[e];a(L,e,"delete"==e||"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof E&&(g||L.forEach&&!f((function(){(new E).entries().next()})))){var C=new E,T=C[_](g?{}:-0,1)!=C,b=f((function(){C.has(1)})),w=d((function(e){new E(e)})),R=!g&&f((function(){for(var e=new E,t=5;t--;)e[_](t,t);return!e.has(-0)}));w||((E=t((function(t,n){l(t,E,e);var r=h(new v,t,E);return null!=n&&c(n,m,r[_],r),r}))).prototype=L,L.constructor=E),(b||R)&&(O("delete"),O("has"),m&&O("get")),(R||T)&&O(_),g&&L.clear&&delete L.clear}else E=y.getConstructor(t,e,m,_),i(E.prototype,n),s.NEED=!0;return p(E,e),S[e]=E,o(o.G+o.W+o.F*(E!=v),S),g||y.setStrong(E,e,m),E}},1481:function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},2250:function(e,t,n){"use strict";var r=n(1848),o=n(7009);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},1330:function(e,t,n){var r=n(895);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},6182:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},7967:function(e,t,n){e.exports=!n(6966)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},7536:function(e,t,n){var r=n(6208),o=n(9851).document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},5216:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},4351:function(e,t,n){var r=n(9851),o=n(1481),a=n(4077),i=n(3573),s=n(1330),c=function(e,t,n){var l,u,f,d,p=e&c.F,h=e&c.G,y=e&c.S,m=e&c.P,g=e&c.B,v=h?r:y?r[t]||(r[t]={}):(r[t]||{}).prototype,E=h?o:o[t]||(o[t]={}),_=E.prototype||(E.prototype={});for(l in h&&(n=t),n)f=((u=!p&&v&&void 0!==v[l])?v:n)[l],d=g&&u?s(f,r):m&&"function"==typeof f?s(Function.call,f):f,v&&i(v,l,f,e&c.U),E[l]!=f&&a(E,l,d),m&&_[l]!=f&&(_[l]=f)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},3082:function(e,t,n){var r=n(7960)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},6966:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},2467:function(e,t,n){"use strict";n(6496);var r=n(3573),o=n(4077),a=n(6966),i=n(6182),s=n(7960),c=n(8295),l=s("species"),u=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=s(e),p=!a((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),h=p?!a((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!t})):void 0;if(!p||!h||"replace"===e&&!u||"split"===e&&!f){var y=/./[d],m=n(i,d,""[e],(function(e,t,n,r,o){return t.exec===c?p&&!o?{done:!0,value:y.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),g=m[0],v=m[1];r(String.prototype,e,g),o(RegExp.prototype,d,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},2625:function(e,t,n){"use strict";var r=n(6515);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},7785:function(e,t,n){var r=n(1330),o=n(6011),a=n(5708),i=n(6515),s=n(4710),c=n(4602),l={},u={},f=e.exports=function(e,t,n,f,d){var p,h,y,m,g=d?function(){return e}:c(e),v=r(n,f,t?2:1),E=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(a(g)){for(p=s(e.length);p>E;E++)if((m=t?v(i(h=e[E])[0],h[1]):v(e[E]))===l||m===u)return m}else for(y=g.call(e);!(h=y.next()).done;)if((m=o(y,v,h.value,t))===l||m===u)return m};f.BREAK=l,f.RETURN=u},2994:function(e,t,n){e.exports=n(3901)("native-function-to-string",Function.toString)},9851:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},5395:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},4077:function(e,t,n){var r=n(1848),o=n(7009);e.exports=n(7967)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},7639:function(e,t,n){var r=n(9851).document;e.exports=r&&r.documentElement},4270:function(e,t,n){e.exports=!n(7967)&&!n(6966)((function(){return 7!=Object.defineProperty(n(7536)("div"),"a",{get:function(){return 7}}).a}))},1890:function(e,t,n){var r=n(6208),o=n(67).set;e.exports=function(e,t,n){var a,i=t.constructor;return i!==n&&"function"==typeof i&&(a=i.prototype)!==n.prototype&&r(a)&&o&&o(e,a),e}},7830:function(e){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},7001:function(e,t,n){var r=n(2399);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},5708:function(e,t,n){var r=n(4902),o=n(7960)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},6208:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},5059:function(e,t,n){var r=n(6208),o=n(2399),a=n(7960)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},6011:function(e,t,n){var r=n(6515);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},6977:function(e,t,n){"use strict";var r=n(9191),o=n(7009),a=n(4564),i={};n(4077)(i,n(7960)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(i,{next:o(1,n)}),a(e,t+" Iterator")}},9792:function(e,t,n){"use strict";var r=n(177),o=n(4351),a=n(3573),i=n(4077),s=n(4902),c=n(6977),l=n(4564),u=n(3839),f=n(7960)("iterator"),d=!([].keys&&"next"in[].keys()),p="keys",h="values",y=function(){return this};e.exports=function(e,t,n,m,g,v,E){c(n,t,m);var _,L,S,O=function(e){if(!d&&e in w)return w[e];switch(e){case p:case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",T=g==h,b=!1,w=e.prototype,R=w[f]||w["@@iterator"]||g&&w[g],A=R||O(g),k=g?T?O("entries"):A:void 0,P="Array"==t&&w.entries||R;if(P&&(S=u(P.call(new e)))!==Object.prototype&&S.next&&(l(S,C,!0),r||"function"==typeof S[f]||i(S,f,y)),T&&R&&R.name!==h&&(b=!0,A=function(){return R.call(this)}),r&&!E||!d&&!b&&w[f]||i(w,f,A),s[t]=A,s[C]=y,g)if(_={values:T?A:O(h),keys:v?A:O(p),entries:k},E)for(L in _)L in w||a(w,L,_[L]);else o(o.P+o.F*(d||b),t,_);return _}},8572:function(e,t,n){var r=n(7960)("iterator"),o=!1;try{var a=[7][r]();a.return=function(){o=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a=[7],i=a[r]();i.next=function(){return{done:n=!0}},a[r]=function(){return i},e(a)}catch(e){}return n}},1382:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},4902:function(e){e.exports={}},177:function(e){e.exports=!1},6171:function(e,t,n){var r=n(7725)("meta"),o=n(6208),a=n(5395),i=n(1848).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(6966)((function(){return c(Object.preventExtensions({}))})),u=function(e){i(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&c(e)&&!a(e,r)&&u(e),e}}},6115:function(e,t,n){"use strict";var r=n(7967),o=n(4538),a=n(3464),i=n(3750),s=n(4325),c=n(7001),l=Object.assign;e.exports=!l||n(6966)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=s(e),l=arguments.length,u=1,f=a.f,d=i.f;l>u;)for(var p,h=c(arguments[u++]),y=f?o(h).concat(f(h)):o(h),m=y.length,g=0;m>g;)p=y[g++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:l},9191:function(e,t,n){var r=n(6515),o=n(4279),a=n(5216),i=n(7833)("IE_PROTO"),s=function(){},c=function(){var e,t=n(7536)("iframe"),r=a.length;for(t.style.display="none",n(7639).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[a[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[i]=e):n=c(),void 0===t?n:o(n,t)}},1848:function(e,t,n){var r=n(6515),o=n(4270),a=n(9604),i=Object.defineProperty;t.f=n(7967)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},4279:function(e,t,n){var r=n(1848),o=n(6515),a=n(4538);e.exports=n(7967)?Object.defineProperties:function(e,t){o(e);for(var n,i=a(t),s=i.length,c=0;s>c;)r.f(e,n=i[c++],t[n]);return e}},2651:function(e,t,n){var r=n(3750),o=n(7009),a=n(4787),i=n(9604),s=n(5395),c=n(4270),l=Object.getOwnPropertyDescriptor;t.f=n(7967)?l:function(e,t){if(e=a(e),t=i(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},6523:function(e,t,n){var r=n(5540),o=n(5216).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},3464:function(e,t){t.f=Object.getOwnPropertySymbols},3839:function(e,t,n){var r=n(5395),o=n(4325),a=n(7833)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},5540:function(e,t,n){var r=n(5395),o=n(4787),a=n(7419)(!1),i=n(7833)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),c=0,l=[];for(n in s)n!=i&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~a(l,n)||l.push(n));return l}},4538:function(e,t,n){var r=n(5540),o=n(5216);e.exports=Object.keys||function(e){return r(e,o)}},3750:function(e,t){t.f={}.propertyIsEnumerable},5273:function(e,t,n){var r=n(4351),o=n(1481),a=n(6966);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],i={};i[e]=t(n),r(r.S+r.F*a((function(){n(1)})),"Object",i)}},775:function(e,t,n){var r=n(6523),o=n(3464),a=n(6515),i=n(9851).Reflect;e.exports=i&&i.ownKeys||function(e){var t=r.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},7009:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},1319:function(e,t,n){var r=n(3573);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},3573:function(e,t,n){var r=n(9851),o=n(4077),a=n(5395),i=n(7725)("src"),s=n(2994),c="toString",l=(""+s).split(c);n(1481).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(a(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(a(n,i)||o(n,i,e[t]?""+e[t]:l.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[i]||s.call(this)}))},5146:function(e,t,n){"use strict";var r=n(314),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},8295:function(e,t,n){"use strict";var r,o,a=n(2625),i=RegExp.prototype.exec,s=String.prototype.replace,c=i,l=(r=/a/,o=/b*/g,i.call(r,"a"),i.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(e){var t,n,r,o,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",a.call(c))),l&&(t=c.lastIndex),r=i.call(c,e),l&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},67:function(e,t,n){var r=n(6208),o=n(6515),a=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(1330)(Function.call,n(2651).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},6616:function(e,t,n){"use strict";var r=n(9851),o=n(1848),a=n(7967),i=n(7960)("species");e.exports=function(e){var t=r[e];a&&t&&!t[i]&&o.f(t,i,{configurable:!0,get:function(){return this}})}},4564:function(e,t,n){var r=n(1848).f,o=n(5395),a=n(7960)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},7833:function(e,t,n){var r=n(3901)("keys"),o=n(7725);e.exports=function(e){return r[e]||(r[e]=o(e))}},3901:function(e,t,n){var r=n(1481),o=n(9851),a="__core-js_shared__",i=o[a]||(o[a]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(177)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},2783:function(e,t,n){var r=n(6515),o=n(895),a=n(7960)("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||null==(n=r(i)[a])?t:o(n)}},4470:function(e,t,n){var r=n(1105),o=n(6182);e.exports=function(e){return function(t,n){var a,i,s=String(o(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===l||(i=s.charCodeAt(c+1))<56320||i>57343?e?s.charAt(c):a:e?s.slice(c,c+2):i-56320+(a-55296<<10)+65536}}},8397:function(e,t,n){var r=n(5059),o=n(6182);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},2642:function(e,t,n){var r=n(1105),o=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):a(e,t)}},1105:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},4787:function(e,t,n){var r=n(7001),o=n(6182);e.exports=function(e){return r(o(e))}},4710:function(e,t,n){var r=n(1105),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},4325:function(e,t,n){var r=n(6182);e.exports=function(e){return Object(r(e))}},9604:function(e,t,n){var r=n(6208);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},7725:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},5040:function(e,t,n){var r=n(6208);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},7960:function(e,t,n){var r=n(3901)("wks"),o=n(7725),a=n(9851).Symbol,i="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=i&&a[e]||(i?a:o)("Symbol."+e))}).store=r},4602:function(e,t,n){var r=n(314),o=n(7960)("iterator"),a=n(4902);e.exports=n(1481).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||a[r(e)]}},5417:function(e,t,n){"use strict";var r=n(9120),o=n(1382),a=n(4902),i=n(4787);e.exports=n(9792)(Array,"Array",(function(e,t){this._t=i(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},3160:function(e,t,n){var r=n(1848).f,o=Function.prototype,a=/^\s*function ([^ (]*)/,i="name";i in o||n(7967)&&r(o,i,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},3639:function(e,t,n){"use strict";var r=n(7493),o=n(5040),a="Map";e.exports=n(9554)(a,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(o(this,a),e);return t&&t.v},set:function(e,t){return r.def(o(this,a),0===e?0:e,t)}},r,!0)},3638:function(e,t,n){var r=n(4351);r(r.S+r.F,"Object",{assign:n(6115)})},4476:function(e,t,n){var r=n(4325),o=n(4538);n(5273)("keys",(function(){return function(e){return o(r(e))}}))},3271:function(e,t,n){var r=n(4351),o=n(9191),a=n(895),i=n(6515),s=n(6208),c=n(6966),l=n(868),u=(n(9851).Reflect||{}).construct,f=c((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),d=!c((function(){u((function(){}))}));r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){a(e),i(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!f)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var c=n.prototype,p=o(s(c)?c:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},9625:function(e,t,n){var r=n(9851),o=n(1890),a=n(1848).f,i=n(6523).f,s=n(5059),c=n(2625),l=r.RegExp,u=l,f=l.prototype,d=/a/g,p=/a/g,h=new l(d)!==d;if(n(7967)&&(!h||n(6966)((function(){return p[n(7960)("match")]=!1,l(d)!=d||l(p)==p||"/a/i"!=l(d,"i")})))){l=function(e,t){var n=this instanceof l,r=s(e),a=void 0===t;return!n&&r&&e.constructor===l&&a?e:o(h?new u(r&&!a?e.source:e,t):u((r=e instanceof l)?e.source:e,r&&a?c.call(e):t),n?this:f,l)};for(var y=function(e){e in l||a(l,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},m=i(u),g=0;m.length>g;)y(m[g++]);f.constructor=l,l.prototype=f,n(3573)(r,"RegExp",l)}n(6616)("RegExp")},6496:function(e,t,n){"use strict";var r=n(8295);n(4351)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},1:function(e,t,n){"use strict";var r=n(6515),o=n(4710),a=n(9267),i=n(5146);n(2467)("match",1,(function(e,t,n,s){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=r(e),l=String(this);if(!c.global)return i(c,l);var u=c.unicode;c.lastIndex=0;for(var f,d=[],p=0;null!==(f=i(c,l));){var h=String(f[0]);d[p]=h,""===h&&(c.lastIndex=a(l,o(c.lastIndex),u)),p++}return 0===p?null:d}]}))},2076:function(e,t,n){"use strict";var r=n(6515),o=n(4325),a=n(4710),i=n(1105),s=n(9267),c=n(5146),l=Math.max,u=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(2467)("replace",2,(function(e,t,n,h){return[function(r,o){var a=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,a,o):n.call(String(a),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var f=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var m=f.global;if(m){var g=f.unicode;f.lastIndex=0}for(var v=[];;){var E=c(f,d);if(null===E)break;if(v.push(E),!m)break;""===String(E[0])&&(f.lastIndex=s(d,a(f.lastIndex),g))}for(var _,L="",S=0,O=0;O<v.length;O++){E=v[O];for(var C=String(E[0]),T=l(u(i(E.index),d.length),0),b=[],w=1;w<E.length;w++)b.push(void 0===(_=E[w])?_:String(_));var R=E.groups;if(p){var A=[C].concat(b,T,d);void 0!==R&&A.push(R);var k=String(t.apply(void 0,A))}else k=y(C,d,T,b,R,t);T>=S&&(L+=d.slice(S,T)+k,S=T+C.length)}return L+d.slice(S)}];function y(e,t,r,a,i,s){var c=r+e.length,l=a.length,u=p;return void 0!==i&&(i=o(i),u=d),n.call(s,u,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":s=i[o.slice(1,-1)];break;default:var u=+o;if(0===u)return n;if(u>l){var d=f(u/10);return 0===d?n:d<=l?void 0===a[d-1]?o.charAt(1):a[d-1]+o.charAt(1):n}s=a[u-1]}return void 0===s?"":s}))}}))},36:function(e,t,n){"use strict";var r=n(5059),o=n(6515),a=n(2783),i=n(9267),s=n(4710),c=n(5146),l=n(8295),u=n(6966),f=Math.min,d=[].push,p=4294967295,h=!u((function(){RegExp(p,"y")}));n(2467)("split",2,(function(e,t,n,u){var y;return y="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var a,i,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,h=void 0===t?p:t>>>0,y=new RegExp(e.source,u+"g");(a=l.call(y,o))&&!((i=y.lastIndex)>f&&(c.push(o.slice(f,a.index)),a.length>1&&a.index<o.length&&d.apply(c,a.slice(1)),s=a[0].length,f=i,c.length>=h));)y.lastIndex===a.index&&y.lastIndex++;return f===o.length?!s&&y.test("")||c.push(""):c.push(o.slice(f)),c.length>h?c.slice(0,h):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,o,r):y.call(String(o),n,r)},function(e,t){var r=u(y,e,this,t,y!==n);if(r.done)return r.value;var l=o(e),d=String(this),m=a(l,RegExp),g=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(h?"y":"g"),E=new m(h?l:"^(?:"+l.source+")",v),_=void 0===t?p:t>>>0;if(0===_)return[];if(0===d.length)return null===c(E,d)?[d]:[];for(var L=0,S=0,O=[];S<d.length;){E.lastIndex=h?S:0;var C,T=c(E,h?d:d.slice(S));if(null===T||(C=f(s(E.lastIndex+(h?0:S)),d.length))===L)S=i(d,S,g);else{if(O.push(d.slice(L,S)),O.length===_)return O;for(var b=1;b<=T.length-1;b++)if(O.push(T[b]),O.length===_)return O;S=L=C}}return O.push(d.slice(L)),O}]}))},8982:function(e,t,n){"use strict";var r=n(4351),o=n(8397),a="includes";r(r.P+r.F*n(3082)(a),"String",{includes:function(e){return!!~o(this,e,a).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},8946:function(e,t,n){"use strict";var r=n(4470)(!0);n(9792)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},61:function(e,t,n){"use strict";var r=n(4351),o=n(7419)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(9120)("includes")},9649:function(e,t,n){var r=n(4351),o=n(775),a=n(4787),i=n(2651),s=n(2250);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),c=i.f,l=o(r),u={},f=0;l.length>f;)void 0!==(n=c(r,t=l[f++]))&&s(u,t,n);return u}})},7305:function(e,t,n){for(var r=n(5417),o=n(4538),a=n(3573),i=n(9851),s=n(4077),c=n(4902),l=n(7960),u=l("iterator"),f=l("toStringTag"),d=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(p),y=0;y<h.length;y++){var m,g=h[y],v=p[g],E=i[g],_=E&&E.prototype;if(_&&(_[u]||s(_,u,d),_[f]||s(_,f,g),c[g]=d,v))for(m in r)_[m]||a(_,m,r[m],!0)}},5047:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),i=new R(r||[]);return a._invoke=function(e,t,n){var r=f;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=T(i,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?h:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",y={};function m(){}function g(){}function v(){}var E={};E[a]=function(){return this};var _=Object.getPrototypeOf,L=_&&_(_(A([])));L&&L!==n&&r.call(L,a)&&(E=L);var S=v.prototype=m.prototype=Object.create(E);function O(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,a,i,s){var c=u(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(f).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var o;this._invoke=function(e,r){function a(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(a,a):a()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:k}}function k(){return{value:t,done:!0}}return g.prototype=S.constructor=v,v.constructor=g,g.displayName=c(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},O(C.prototype),C.prototype[i]=function(){return this},e.AsyncIterator=C,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new C(l(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(S),c(S,s,"Generator"),S[a]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(w),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},8717:function(t){"use strict";t.exports=e},9164:function(e){"use strict";e.exports=n},2168:function(e){"use strict";e.exports=t}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e](n,n.exports,a),n.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";a.r(i),a.d(i,{FootnotesEngine:function(){return A},ModalLayer:function(){return M},ModalLayerContentBase:function(){return Y},ModalLayerWrapper:function(){return J},appEvents:function(){return v},cache:function(){return Z},clientLayer:function(){return fe},content:function(){return ye},dynamicDot:function(){return me},dynamicSmoothScroll:function(){return L},layerAnimation:function(){return Q},layerApi:function(){return re},layerCms:function(){return _e},layerDom:function(){return Le},layerElement:function(){return te},layerErrorTemplate:function(){return ve},layerTitle:function(){return Oe},modalLayer:function(){return B},modalLayerFootnoteEngineTemplate:function(){return Ce},pageDom:function(){return be},pageMain:function(){return Re},pagePreload:function(){return ke},pageTitle:function(){return xe},pageType:function(){return Ie},router:function(){return ie},routerState:function(){return oe},scroll:function(){return je},signal:function(){return W},staticContent:function(){return pe}});a(7305),a(3271);function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}function n(n){return function(t){if(Array.isArray(t))return e(t)}(n)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||t(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}a(8946),a(3639),a(5047);function p(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,s,"next",e)}function s(e){p(a,r,o,i,s,"throw",e)}i(void 0)}))}}a(5417),a(4476);var y=a(7162),m=a.n(y),g=a(8717),v={VERSION_LOAD_COMPLETE:"version.load.complete",CARINFO_LOAD_COMPLETE:"carinfo.load.complete",MODELSINFO_LOAD_COMPLETE:"modelsinfo.load.complete",APP_READY:"app.ready",APP_INITIALIZED:"app.initialized",AVE_AVAILABLE:"ave.available",AVE_STREAM_READY:"ave.stream.ready",CONFIG_RESET:"configuration.reset",CONFIG_UPDATE:"configuration.update",CONFIG_START:"configuration.start",CONFIG_PARSED:"configuration.parsed",CONFIG_ITEM_CLICKED:"configuration.item-clicked",DOM_UPDATED:"dom.updated",TRIGGER_DOM_UPDATE:"trigger.dom.update",CONFIG_ADOPT:"configuration.adopt-new",CONFIG_PDF:"configuration.pdf",CONFIG_SEND:"configuration.send",CONFIG_SAVED:"configuration.saved",CONFIG_CONFLICT_OPEN:"configuration.conflict-open",CONFIG_NON_CONFLICTING:"configuration.non-conflicting",CONFIG_CHANGEREQUEST_START:"configuration.change-request-start",CONFIG_CHANGEREQUEST_END:"configuration.change-request-end",CONFIG_CONFLICT_CHECK:"configuration.conflict-check",CONFLICT_CLOSE:"conflict.resolve",TRANSFER_CLOSE:"transfer.cancel",FORM_FINISHED:"form.finished",FORM_LOADED:"form.loaded",HASH_CHANGE:"hash.change",FORM_ERROR:"form.error",INTERSTITIAL_LAYER_CLOSE:"interstitial-layer.close",LAYER_OPEN:"layer.open",LAYER_CLOSE:"layer.close",LAYER_INSERTED:"layer.inserted",LAYER_LOADED:"layer.loaded",LAYER_STATIC_OPEN:"layer.static.open",LAYER_BEFORE_CLOSE_ALL:"layer.before.closeall",LAYER_BEFORE_CLOSE:"layer.before.close",LAYER_CLOSED:"layer.closed",EQUIPMENT_SEARCH_LAYER_LOADED:"equipmentSearchlayer.loaded",EQUIPMENT_SEARCH_LAYER_RESIZED:"equipmentSearchlayer.resized",RENDERINGLAYER_LOADED:"renderinglayer.loaded",RENDERINGLAYER_RESIZED:"renderinglayer.resized",STARTLAYER_OPEN:"startlayer.open",STARTLAYER_CLOSE:"startlayer.close",TRANSFERLAYER_CLOSED:"transferlayer.closed",SEARCH_OPEN:"search.nemo.open",SEARCH_CLOSE:"search.nemo.close",SEARCH_LOAD_AUDICODE:"search.load.audicode",SEARCH_LOADED:"search.loaded",MENUFLYOUT_OPEN:"menuflyout.open",MENUFLYOUT_CLOSE:"menuflyout.close",PAGE_NAV:"page.nav",PAGE_OPEN:"page.open",PAGE_LEAVE:"page.leave",PAGE_READY:"page.ready",PAGE_INSERTED:"page.inserted",PAGE_LOADED:"page.loaded",PAGE_ANIMATION_START:"page.animation.start",PAGE_ANIMATION_COMPLETE:"page.animation.complete",MEDIAGALLERY_CATEGORY_CHANGED:"mediagallery.category.changed",MEDIAGALLERY_ITEM_CHANGED:"mediagallery.item.changed",MEDIAGALLERY_RESIZED:"mediagallery.resized",MEDIAGALLERY_SLIDED:"mediagallery.slided",UPDATE_VIEW_STATE:"stage.updateViewState",STAGE_RENDERIMAGE_UPDATED:"stage.renderimage.updated",EXTERNAL_EDITOR:"configuration.external.nemo.configurator",ERROR:"nemo.error",NOTIFICATION:"nemo.notification",MYAUDI_LOGIN:"myaudi.login",MYAUDI_LOGOUT:"myaudi.logout",CONTENT_RESIZE:"content.resize",AUDICODE_DELETED:"audicode.deleted",AUDICODE_SUCCESS:"audicode.success",AUDICODE_FAILED:"audicode.failed",TEASER_ACTIVATED:"teaserActivated",TEASER_ALL_ACTIVATED:"allTeasersActivated",RESET_POSTERVIEW:"mss.reset.posterview",STOCKCAR_UPDATE:"stck.update",SC_UPDATE_VIEW:"sc:update:view",SC_UPDATE_VIEW_COUNTS:"sc:update:view:counts",SC_RESET_RESULT_COUNT:"sc:reset:result:counts",SC_UPDATE_VIEW_RANGE_FILTER:"sc:update:view:range:filter",SC_UPDATE_VIEW_FAVORITES:"sc:update:view:favorites",SC_DELETE_VIEW_FAVORITE:"sc:delete:view:favorite",SC_DELETE_OUTDATET_FAVORITE:"sc:delete:outdatet:favorite",SC_RESET_VIEW:"sc:reset:view",SC_UPDATE_LOCATION_VIEW:"sc:update:location:view",SC_ERROR_GPS:"sc:error:gps",SC_UPDATE_VEHICLES:"sc:increment:vehicles",SC_UPDATE_LOCATION_MODEL:"sc:update:location:model",SC_UPDATE_LOCATION_FILTER:"sc:update:location:filter",SC_UPDATE_FAVORITE_COUNT:"sc:update:favorite:count",SC_COMPARE_UPDATE:"sc:compare:update",SC_VERSION_LOADED:"sc:version:loaded",SC_DETAILS_RATE_UPDATE:"sc:details:updateRate",SC_ERROR:"sc:error",CONTENT_RENDERED:"content:rendered",DSH_ZOOM_CHANGE:"dsh:zoom.change",DSH_INPUT:"dsh:input"},E=(a(2076),function(){function e(){r(this,e)}return s(e,null,[{key:"FOOTNOTES_LIST_SELECTOR",get:function(){return".audi-footnotes-list"}},{key:"FOOTNOTES_LAYER_PREFIX",get:function(){return"layer_footnote_"}},{key:"FOOTNOTES_REFERENCE_SELECTOR",get:function(){return".audi-j-footnote-reference"}},{key:"FOOTNOTES_ANCHOR_TEXT_SELECTOR",get:function(){return".audi-footnote-anchor__text"}},{key:"FOOTNOTES_REFERENCE_DISABLED_SELECTOR",get:function(){return"audi-footnote-reference-disabled"}},{key:"MODAL_INNER_SELECTOR",get:function(){return".modal-layer__inner"}},{key:"MODAL_INNER_CONTENT_SELECTOR",get:function(){return".modal-layer__inner-content"}},{key:"MODAL_LAYER_CONTENT_SELECTOR",get:function(){return".modal-layer__content"}},{key:"LAYER_CONTENT_SELECTOR",get:function(){return".nm-layer-inner"}},{key:"createFootnoteContainer",value:function(){var t=document.createElement("div");return t.classList.add("audi-footnotes"),t.classList.add("audi-footnotes-wrapper"),t.setAttribute("data-module","footnotes"),t.innerHTML='<ul class="'+e.FOOTNOTES_LIST_SELECTOR.substr(1)+'"></ul>',t}},{key:"replaceTextWithFootnoteNumber",value:function(t,n){t.dataset.fixedText||(t.querySelector(e.FOOTNOTES_ANCHOR_TEXT_SELECTOR).innerHTML=n)}},{key:"extractFootnoteId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e,n=t.indexOf("#");return-1!==n&&(t=t.substr(n+1)),t}},{key:"removePrefixFromId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/^layer_footnote_/gi,"")}},{key:"setReferenceState",value:function(t,n){n?t.classList.remove(e.FOOTNOTES_REFERENCE_DISABLED_SELECTOR):t.classList.add(e.FOOTNOTES_REFERENCE_DISABLED_SELECTOR)}}]),e}()),_=function(){function e(){r(this,e)}return s(e,null,[{key:"renderFootnotes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=n;if(r){r.innerHTML="";var o=document.createDocumentFragment();t.forEach((function(e){o.appendChild(e)})),r.appendChild(o),e._dispatchRenderedEvent(r)}}},{key:"_dispatchRenderedEvent",value:function(e){document.dispatchEvent(new CustomEvent("FOOTNOTES_RENDERED",{detail:{context:e}}))}}]),e}(),L=function(){function e(){r(this,e)}return s(e,null,[{key:"MODAL_INNER_SELECTOR",get:function(){return".modal-layer__inner"}},{key:"MODAL_LAYER_SELECTOR",get:function(){return".modal-layer"}},{key:"LAYER_WRAPPER_SELECTOR",get:function(){return".nm-layer-wrapper"}},{key:"LAYER_CONTENT_SELECTOR",get:function(){return".nm-layer-inner"}},{key:"AVERAGE_PAGE_SIZE",get:function(){return 4e3}},{key:"AVERAGE_SIZE_SCROLL_DURATION",get:function(){return 660}},{key:"scroll",value:function(e,t,n){var r=this,o=null,a=0,i=e.getBoundingClientRect().top,s=i>=n,c=this.calculateAnimationDuration(n,i);window.requestAnimationFrame((function l(u){o||(o=u||(new Date).getTime());var f=(u-o)/c,d=r.getRequiredOffset();if(f>1)return cancelAnimationFrame(o),void t.scrollTo(0,i-d);var p=Math.abs(r.easeOutQuad(f)).toFixed(2),h=r.calculateScrollDestination(e);h!==i&&(i=h),a=s?n+i*p:i+(n-i)*(1-p),t.scrollTo(0,a),s&&(0!==i&&a>=i-d||0===i&&a<0||h-n<=300)||!s&&a<i+d?(cancelAnimationFrame(o),a=0,t.scrollTo(0,i-d)):window.requestAnimationFrame(l)}))}},{key:"getRequiredOffset",value:function(){var e=120+this.getStickyNavigationOffset()+this.getStickyAnchorNavigationOffset();return 120!==e&&(e+=30),e}},{key:"getStickyNavigationOffset",value:function(){var e=0;if(this.getScrollContext()===document.body&&document.body.classList.contains("nm-nav-fixed")){var t=document.querySelector(".nm-nav-wrap");if(t&&(e=t.clientHeight),document.body.classList.contains("nm-has-current-consumption")){var n=document.querySelector(".nm-module-current-consumption");n&&(e+=n.clientHeight)}}return e}},{key:"getStickyAnchorNavigationOffset",value:function(){var e=document.querySelector(".nm-anchor-navigation-list"),t=0;this.getScrollContext()===document.body&&e&&("true"===e.getAttribute("is-sticky")&&(t=e.clientHeight));return t}},{key:"easeOutQuad",value:function(e){return e*(2-e)}},{key:"calculateAnimationDuration",value:function(t,n){var r=Math.abs(n-t);return e.AVERAGE_SIZE_SCROLL_DURATION/e.AVERAGE_PAGE_SIZE*r}},{key:"calculateScrollDestination",value:function(e){var t=this.getScrollContext(),n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=t===document.body?0:t.scrollTop;return r.top-n.top+o}},{key:"getScrollContext",value:function(){return document.querySelector(this.MODAL_INNER_SELECTOR)?document.querySelector(this.MODAL_LAYER_SELECTOR):document.querySelector(this.LAYER_CONTENT_SELECTOR)?document.querySelector(this.LAYER_WRAPPER_SELECTOR):document.body}}]),e}(),S=function(){function e(){r(this,e),this._addEvents()}return s(e,[{key:"_addEvents",value:function(){this._handleFootnoteReferenceClick=this._handleFootnoteReferenceClick.bind(this),g.dom.getEventDelegate("body").on("click",E.FOOTNOTES_REFERENCE_SELECTOR,this._handleFootnoteReferenceClick)}},{key:"_handleFootnoteReferenceClick",value:function(e){e.preventDefault();var t=e.target.closest(E.FOOTNOTES_REFERENCE_SELECTOR),n=this._getFootnoteByReference(t);if(n){var r=L.getScrollContext(),o=r===document.body?window:r,a=r===document.body?e.pageY:e.pageY+r.scrollTop;L.scroll(n,o,a)}}},{key:"_getFootnoteByReference",value:function(e){if(e&&e.getAttribute("href"))return L.getScrollContext().querySelector(e.getAttribute("href"))}}]),e}();a(9649);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=a(2168);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b(b({},e),t)},R=function(){function e(){r(this,e)}return s(e,null,[{key:"ACTIONS",get:function(){return{UPDATE_FOOTNOTES:"updateFootnotes"}}},{key:"addFootnotesStore",value:function(){C.stateRegistry.addStore("dbadFootnotesStore",{},{updateFootnotes:w})}}]),e}(),A=function(){function e(){r(this,e),this.footnotesSmoothscroll=new S,this._bindEventHandler(),this._addEvents(),R.addFootnotesStore(),C.stateRegistry.subscribeToStore("dbadFootnotesStore",this._handleStoreUpdate)}var t;return s(e,[{key:"_bindEventHandler",value:function(){this._handleStoreUpdate=this._handleStoreUpdate.bind(this),this._handleContentUpdate=this._handleContentUpdate.bind(this),this._handleFootnotesUpdate=g.dom.debounce(this._handleFootnotesUpdate,250)}},{key:"_addEvents",value:function(){document.addEventListener("PAGE_READY",this._handleContentUpdate),document.addEventListener("LAYER_LOADED",this._handleContentUpdate),document.addEventListener(v.CONTENT_RENDERED,this._handleContentUpdate)}},{key:"_handleStoreUpdate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.footnotesInStore=e,Object.keys(this.footnotesInStore).length&&this._handleFootnotesUpdate()}},{key:"_handleContentUpdate",value:(t=h(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._handleContentUpdateDefaultCondition,"LAYER_LOADED"!==t.type&&t.type!==v.CONTENT_RENDERED||(document.querySelector(".modal-layer--open")?n=this._handleContentUpdateModalLayerCondition:document.querySelector(".nm-layer-opened")&&(n=this._handleContentUpdateDefaultLayerCondition)),e.prev=2,e.next=5,g.polling.wait(n,1e3);case 5:this._handleFootnotesUpdate(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.warn("could not handle footnote content",e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return t.apply(this,arguments)})},{key:"_handleContentUpdateDefaultCondition",value:function(){return!0}},{key:"_handleContentUpdateModalLayerCondition",value:function(){return!!document.querySelector(E.MODAL_INNER_SELECTOR)}},{key:"_handleContentUpdateDefaultLayerCondition",value:function(){return!!document.querySelector(E.LAYER_CONTENT_SELECTOR)}},{key:"_handleFootnotesUpdate",value:function(){var e=L.getScrollContext(),t=this._isContextOfTypeLayer(e),r=n(this._findFootnoteReferences(e));if(r.length>0){var o=this._prepareFootnotesForRendering(r,e,t);this._processFootnoteReferences(r,o,t)}else this._removeFootnoteWrapper(e)}},{key:"_findFootnoteReferences",value:function(e){return e.querySelectorAll(E.FOOTNOTES_REFERENCE_SELECTOR)}},{key:"_prepareFootnotesForRendering",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this._collectFootnoteIdsFromReferences(e),o=this._getFootnoteWrapper(t);if(r.length>0){var a=this._getFootnotesByIdFromStore(r,n);_.renderFootnotes(a,o)}return r}},{key:"_processFootnoteReferences",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){r&&e._addPrefixToReferenceForLayer(t);var o=E.extractFootnoteId(t.getAttribute("href")),a=n.indexOf(E.removePrefixFromId(o));-1===a&&(a=n.indexOf(E.FOOTNOTES_LAYER_PREFIX+o));var i=-1!==a;E.setReferenceState(t,i),E.replaceTextWithFootnoteNumber(t,a+1)}))}},{key:"_collectFootnoteIdsFromReferences",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return t.forEach((function(t){var r=E.removePrefixFromId(E.extractFootnoteId(t.getAttribute("href")));-1===n.indexOf(r)&&e._isValidFootnoteReference(r)&&n.push(r)})),n}},{key:"_isValidFootnoteReference",value:function(e){var t=E.removePrefixFromId(e);return!!this.footnotesInStore[t]}},{key:"_getFootnoteWrapper",value:function(t){var n=t;if(!this._hasContextFootnoteWrapper(t)){var r=E.createFootnoteContainer();n.querySelector(E.MODAL_INNER_SELECTOR)?n=n.querySelector(E.MODAL_LAYER_CONTENT_SELECTOR):n.querySelector(E.LAYER_CONTENT_SELECTOR)?n=n.querySelector(E.LAYER_CONTENT_SELECTOR):n.querySelector(".nm-footer")&&(n=n.querySelector(".nm-footer")),n.appendChild(r)}return n.querySelector(e.defaults.FOOTNOTES_WRAPPER_SELECTOR+" "+E.FOOTNOTES_LIST_SELECTOR)}},{key:"_hasContextFootnoteWrapper",value:function(t){return!!t.querySelector(e.defaults.FOOTNOTES_WRAPPER_SELECTOR)}},{key:"_removeFootnoteWrapper",value:function(t){if(this._hasContextFootnoteWrapper(t)){var n=t.querySelector(e.defaults.FOOTNOTES_WRAPPER_SELECTOR);n.parentElement.removeChild(n)}}},{key:"_isContextOfTypeLayer",value:function(e){var t=e;return!(!t.querySelector(E.MODAL_INNER_SELECTOR)&&!t.querySelector(E.LAYER_CONTENT_SELECTOR))}},{key:"_getFootnotesByIdFromStore",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=new Map,a=1;return t.forEach((function(t){var n=E.removePrefixFromId(t);if(e.footnotesInStore[n]){var i=e.footnotesInStore[n],s=document.createElement("div");s.innerHTML=i,s.querySelector(E.FOOTNOTES_ANCHOR_TEXT_SELECTOR).innerHTML=a,r?(s.firstChild.setAttribute("id",E.FOOTNOTES_LAYER_PREFIX+n),o.set(E.FOOTNOTES_LAYER_PREFIX+n,s.firstChild)):o.set(n,s.firstChild),a++}})),n(o.values())}},{key:"_addPrefixToReferenceForLayer",value:function(e){var t=e.getAttribute("href"),n=E.extractFootnoteId(t),r=E.removePrefixFromId(n),o=E.FOOTNOTES_LAYER_PREFIX+r;e.setAttribute("href","#"+o)}}],[{key:"defaults",get:function(){return{FOOTNOTES_WRAPPER_SELECTOR:".audi-footnotes-wrapper"}}}]),e}();function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function P(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(P.prototype,HTMLElement.prototype),Object.setPrototypeOf(P,HTMLElement);var x=function(e){l(o,e);var t=k(o);function o(){var e;return r(this,o),e=t.call(this),window.footnotesEngine||(window.footnotesEngine=new A),e.footnoteItems=null,e}return s(o,[{key:"connectedCallback",value:function(){var e=this.querySelector(".audi-footnotes-list");(e||e.children.length>0)&&(this.footnoteItems=this._parseFootnotesMarkup(e.children)),this.parentElement.removeChild(this)}},{key:"disconnectedCallback",value:function(){this.footnoteItems&&C.stateRegistry.triggerAction("dbadFootnotesStore",R.ACTIONS.UPDATE_FOOTNOTES,this.footnoteItems)}},{key:"_parseFootnotesMarkup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return n(e).forEach((function(e){var n=e.getAttribute("id"),r=e.outerHTML;t[n]=r})),t}}]),o}(P);void 0===window.customElements.get("audi-footnotes")&&window.customElements.define("audi-footnotes",x);a(36);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function F(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(F.prototype,HTMLElement.prototype),Object.setPrototypeOf(F,HTMLElement);var j=function(e){l(n,e);var t=N(n);function n(){var e;return r(this,n),(e=t.call(this))._addPageStore(),e}return s(n,[{key:"connectedCallback",value:function(){this._handlePageUpdate=this._handlePageUpdate.bind(this),this._handleLayerUpdate=this._handleLayerUpdate.bind(this),document.addEventListener("PAGE_READY",this._handlePageUpdate),document.addEventListener("LAYER_LOADED",this._handleLayerUpdate),document.addEventListener("LAYER_CLOSED",this._handleLayerUpdate),this._handlePageUpdate()}},{key:"_addPageStore",value:function(){var e=this;C.stateRegistry.addStore("dbadPageStore",{baseURL:window.location.origin,currentURL:window.location.href,isLayer:this._isLayer(),language:this._getLanguage(window.location.href,window.location.pathname),market:this._getMarket(window.location.href,window.location.pathname),pageName:document.title,pageTemplate:this._getPageTemplate(),pageType:this._getPageType(),referringURL:document.referrer||"",scopes:this._getScopes()},{updateLayerState:function(t){return I(I({},t),{},{currentURL:window.location.href,isLayer:e._isLayer(),pageName:document.title})},updatePageState:function(t,n){return I(I({},t),{},{currentURL:window.location.href,isLayer:e._isLayer(),pageName:document.title,pageTemplate:n.pageTemplate,pageType:n.pageType})}})}},{key:"_getScopes",value:function(){var e=document.querySelector(".nm-activated-scopes");return e?e.dataset.scopes:""}},{key:"_handlePageUpdate",value:function(){C.stateRegistry.triggerAction("dbadPageStore","updatePageState",{currentURL:window.location.href,isLayer:this._isLayer(),pageName:document.title,pageTemplate:this._getPageTemplate(),pageType:this._getPageType()})}},{key:"_handleLayerUpdate",value:function(){C.stateRegistry.triggerAction("dbadPageStore","updateLayerState",{currentURL:window.location.href,isLayer:this._isLayer(),pageName:document.title})}},{key:"_getPageTemplate",value:function(){return SETUPS&&SETUPS.get("page.template")||""}},{key:"_getPageType",value:function(){return document.body.getAttribute("page-type")||"default"}},{key:"_isLayer",value:function(){return!!this._hasSubString(window.location.href,"jslayer=")||(!!this._hasSubString(window.location.href,"layer=")||(!!document.body.classList.contains("modal-layer--open")||!!document.querySelector(".nm-layer-conflict.nm-layer-visible")))}},{key:"_getMarket",value:function(e,t){var n="";return this._hasLocalMarket()?n=this._getLocalMarket():this._getMarketFromPageID(e,t)&&(n=this._getMarketFromPageID(e,t)),n.toUpperCase()}},{key:"_hasLocalMarket",value:function(){return this._hasSetupsValue("LocaleCountry")||this._hasSetupsValue("nemo.locale.country")}},{key:"_getLocalMarket",value:function(){var e="";return this._hasSetupsValue("LocaleCountry")?e=this._getSetupsValue("LocaleCountry"):this._hasSetupsValue("nemo.locale.country")&&(e=this._getSetupsValue("nemo.locale.country")),e}},{key:"_getMarketFromPageID",value:function(e,t){var n="",r=this._getPageID(e,t).split("/");return r&&r[1]&&(n=r[1]),n}},{key:"_getLanguage",value:function(e,t){return(this._hasLocalLanguage()?this._getLocalLanguage():this._getLanguageFromPageID(e,t)).toLowerCase()}},{key:"_hasLocalLanguage",value:function(){return this._hasSetupsValue("LocaleLanguage")||this._hasSetupsValue("nemo.locale.language")}},{key:"_getLocalLanguage",value:function(){var e="";return this._hasSetupsValue("LocaleLanguage")?e=this._getSetupsValue("LocaleLanguage"):this._hasSetupsValue("nemo.locale.language")&&(e=this._getSetupsValue("nemo.locale.language")),e}},{key:"_getLanguageFromPageID",value:function(e,t){var n="",r=this._getPageID(e,t).split("/");return r&&r[3]&&(n=r[3]),n.toLowerCase()}},{key:"_getPageID",value:function(e,t){var n=t;return this._hasSubString(e,"jslayer=")?n=this._getPageIdForJsLayer(n,e):this._hasSubString(e,"layer=")?n=this._getSubStringByMarker(e,"layer="):this._hasSubString(e,"page=")&&(n=this._getSubStringByMarker(e,"page=")),n=this._removeTrailingHtmlExtension(n)}},{key:"_getPageIdForJsLayer",value:function(e,t){var n=this._getSubStringByMarker(t,"jslayer="),r=e;return this._hasSubString(t,"page=")&&(r=this._getSubStringByMarker(t,"page=")),(r=this._removeTrailingHtmlExtension(r))+"/"+n}},{key:"_hasSetupsValue",value:function(e){var t=!1;return SETUPS&&SETUPS.get(e)&&""!==SETUPS.get(e)&&(t=!0),t}},{key:"_getSetupsValue",value:function(e){var t="";return SETUPS&&SETUPS.get(e)&&""!==SETUPS.get(e)&&(t=SETUPS.get(e)),t}},{key:"_hasSubString",value:function(e,t){return-1!==e.indexOf(t)}},{key:"_getSubStringByMarker",value:function(e,t){return this._hasSubString(e,t)?e.substr(e.indexOf(t)+t.length):""}},{key:"_removeTrailingHtmlExtension",value:function(e){var t=e;return t.indexOf(".html")>0&&(t=t.substr(0,t.indexOf(".html"))),t}}]),n}(F);void 0===window.customElements.get("audi-page-store")&&window.customElements.define("audi-page-store",j);var M=function(){function e(){r(this,e),this._registerdLayers=new Map,this._registeredLayers=new Map}var t;return s(e,[{key:"getLayerContent",value:(t=h(m().mark((function e(t){var n,r,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._registerdLayers.get(t.layerType),r=this._registeredLayers.get(t.layerType),!n){e.next=8;break}return e.next=5,n.getContent(t);case 5:o=e.sent,e.next=15;break;case 8:if(!r){e.next=14;break}return e.next=11,r.getContent(t);case 11:o=e.sent,e.next=15;break;case 14:throw new Error("modal layer content not found.");case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"registerLayerType",value:function(e){this._registerdLayers.set(e.type,e)}},{key:"registerModalLayer",value:function(e,t){this._registeredLayers.set(e,t)}},{key:"unregisterLayerType",value:function(e){this._registerdLayers.delete(e)}},{key:"unregisterModalLayer",value:function(e){this._registeredLayers.delete(e)}}],[{key:"MODAL_LAYER_OPEN_EVENT",get:function(){return"modalLayer:open"}},{key:"MODAL_LAYER_CLOSE_EVENT",get:function(){return"modalLayer:close"}}]),e}();if(!document.querySelector(".modal-layer")){var U=document.createElement("modal-layer-wrapper");document.body.appendChild(U)}var B=new M;function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function V(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(V.prototype,HTMLElement.prototype),Object.setPrototypeOf(V,HTMLElement);var Y=function(e){l(u,e);var t,n,o,a,i,c=H(u);function u(){return r(this,u),c.call(this)}return s(u,[{key:"beforeOpen",value:(i=h(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"beforeClose",value:(a=h(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"_triggerOpen",value:(o=h(m().mark((function e(){var t,n,r=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],e.prev=1,n=this.closest("modal-layer-wrapper"),e.next=5,n.open(this,t);case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),console.warn("_triggerOpen - modal layer wrapper missing."),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(){return o.apply(this,arguments)})},{key:"_triggerClose",value:(n=h(m().mark((function e(){var t,n,r=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],e.prev=1,n=this.closest("modal-layer-wrapper"),e.next=5,n.close(this,t);case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),console.warn("_triggerClose - modal layer wrapper missing."),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(){return n.apply(this,arguments)})}],[{key:"getContent",value:(t=h(m().mark((function e(){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("get content method has to be overridden from layer content element!");case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})},{key:"type",get:function(){return"ModalLayerContentBase"}}]),u}(V);void 0===window.customElements.get("modal-layer-content-base")&&window.customElements.define("modal-layer-content-base",Y);a(3638),a(3160);var q=a(9164),G={},W={__:G};function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function X(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}G.defaultConfig={maxListeners:0,newListener:!1,wildcard:!0},q.eventEmitter.prototype.one=q.eventEmitter.prototype.once,q.eventEmitter.prototype.trigger=q.eventEmitter.prototype.emit,G.defaultEmitter=new q.eventEmitter(G.defaultConfig),G.defaultEmitter.trigger=function(){G.defaultEmitter.emit.apply(this,arguments)},G.emitters={default:G.defaultEmitter},W.getEmitter=function(e){return void 0===e?G.emitters.default:(G.emitters[e]=G.emitters[e]||new q.eventEmitter(G.defaultConfig),G.emitters[e])},Object.setPrototypeOf(X.prototype,HTMLElement.prototype),Object.setPrototypeOf(X,HTMLElement);var J=function(e){l(f,e);var t,n,o,a,i,c,u=z(f);function f(){var e;return r(this,f),(e=u.call(this)).layerStack=[],e._bindContextToFunctions(),e}return s(f,[{key:"connectedCallback",value:function(){this.eventDelegate=g.dom.getEventDelegate("body"),this.globalEventEmitter=W.getEmitter(),this._setElementDomProperties(),this._addEvents()}},{key:"disconnectedCallback",value:function(){this._removeEvents()}},{key:"_setElementDomProperties",value:function(){this.classList.add("modal-layer"),this.setAttribute("data-layer-active","false"),this.setAttribute("data-module","modal-layer"),this.contentWrapper=document.createElement("div"),this.contentWrapper.classList.add("modal-layer__content"),this.shader=document.createElement("div"),this.shader.classList.add("modal-layer__shader-click-area"),this.appendChild(this.shader),this.appendChild(this.contentWrapper),this.modalLayer=document.querySelector(f.defaults.modalLayer),this.contentWrapper=this.modalLayer.querySelector(f.defaults.contentWrapper),this.shader=this.modalLayer.querySelector(f.defaults.shader)}},{key:"_bindContextToFunctions",value:function(){this._handleShaderClick=this._handleShaderClick.bind(this),this._handleModalLayerLinkClick=this._handleModalLayerLinkClick.bind(this),this._handleModalLayerEvents=this._handleModalLayerEvents.bind(this),this._handleEscClick=this._handleEscClick.bind(this),this._isLayerOpen=this._isLayerOpen.bind(this)}},{key:"_addEvents",value:function(){document.addEventListener(M.MODAL_LAYER_OPEN_EVENT,this._handleModalLayerEvents),document.addEventListener(M.MODAL_LAYER_CLOSE_EVENT,this._handleModalLayerEvents),this.globalEventEmitter.on(v.SC_ERROR,this._handleModalLayerEvents),this.globalEventEmitter.on(M.MODAL_LAYER_OPEN_EVENT,this._handleModalLayerEvents),this.globalEventEmitter.on(M.MODAL_LAYER_CLOSE_EVENT,this._handleModalLayerEvents),this.eventDelegate.on("click",f.defaults.modalLayerLink,this._handleModalLayerLinkClick)}},{key:"_removeEvents",value:function(){document.removeEventListener(M.MODAL_LAYER_OPEN_EVENT,this._handleModalLayerEvents),document.removeEventListener(M.MODAL_LAYER_CLOSE_EVENT,this._handleModalLayerEvents),this.globalEventEmitter.off(v.SC_ERROR,this._handleModalLayerEvents),this.globalEventEmitter.off(M.MODAL_LAYER_OPEN_EVENT,this._handleModalLayerEvents),this.globalEventEmitter.off(M.MODAL_LAYER_CLOSE_EVENT,this._handleModalLayerEvents),this.eventDelegate.off("click",f.defaults.modalLayerLink,this._handleModalLayerLinkClick)}},{key:"_addLayerEvents",value:function(){this.shader.addEventListener("click",this._handleShaderClick),this.eventDelegate.on("keydown","body",this._handleEscClick)}},{key:"_removeLayerEvents",value:function(){this.shader.removeEventListener("click",this._handleShaderClick),this.eventDelegate.off("keydown","body",this._handleEscClick)}},{key:"_handleModalLayerLinkClick",value:(c=h(m().mark((function e(t){var n,r,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.options=null,t.preventDefault(),n=t.target.closest(f.defaults.modalLayerLink),(r=Object.assign({},n.dataset)).targetElement=n,e.next=7,B.getLayerContent(r);case 7:o=e.sent,this._openLayerContent(o);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"_handleModalLayerEvents",value:(i=h(m().mark((function e(t){var n,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,this.options=null,t.detail&&(n=t.detail),!n||!n.layerAction||"close"!==n.layerAction){e.next=7;break}this._closeLayer(),e.next=12;break;case 7:return n&&n.options&&(this.options=n.options),e.next=10,B.getLayerContent(n);case 10:r=e.sent,this._openLayerContent(r);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"_handleShaderClick",value:function(){this._adjustOption("onShaderClick")&&this._closeLayer()}},{key:"_handleEscClick",value:function(e){document.body.classList.contains(f.defaults.open)&&27===e.keyCode&&this._adjustOption("onEscClick")&&this._closeLayer()}},{key:"_adjustOption",value:function(e){var t=g.dom.getElement(f.defaults.modalLayerOptions),n=Object.keys(t.dataset).length>0?t.dataset.layerOptions:"{}";return t=Object.assign(f.defaultOptions,JSON.parse(n)),this.options&&(t=Object.assign(f.defaultOptions,this.options)),t[e]}},{key:"_openLayerContent",value:(a=h(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isLayerOpen()){e.next=3;break}return this.layerStack.push(t),e.abrupt("return");case 3:return e.next=5,this._hideLayerContent(this._isLayerOpen());case 5:this._clearLayerWrapper(),this.contentWrapper.appendChild(t),this._openLayer();case 8:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"_clearLayerWrapper",value:function(){this.contentWrapper.innerHTML="",this.contentWrapper.className=f.defaults.contentWrapperClassName}},{key:"close",value:(o=h(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.beforeClose();case 2:this._closeLayer(n);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"_closeLayer",value:function(e){var t=this;e&&this.modalLayer.classList.add(f.defaults.modalLayerNoTransition),this.modalLayer.setAttribute(f.defaults.attributeState,"false"),document.body.classList.remove(f.defaults.open),this._removeLayerEvents(),this._clearLayerWrapper(),setTimeout((function(){t.modalLayer.classList.remove(f.defaults.modalLayerNoTransition),t.modalLayer.classList.remove(f.defaults.centerVertically),t._dispatchCustomEvent("LAYER_CLOSED");var e=t.layerStack.shift();e&&t._openLayerContent(e)}),250)}},{key:"open",value:(n=h(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.beforeOpen();case 2:this._openLayer(n);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"_openLayer",value:function(e){var t=this;e&&this.modalLayer.classList.add(f.defaults.modalLayerNoTransition),this.modalLayer.setAttribute(f.defaults.attributeState,"true"),document.body.classList.add(f.defaults.open),this._adjustOption("centerVertically")&&this.modalLayer.classList.add(f.defaults.centerVertically),this._showLayerContent();var n=this.querySelector(f.defaults.contentWrapper),r=this._adjustOption("addCssClass");n&&r&&n.classList.add(r),this._addLayerEvents(),setTimeout((function(){t.modalLayer.classList.remove(f.defaults.modalLayerNoTransition),t._dispatchCustomEvent("LAYER_LOADED",{element:t,type:"modal_layer"})}),250)}},{key:"_isLayerOpen",value:function(){return document.body.classList.contains(f.defaults.open)}},{key:"_hideLayerContent",value:(t=h(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return this.contentWrapper.classList.add(f.defaults.contentWrapperHide),this.contentWrapper.classList.remove(f.defaults.contentWrapperShow),e.abrupt("return",new Promise((function(e){setTimeout((function(){e("opacity on content wrapper was set.")}),250)})));case 4:return e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"_showLayerContent",value:function(){this.contentWrapper.classList.add(f.defaults.contentWrapperShow),this.contentWrapper.classList.remove(f.defaults.contentWrapperHide)}},{key:"_dispatchCustomEvent",value:function(e,t){try{var n=new CustomEvent(e,{detail:t});document.dispatchEvent(n)}catch(t){console.error("dispatchCustomEvent: ","the custom-event for "+e+" could not be dispatched",t)}}}],[{key:"defaults",get:function(){return{attributeState:"data-layer-active",centerVertically:"modal-layer--centered",close:"modal-layer--close",contentWrapper:".modal-layer__content",contentWrapperClassName:"modal-layer__content",contentWrapperHide:"modal-layer__content--hide",contentWrapperShow:"modal-layer__content--show",hidden:"sc-hidden",modalLayer:".modal-layer",modalLayerLink:".js-modal-layer-link",modalLayerNoTransition:"modal-layer--no-transition",modalLayerOptions:".modal-layer__inner [data-layer-options]",open:"modal-layer--open",shader:".modal-layer__shader-click-area"}}},{key:"defaultOptions",get:function(){return{addCssClass:"",centerVertically:!1,onEscClick:!0,onShaderClick:!0}}}]),f}(X);void 0===window.customElements.get("modal-layer-wrapper")&&window.customElements.define("modal-layer-wrapper",J);var K={},Z={__:K};K.oDefaults={sType:"sessionStorage"},K.normalizeOptions=function(e){var t=e||{};return"object"!==u(t)||t.type||(t.type=K.oDefaults.sType),{failsafeSet:!!t.failsafeSet,sType:"string"==typeof t?t:t.type}},K.read=function(e,t,n){var r=K.normalizeOptions(n).sType,o=JSON.parse(window[r].getItem(e));return o?o[t]:null},K.write=function(e,t,n,r){var o=K.normalizeOptions(r),a=o.sType;try{var i=window[a].getItem(e);return(i=null===i?{}:JSON.parse(i))[t]=n,i=JSON.stringify(i),window[a].setItem(e,i),!0}catch(r){return!!o.failsafeSet&&(o.failsafeSet=!1,K.write(e,t,n,o))}},K.clear=function(e,t){var n=K.normalizeOptions(t).sType;window[n].removeItem(e)},K.length=function(e,t){var n=K.normalizeOptions(t).sType,r=JSON.parse(window[n].getItem(e)),o=0;if(Object.keys&&r)o=Object.keys(r).length;else for(var a in r)r.hasOwnProperty(a)&&(o+=1);return o},Z.getItem=function(e,t,n){var r=encodeURIComponent(t);return K.read(e,r,n)},Z.setItem=function(e,t,n,r){var o=encodeURIComponent(t);return K.write(e,o,n,r)},Z.removeItem=function(e,t,n){var r=encodeURIComponent(t);K.write(e,r,null,n)},Z.clear=K.clear,Z.length=K.length;var $={},Q={__:$};$.oDefaults={classBodyLayerOpened:"nm-layer-opened",classHidden:"nm-hidden",classLayerShaderVisible:"nm-layer-shader-visible",classLayerVisible:"nm-layer-visible",selectorLayer:".nm-layer"},$.scrollPosition=0,Q.showShader=function(){return new Promise((function(e){document.body.classList.add($.oDefaults.classBodyLayerOpened),$.wait(20).then((function(){$.shader||$.initialize(),$.shader&&($.shader.classList.remove($.oDefaults.classHidden),$.shader.classList.add($.oDefaults.classLayerShaderVisible))})).then((function(){$.wait(280).then(e)}))}))},$.wait=function(e){return new Promise((function(t){setTimeout(t,e)}))},Q.hideShader=function(){return new Promise((function(e){document.body.classList.remove($.oDefaults.classBodyLayerOpened),$.shader.classList.remove($.oDefaults.classLayerShaderVisible),$.shader.classList.add($.oDefaults.classHidden),e($.shader)}))},$.findCurrentLayerOfType=function(e){var t=g.dom.getElement($.oDefaults.selectorLayer+'[data-layer-type="'+e+'"]');return g.dom.closest(t,".nm-layer-wrapper")},Q.open=function(e,t){var n,r;return e&&t?(n=document.body.appendChild(e),r=g.dom.isElement($.oDefaults.selectorLayer)?Q.showShader().then((function(){return $.openLayer(n,t)})):$.openLayer(n,t)):r=Promise.reject(new TypeError('"element"')),r},$.openLayer=function(e,t){return new Promise((function(n){n(t),$.wait(20).then((function(){var n=g.dom.getElement($.oDefaults.selectorLayer,e);n.classList.add($.oDefaults.classLayerVisible),n.setAttribute("data-layer-type",t.type)})),$.wait(530).then((function(){document.body.classList.add("nm-"+t.type+"-layer-opened")}))}))},Q.close=function(e,t){var n,r;return e&&t?(n=g.dom.getElement($.oDefaults.selectorLayer,e),g.dom.isElement(n)&&(n.classList.remove($.oDefaults.classLayerVisible),n.removeAttribute("data-layer-type")),r=$.wait(500).then((function(){return g.dom.isElement(e)?(g.dom.removeElement(e),document.body.classList.remove("nm-"+t.type+"-layer-opened"),Promise.resolve(t)):Promise.reject("element to be removed is missing!!!")}))):r=Promise.reject(new TypeError('"element"')),r},Q.toggleShader=function(){$.isShaderNotNeeded()?Q.hideShader():console.info("Shader remains visible")},$.isShaderNotNeeded=function(){return 0===$.getVisibleLayers().length},$.isLastVisibleLayer=function(){return 1===$.getVisibleLayers().length},$.getVisibleLayers=function(){return g.dom.getElementsArray($.oDefaults.selectorLayer+"."+$.oDefaults.classLayerVisible)},Q.replace=function(e,t){var n,r,o;return e&&t?new Promise((function(a,i){n=t.type,r=$.findCurrentLayerOfType(n),g.dom.isElement(r)?(r.classList.remove($.oDefaults.classLayerVisible),o=document.body.appendChild(e),$.wait(500).then((function(){var e=g.dom.getElement($.oDefaults.selectorLayer,o);e.classList.add($.oDefaults.classLayerVisible),e.setAttribute("data-layer-type",t.type)})),document.body.classList.add("nm-"+t.type+"-layer-opened"),$.wait(530).then((function(){document.body.removeChild(r),a(t)}))):i(new TypeError("noLayer of type "+t.type))})):Promise.reject(new TypeError('"element"'))},$.initialize=function(){g.dom.isElement(".nm-layer-shader")||(document.body.insertAdjacentHTML("beforeend",'<div class="nm-layer-shader nm-hidden"></div>'),$.shader=g.dom.getElement(".nm-layer-shader"))},$.initialize();var ee={},te={__:ee};ee.BASE_CLASS="nm-layer-wrapper",ee.loadedScripts=[],te.create=function(e){var t,n;return(t=document.createElement("div")).className=ee.BASE_CLASS,ee.globalEval(e),t.innerHTML=e,(n=t.firstChild).className&&n.classList.contains(ee.BASE_CLASS)?n:t},te.update=function(e,t){return ee.globalEval(t),e.innerHTML=t,!0},ee.globalEval=function(e){var t,n;(t=document.createElement("div")).insertAdjacentHTML("beforeend",e.trim()),(n=g.dom.getElementsArray("script",t)).length&&(window.asyncLoadingJS=!1,ee.evalScripts(n))},ee.evalScripts=function(e){for(var t,n,r,o=eval;e.length;)r=(n=(t=e.splice(0,1))[0]).text.indexOf("use strict")>-1,n.getAttribute("src")?ee.evalSingleScript(t):r?((t=document.createElement("script")).text=n.text,(document.head||document.getElementsByTagName("head")[0]).appendChild(t).parentNode.removeChild(t)):o(n)},ee.evalSingleScript=function(e){var t=e[0],n=t.text.indexOf("use strict")>-1,r=t.getAttribute("src");window.asyncLoadingJS?setTimeout((function(){ee.evalSingleScript(e,n)}),100):ee.loadedScripts.indexOf(r)<0&&(ee.loadedScripts.push(r),window.asyncLoadingJS=!0,g.jsLoader.loadURL(r,t).then((function(){window.asyncLoadingJS=!1})).catch((function(){window.asyncLoadingJS=!1})))};var ne={},re={__:ne};ne.layers={},ne.Layer=function(e,t,n){return this.type=e,this.html=t,this.element=te.create(t),this.onCloseRequest=n,this},ne.Layer.prototype.close=function(){return ne.closeLayer(this)},ne.Layer.prototype.update=function(e){this.element=te.create(e),this.html=e},ne.Layer.prototype.getElement=function(){return this.element},ne.Layer.prototype.remove=function(){delete ne.layers[this.type],this.element=null,this.onCloseRequest=null,this.html=null,this.type=null},re.initialize=function(e){ne.eventBus=e,ne.addEvents()},ne.addEvents=function(){g.dom.getEventDelegate("body").off("click",".nm-layer-wrapper",re.wrapperClickHandler),g.dom.getEventDelegate("body").on("click",".nm-layer-wrapper",re.wrapperClickHandler)},re.wrapperClickHandler=function(e){ne.nrOfLayers()>0&&ne.isShaderClicked(e)&&re.requestCloseall()},re.open=function(e,t,n){var r;return e?t?ne.hasActiveLayer(e)?"cms"===e||"conflict-layer"===e?(r=new ne.Layer(e,t,n),ne.updateLayer(r,t)):"jslayer"===e?Promise.resolve(ne.layers.jslayer):Promise.reject(new Error("Duplicate layer type. "+e)):n&&"function"!=typeof n?Promise.reject(new Error("onCloseRequest has to be a function.")):(r=new ne.Layer(e,t,n),ne.layers[e]=r,ne.openLayer(r)):Promise.reject(new Error("html not set.")):Promise.reject(new Error("type not set."))},ne.hasActiveLayer=function(e){return!!ne.layers[e]},ne.nrOfLayers=function(){var e,t=0;for(e in ne.layers)ne.layers.hasOwnProperty(e)&&t++;return t},re.requestCloseall=function(){var e;for(e in ne.layers)ne.layers.hasOwnProperty(e)&&ne.requestCloseLayer(e)},ne.requestCloseLayer=function(e){var t=ne.layers[e];"function"==typeof t.onCloseRequest?t.onCloseRequest():ne.closeLayer(t)},ne.openLayer=function(e){var t=e;return Q.open(e.element,e).then((function(e){return ne.dispatchEvent(v.LAYER_LOADED,{element:e.element}),ne.dispatchCustomEvent("LAYER_LOADED",{element:e.getElement(),type:"layer"}),e})).catch((function(e){throw ne.closeLayer(t),console.error("core/layer/animation:layerOpen: animation rejected.",e),e}))},ne.dispatchEvent=function(e,t){ne.eventBus.emit(e,t)},ne.dispatchCustomEvent=function(e,t){try{var n=new CustomEvent(e,{detail:t});document.dispatchEvent(n)}catch(t){console.error("dispatchCustomEvent: ","the custom-event for "+e+" could not be dispatched",t)}},ne.closeLayer=function(e){return Q.close(e.element,e).then((function(e){e.remove()}),(function(e){throw console.warn("core/layer/animation:layerClose: animation rejected.",e),e})).catch((function(e){console.error(e)})).then(Q.toggleShader).then((function(){ne.dispatchEvent(v.LAYER_CLOSED,{element:e.element}),ne.dispatchCustomEvent("LAYER_CLOSED")}))},ne.updateLayer=function(e,t){return e.update(t),Q.replace(e.getElement(),e).then((function(e){return ne.dispatchEvent(v.LAYER_LOADED,{element:e.getElement()}),ne.dispatchCustomEvent("LAYER_LOADED",{element:e.getElement(),type:"layer"}),e})).catch((function(e){throw console.warn("core/layer/animation:layerUpdate: animation rejected."),e}))},ne.isShaderClicked=function(e){return g.dom.isElementOutsideOfElementWithSelector(e.target,".nm-layer-inner")&&e.target.classList.contains("nm-layer-wrapper")};a(9625),a(1);var oe=function(e,t){this.pathname=e||"",this.hash=t||"",this.changes=[],this.init()};oe.URL_PARAM_SEPARATOR="&",oe.URL_PAGE_SEPARATOR="~_~",oe.VERSION="0.2.1",oe.prototype.init=function(e,t){var n;for(n in t&&(this.hash=t),this.hashObjects=this.parseHash(this.hash),this.attrs={},this.hashObjects)"page"===n?this.hashObjects.page!==this.pathname&&this.changes.push([n,this.hashObjects[n],1]):n.match(/^data/g)?this.attrs[n]=this.hashObjects[n]:this.changes.push([n,this.hashObjects[n],1])},oe.prototype.update=function(e){var t,n,r=this.hashObjects;for(n in this.hash=e,this.hashObjects=this.parseHash(e),this.changes=[],this.currentAttrs=this.attrs||{},this.attrs={},this.hashObjects)n.match(/^data/g)?this.attrs[n]=this.hashObjects[n]:this.hashObjects[n]!==r[n]&&this.changes.push([n,this.hashObjects[n],1]);for(t in r)this.hashObjects[t]||"page"===t||this.changes.push([t,r[t],0]);!this.hashObjects.page&&r.page&&(this.hashObjects.page=this.pathname,this.changes.push(["page",this.pathname,1]))},oe.prototype.parseHash=function(e){var t,n,r,o,a,i,s,c={};if((t=e||"").match(/^#/)&&(t=t.substring(1)),t){o=(n=t.split(oe.URL_PAGE_SEPARATOR)).length;var l,u=/\+/g,f=/([^&=]+)=?([^&]*)/g,d=function(e){return decodeURIComponent(e.replace(u," "))};for(r=0;i=n[r],r<o;r++)for(;null!==(l=f.exec(i));)a=d(l[1]),s=d(l[2]),c[a]=s}return c},oe.prototype.getChanges=function(){var e=this.changes;return this.changes=[],e},oe.prototype.getAttrs=function(){return this.attrs||{}},oe.prototype.getCurrentAttrs=function(){return this.currentAttrs||{}};var ae={},ie={__:ae},se=!1,ce=null,le=!1;ae.pathBase="",ie.history_available=!(!window.history||!history.pushState),ae.registered=[],ae.newHashString=function(e,t,n,r,o){var a,i,s=r||"open",c=o||{};return t?(a=ae.state.parseHash(e),"close"===s?void 0!==a[t]&&delete a[t]:a[t]=n,i=ae.processHashKeys(a,s),i=ae.addAttrsToHashParts(i,c),i=ae.removeAttrsFromHashParts(i,c),ae.joinHashParts(i,e)):e},ae.processHashKeys=function(e,t){var n,r,o=[];for(n in e)if(e[n]){if("close"===t&&n.match(/data-/))continue;if("page"===n){history.pushState({pageLoad:!0},null,e[n]),ae.updatePathBase(),ae.handleHistoryChange({state:{pageLoad:!0}});continue}(r=e[n])&&o.push(n+"="+r)}return o},ae.addAttrsToHashParts=function(e,t){var n,r,o=e;for(n in t)t[n]&&(r="data-"+n+"="+t[n],o&&-1===o.indexOf(r)&&o.push("data-"+n+"="+t[n]));return o},ae.removeAttrsFromHashParts=function(e,t){var n,r,o,a=e;for(n in t)t[n]||(r="data-"+n+"=true",a&&a.indexOf(r)>-1&&(o=a.indexOf(r),a.splice(o,1)));return a},ae.joinHashParts=function(e,t){return new RegExp(oe.URL_PAGE_SEPARATOR).test(t)?e.join(oe.URL_PAGE_SEPARATOR):e.join(oe.URL_PARAM_SEPARATOR)},ae.getChannelAttributes=function(e,t){var n,r,o={};for(r=e.attributes.length-1;r>-1;r--)(n=e.attributes[r].nodeName).match(/^data/)&&n.match(t)&&(o[n.replace(/^data-/,"")]=e.attributes[r].nodeValue);return o},ae.publishChanges=function(e,t,n){var r,o,a,i,s,c,l;for(c=0,l=e.length;c<l;c++)"page"===(r=e[c])[0]?(a=0===r[2]?location.pathname:r[1],ae.eventBus.emit(v.PAGE_OPEN,{pathname:a})):(o=0===r[2]?".close":".open",(i={})[r[0]]=r[1],s=r[0]+o,ae.eventBus.emit(s,[i,t,n]))},ae.hashIsEmpty=function(e){var t="";return e&&(t=e),0===t.length},ae.stringContainsRegexPattern=function(e,t){return t.test(e)},ae.hasInvalidHashParam=function(e){var t=!1,n=e;return n&&(n.indexOf("=")>0&&(n=n.split("=")[1]),t=!0===(t=ae.hashIsEmpty(n))||ae.stringContainsRegexPattern(decodeURIComponent(n),/(^\s*\/\/|:\/\/)/gi)),t},ae.tryHashUpdate=function(e){le=!1,ae.eventBus.emit(v.PAGE_LEAVE),le||(e?(se=!1,location.hash=e):(se=window.pageYOffset,location.hash&&""!==location.hash&&(location.hash="")),ce=location.hash)},ae.createState=function(e,t){return new oe(e||"",t||"")},ae.handleHistoryChange=function(e){e.state&&e.state.pageLoad&&ae.publishChanges([["page",location.pathname,0]],[],[])},ae.isInpageNaviPresent=function(){var e=SETUPS.get("nemo.nav.navSelector")+" a",t=[].slice.call(document.querySelectorAll(e)),n=[].slice.call(document.querySelectorAll(".nm-pageOpen"));return t.length>0||n>0},ae.updatePathBase=function(){ae.pathBase=window.location.pathname.split("/"),ae.pathBase.pop(),ae.pathBase.push(""),ae.pathBase=ae.pathBase.join("/"),ae.pathBase=ae.pathBase.split(" ").join(""),SETUPS.set("nemo.core.router.pathBase",ae.pathBase)},ae.handleHashChange=function(){var e;if(ae.hasInvalidHashParam(location.hash))return console.error("invalid hash param",location.hash),ae.eventBus.emit(v.ERROR),location.hash=location.hash.split("#")[0],!1;(e=location.hash.split("#")[1]||"")&&(e="#"+e),se&&(window.scrollTo(0,se),ce!==e&&(se=!1)),ae.eventBus.emit(v.HASH_CHANGE,e),ae.state.update(e),ae.publishChanges(ae.state.getChanges(),ae.state.getAttrs(),ae.state.getCurrentAttrs())},ae.reset=function(){ae.state=this.createState(location.pathname,""),ae.registered=[]},ae.addUrlSelector=function(e,t){var n=e.lastIndexOf(".html");return e.substring(0,n)+"."+t+e.substring(n)},ae.getPreviousPageData=function(e){return{hash:e.hash,hashIdentifier:e.hash&&e.hash.indexOf("page=")>=0?"page":"",hashShort:e.hash&&e.hash.indexOf("page=")>=0?e.hash.split("page=")[1]:"",pathName:e.pathname,url:e.pathname+e.hash}},ae.getClosestATag=function(e){return"A"===e.target.tagName?e.target:g.dom.closest(e.target,"a")},ie.register=function(e,t,n){var r=n||"open";ae.registered.push([e,t,r]),console.info("ROUTER.register++++ selector: "+e+", keyName: "+t+", action: "+r),ae.legacyEventBus=g.dom.getEventDelegate("body"),ae.legacyEventBus.on("click",e,ae.handleRegisteredClicks(t,r))},ae.isClickHandlerExitConditionFulfilled=function(e){var t,n=e,r=!1;return g.dom.getElementsArray("body.nm-layer-iframelayer").length&&(console.info("IframelayerFallback-Mode"),g.dom.isElement(n)&&n.classList.contains("nm-layerLink")&&((t=n.getAttribute("href")).indexOf(".iframelayer.")<0&&(t=ae.addUrlSelector(t,"iframelayer"),n.setAttribute("href",t)),r=!0)),(g.dom.isElement(n)&&n.classList.contains("js-link-extern")||g.dom.getElementsArray("body.nm-layer-fallback").length)&&(r=!0),r},ae.handleRegisteredClicks=function(e,t){return function(n){var r,o,a,i=this,s=ae.getClosestATag(n);if(ae.isClickHandlerExitConditionFulfilled(s))return!0;n.preventDefault(),n.target.classList.contains("j-stop-propagation")&&n.stopPropagation(),r=i.getAttribute("href")?i.getAttribute("href"):i.getAttribute("data-href"),o=ae.getChannelAttributes(i,e),r||(r=(a=g.dom.closest(n.target.parentNode,"a"))?a.getAttribute("href"):""),o=ae.handleInnerLayerChannelAttributes(n,o),ae.previousPage=ae.getPreviousPageData(window.location),ae.tryHashUpdate(ae.newHashString(location.hash,e,r,t,o))}},ae.handleInnerLayerChannelAttributes=function(e,t){var n=t;return n.innerlayer=!1,ae.shouldSetTabLayerChannelAttribute(e)&&(n.innerlayer="true"),n},ae.shouldSetTabLayerChannelAttribute=function(e){var t=g.dom.closest(e.target,".nm-navigation-layer-wrap .nm-navigation-derivative-sub-list"),n=g.dom.closest(e.target,".nm-layer-content .nm-navigation"),r=g.dom.closest(e.target,".nm-gallery-slides .nm-icon-next-arrow"),o=g.dom.closest(e.target,".nm-gallery-slides .nm-icon-back-arrow"),a=!1;return(t||n||r||o)&&(a=!0),a},ie.open=function(e,t){ae.tryHashUpdate(ae.newHashString(location.hash,e,t,"open"))},ie.close=function(e,t){ae.tryHashUpdate(ae.newHashString(location.hash,e,t,"close"))},ie.getPreviousPage=function(){return ae.previousPage?ae.previousPage:null},ie.getState=function(){return ae.state},ie.getRegistered=function(){return ae.registered},ie.getPathBase=function(){return ae.pathBase||""},ie.initialize=function(e){var t;if(ae.eventBus=e,window.addEventListener("popstate",ae.handleHistoryChange),window.addEventListener("hashchange",ae.handleHashChange,!1),ae.hasInvalidHashParam(location.hash))return console.error("invalid hash param",location.hash),ae.eventBus.emit(v.ERROR),location.hash=location.hash.split("#")[0],!1;ae.state=ae.createState(location.pathname,location.hash),t=function(){ae.publishChanges(ae.state.getChanges(),ae.state.getAttrs(),ae.state.getCurrentAttrs()),!location.hash&&ae.isInpageNaviPresent()&&history.replaceState({pageLoad:!0},null,location.href)},window.setTimeout(t,100),ae.updatePathBase()};var ue={},fe={__:ue};ue.callbacks={},ue.layer=null,ue.pending=null,ue.openLayersSinceLastClose=0,fe.initialize=function(e){ue.eventBus=e,ue.registerAtRouter(),ue.registerEvents()},fe.register=function(e,t){ue.callbacks[e]=t,ue.pending&&2===ue.pending.length&&ue.pending[0]&&e===ue.pending[0]&&ue.processLayer(e,ue.pending[1])},ue.registerAtRouter=function(){ie.register(".nm-jslayerLink","jslayer"),ie.register(".nm-j-jslayer .nm-button-close","jslayer","close"),ie.register(".nm-j-jslayer .nm-j-layer-close-button","jslayer","close")},ue.registerEvents=function(){ue.eventBus.on("jslayer.open",ue.handleJslayerOpen),ue.eventBus.on("jslayer.close",ue.handleJslayerClose),ue.domDelegate=g.dom.getEventDelegate("body"),ue.domDelegate.on("click",".nm-j-jslayer .nm-button-back",ue.handleBackClick)},ue.handleJslayerOpen=function(e){var t,n,r,o=e[0]&&e[0].jslayer?e[0].jslayer:null;o&&(o.indexOf("#")>-1&&(o=o.split("#")[1]),t=n=o,o.indexOf(".")>-1&&(t=(r=o.split("."))[0],n=r[1]),ue.callbacks[t]&&"function"==typeof ue.callbacks[t]?ue.processLayer(t,n):ue.pending=[t,n])},ue.processLayer=function(e,t){var n=ue.callbacks[e].call({},t);re.open("jslayer",n,ue.handleCloseRequest).then((function(n){ue.layer=n,ue.layer.key=e,ue.layer.id=t,ue.openLayersSinceLastClose+=1,ue.openLayersSinceLastClose>1?ue.layer.element.classList.add("nm-jslayer-show-backbutton"):ue.layer.element.classList.remove("nm-jslayer-show-backbutton")}),(function(e){console.warn("jslayer.handleJslayerOpen:",e)}))},ue.handleCloseRequest=function(){var e=ue.layer.key;ue.layer.id&&(e=e+"."+ue.layer.id),ie.close("jslayer",e),ue.openLayersSinceLastClose=0},ue.handleBackClick=function(){ue.openLayersSinceLastClose-=2,history.back()},ue.handleJslayerClose=function(){ue.layer&&ue.layer.close&&(ue.layer.close(),ue.eventBus.emit(v.LAYER_CLOSE,{element:ue.layer.element}),ue.pending=null,ue.openLayersSinceLastClose=0)};var de={},pe={__:de};de.registeredPatterns={},de.JS_LAYER_REGEX=/(jslayer:)(\w|\.|-|_)+(,)?/gi,pe.getContent=function(e){return de.getLayerContent(e)},pe.isStaticContentRequest=function(e){return de.isStaticLayerRequest(e)},de.isStaticLayerRequest=function(e){return!!e.match(de.JS_LAYER_REGEX)},de.parseParams=function(e){var t={};return(e||"").replace(de.JS_LAYER_REGEX,"").split(",").forEach((function(e){var n=e.split("=");t[n[0]]=n[1]})),t},de.parsePattern=function(e){var t=(e||"").match(de.JS_LAYER_REGEX);return t?t[0].split(",")[0]:null},de.getLayerContent=function(e){var t=de.parseParams(e),n=de.parsePattern(e);return pe.isRegisterPattern(n)?de.registeredPatterns[n](t):Promise.reject("pattern "+n+" id not registered!!")},pe.registerStaticRequest=function(e,t){de.registeredPatterns[e]=t},pe.isRegisterPattern=function(e){return!!de.registeredPatterns[e]&&"function"==typeof de.registeredPatterns[e]};var he={},ye={__:he};he.oIndex={},he.iCounterXhr=0,he.aCacheURI=[],he.iParallelXHRMax=3,he.sMarkerXHR=".headless",he.oMarkerProvider=[],he.registeredContentProviders=[],he.DYNAMIC_URL_PREFIX_REGEX=/js(-|_)link/g,he.updateIndex=function(e,t){var n=encodeURIComponent(e);t?he.oIndex[n]=!0:(he.oIndex[n]=!1,delete he.oIndex[n])},ye.isCached=function(e){var t=encodeURIComponent(e);return!!he.oIndex[t]},ye.setContent=function(e,t,n){var r=Z.setItem("core.controller.content",e,t,{failsafeSet:n});r||ye.flush(),he.updateIndex(e,r)},he.hasDynamicContentUrl=function(e){return(e||"").match(he.DYNAMIC_URL_PREFIX_REGEX)},ye.getContent=function(e,t){var n,r;return he.hasDynamicContentUrl(e)?(r=he.getDynamicContentProvider(e))?he.getContentFromProvider(r,e):Promise.reject(new Error("no registered content provider has been found for this url: "+e)):pe.isStaticContentRequest(e)?pe.getContent(e):(n=Z.getItem("core.controller.content",e,t),ye.isCached(e)&&n?Promise.resolve(Z.getItem("core.controller.content",e,t)):he.loadRemoteContent(e,t))},ye.fillCache=function(e){for(var t=0;t<e.length;t++)ye.isCached(e[t])||he.aCacheURI.push({sKey:e[t]});he.processCacheURIs()},he.processCacheURIs=function(){var e;0!==he.aCacheURI.length&&(he.iCounterXhr<he.iParallelXHRMax&&(e=he.aCacheURI.shift(),he.loadRemoteContent(e.sKey,!0)),he.aCacheURI.length>0&&window.setTimeout(he.processCacheURIs,50))},ye.registerContentProvider=function(e){var t={};e&&e.regEx&&"function"==typeof e.regEx.exec&&e.callbackPromise&&"function"==typeof e.callbackPromise?(t.regEx=e.regEx,t.callbackPromise=e.callbackPromise,t.name=e.name||"provider#"+he.registeredContentProviders.length,he.registeredContentProviders.push(t)):console.warn("invalid params!could not register content Provider")},he.getDynamicContentProvider=function(e){var t=he.registeredContentProviders.filter((function(t){return!!e.match(t.regEx)}));return t.length?t[0]:null},he.getContentFromProvider=function(e,t){var n=e.callbackPromise(t);return"function"==typeof n.then?n:Promise.reject(new Error("invalid content provider"))},ye.registerMarkerProvider=function(e){"function"==typeof e&&he.oMarkerProvider.indexOf(e)<0&&he.oMarkerProvider.push(e)},he.rewriteUrl=function(e){var t="."+e.split("#")[0].split("?")[0].split(".").pop(),n=[],r="",o=!1;return he.oMarkerProvider.forEach((function(t){n.push(t(e))})),Promise.all(n).then((function(e){return e.forEach((function(e){e.marker&&!o&&(r+="."+e.marker,e.overwrites&&(r="."+e.marker,o=!0))})),r})).then((function(n){return e.split(t).join(n+he.sMarkerXHR+t)})).catch((function(t){return console.warn(t),e}))},he.loadRemoteContent=function(){var e=h(m().mark((function e(t,n){var r,o,a,i,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t},o=function(e){window.ADRUM&&window.ADRUM.command&&e.indexOf("component_error")>-1&&window.ADRUM.command("addUserData","component-error","true")},e.prev=2,e.next=5,he.rewriteUrl(t);case 5:return a=e.sent,he.iCounterXhr+=1,e.t0=r,e.next=10,fetch(a);case 10:return e.t1=e.sent,i=(0,e.t0)(e.t1),e.next=14,i.text();case 14:return s=e.sent,o(s),n&&ye.setContent(t,s),e.abrupt("return",s);case 20:return e.prev=20,e.t2=e.catch(2),console.warn("loadRemoteContent failed",e.t2),e.abrupt("return",e.t2);case 24:return e.prev=24,he.iCounterXhr-=1,e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[2,20,24,27]])})));return function(t,n){return e.apply(this,arguments)}}(),ye.flush=function(e){var t,n,r,o=e||[],a=[];if(0===o.length)he.oIndex={},Z.clear("core.controller.content","sessionStorage");else{for(t in he.oIndex)he.oIndex.hasOwnProperty(t)&&(r=decodeURIComponent(t),he.oIndex[t]&&-1===o.indexOf(r)&&a.push(r));for(n in a)a.hasOwnProperty(n)&&(Z.removeItem("core.controller.content",a[n]),he.updateIndex(a[n],!1))}},he.initialize=function(){ye.flush()},ye.debug=function(){return{cacheItems:he.aCacheURI,cacheLenght:he.aCacheURI.length}},ye.initialize=function(){he.initialize()};var me={__:{}};function ge(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}}(e,n)||t(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}me.requiresDynamicDot=function(){return null==document.querySelector("#nm-id-default-layer-tpl")},me.getTemplateFromBackend=function(e){return new Promise((function(t,n){var r=SETUPS.get("nemo.market.homepage");if(!r){var o=window.location.pathname.lastIndexOf(".");r=window.location.pathname.substring(0,o)}fetch(r+".dot-template."+e+".html",{headers:{Accept:"text/plain"},method:"GET"}).then((function(e){if(e.ok)return e.text();throw new Error(e.error)})).then((function(e){t(e?e.trim():e)})).catch((function(e){console.error("Error while reading layer template",e),n(e)}))}))};var ve='\n\t<div class="nm-layer-wrapper nm-layer-wrapper-dialogue">\n\t\t<div class="nm-layer nm-layer-dialogue nm-error-layer nm-layer-visible">\n\t\t\t<div class="nm-layer-inner">\n\t\t\t\t<div class="nm-layer-dialogue-content clearfix">\n\t\t\t\t\t<h1 class="nm-el-hdl nm-el-hdl-02 nm-at-hdl-b">{{=it.errorHeadline}}</h1>\n\t\t\t\t\t<p class="nm-error nm-error-layer-message nm-el-pg nm-el-pg-03 nm-at-pg-indicator" style="float:none;" data-defaultErrorMessage="{{=window.i18n[\'error-layer.unknown-error\']}}">{{=it.errorMessage}}</p>\n\t\t\t\t\t<div class="nm-layer-btn-ok"><a class="nm-el-btn nm-el-btn-01 nm-j-ok-btn" href="#">{{=window.i18n[\'ok-label\']}}</a></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n',Ee={},_e={__:Ee};Ee.LAYER_TPL_ID="nm-id-default-data-layer-tpl",Ee.defaultLayerType="cms",Ee.templateStr=null,Ee.layer=null,Ee.nextLayerData=null,Ee.openLayersSinceLastClose=0,Ee.openLayersSinceLastTab=0,Ee.closeButtonHistoryBackTarget=-1,Ee.backButtonEl=null,Ee.scrollStackingIndex=0,Ee.stackingDirections={downwards:"oneLessLayer",upwards:"onMoreLayer"},Ee.layerStackingDirection=Ee.stackingDirections.upwards,Ee.scrollPositionStackingArray=[],Ee.debugActive=!1,_e.initialize=function(e){Ee.eventBus=e,Ee.domEventDelegate=g.dom.getEventDelegate("body"),Ee.addEvents(),Ee.registerAtRouter()},Ee.addEvents=function(){Ee.eventBus.on(v.LAYER_OPEN,Ee.handleLayerOpen),Ee.eventBus.on(v.LAYER_CLOSE,Ee.handleLayerClose)},Ee.registerAtRouter=function(){ie.register(".nm-layerLink","layer"),ie.register(".nm-layer .nm-button-close","layer","close"),ie.register(".nm-layer .nm-button-cancel","layer","close"),ie.register(".nm-layer .nm-j-layer-close-button","layer","close"),ie.register(".nm-layerClose","layer","close")},Ee.handleLayerOpen=function(e){this&&"function"==typeof this.preventDefault&&this.preventDefault(),Ee.nextLayerData=[e[0].layer,e[1],e[2]],e[1]["data-innerlayer"]?(Ee.closeButtonHistoryBackTarget--,Ee.openLayersSinceLastTab=0):(Ee.openLayersSinceLastClose+=1,Ee.openLayersSinceLastTab+=1,Ee.storeScrollStackingPosition()),Ee.startNewLayerProcess()},Ee.layerCloseHandler=function(e){e.preventDefault&&e.preventDefault(),re.requestCloseall(),Ee.domEventDelegate.off("click",".nm-error-layer .nm-j-ok-btn",Ee.layerCloseHandler),Ee.scrollStackingIndex=1,Ee.layerStackingDirection=Ee.stackingDirections.downwards},Ee.handleCloseRequest=function(){ie.close("layer",Ee.layer.url),Ee.scrollStackingIndex=1,Ee.debugScrollStacking("closeRequest",Ee.scrollStackingIndex)},Ee.controlBackButton=function(e){var t,n,r=e.getElement();r&&(n=r.querySelector(".nm-button-close"),t=r.querySelector(".nm-innerlayer-close"),n||(n=r.querySelector(".nm-j-layer-close-button"),t=r.querySelector(".nm-j-innerlayer-close-button")),Ee.openLayersSinceLastClose>1?Ee.enableTabsCloseButton(n,t):Ee.disableTabsCloseButton(n,t))},Ee.enableTabsCloseButton=function(e,t){e.style.display="none",t&&(t.style.display="inline-flex",t.addEventListener("click",Ee.handleLayerBack))},Ee.disableTabsCloseButton=function(e,t){e.style.display="inline-flex",t&&(t.style.display="none",t.removeEventListener("click",Ee.handleLayerBack))},Ee.handleLayerBack=function(e){var t;e.stopPropagation(),-1!==Ee.closeButtonHistoryBackTarget&&0===Ee.openLayersSinceLastTab?(t=Ee.closeButtonHistoryBackTarget,history.go(t)):(history.back(),Ee.openLayersSinceLastTab-=1),Ee.closeButtonHistoryBackTarget=-1,Ee.openLayersSinceLastClose>2?Ee.openLayersSinceLastClose-=1:Ee.openLayersSinceLastClose-=2,Ee.layerStackingDirection=Ee.stackingDirections.downwards,Ee.debugScrollStacking("handleBack",Ee.scrollStackingIndex),Ee.checkCookieLayer()},Ee.handleLayerClose=function(){if(this&&"function"==typeof this.preventDefault&&this.preventDefault(),Ee.openLayersSinceLastClose=0,Ee.openLayersSinceLastTab=0,Ee.closeButtonHistoryBackTarget=-1,Ee.layerStackingDirection=Ee.stackingDirections.downwards,!Ee.layer)return!1;Ee.layer.close().then((function(){Ee.layer=void 0,Ee.startNewLayerProcess(),Ee.setScrollStackingPosition(),Ee.checkCookieLayer()}),(function(e){console.error(e)}))},Ee.checkCookieLayer=function(){var e=document.querySelector("body"),t=e.classList.contains("nm-ensBanner-isVisible");e.classList.contains("nm-ensBanner-isVisible--showLegalLayers")&&t&&e.classList.remove("nm-ensBanner-isVisible--showLegalLayers")},Ee.startNewLayerProcess=function(){var e,t;if(Ee.nextLayerData){e=Ee.nextLayerData[0],t=Ee.nextLayerData[1],Ee.nextLayerData=null;var n=Ee.getTemplatePromise(t),r=ye.getContent(e,!1);Promise.all([n,r]).then((function(t){var n=ge(t,2),r=n[0],o=n[1];-1!==o.indexOf("<html")&&Ee.handleError();var a=g.template.render(r,{content:o});if(!Ee.layer||"cms"===Ee.layer.type)return re.open("cms",a,Ee.handleCloseRequest).then((function(t){Ee.layer=t,Ee.layer.url=e,Ee.controlBackButton(Ee.layer),Ee.setScrollStackingPosition()})).catch((function(e){console.error(e)}));console.warn("could not Open Layer")})).catch((function(e){console.error("An error occured",e),Ee.handleError(e)}))}},Ee.storeScrollStackingPosition=function(){var e=document.querySelector(".nm-layer-wrapper"),t=!!e&&"fixed"===getComputedStyle(e).position,n=Ee.scrollStackingIndex>=1,r=t&&n?e.scrollTop:window.pageYOffset||0;Ee.layerStackingDirection===Ee.stackingDirections.upwards&&(Ee.scrollPositionStackingArray[Ee.scrollStackingIndex]=r,Ee.scrollStackingIndex++),Ee.debugScrollStacking("storePosition",Ee.scrollStackingIndex-1)},Ee.setScrollStackingPosition=function(){var e=document.querySelector(".nm-layer-wrapper"),t=!!e&&"fixed"===getComputedStyle(e).position,n=Ee.scrollStackingIndex>=1,r=t&&n;Ee.layerStackingDirection===Ee.stackingDirections.downwards?(Ee.scrollStackingIndex--,Ee.scrollToStoredPosition(r,e,Ee.scrollPositionStackingArray[Ee.scrollStackingIndex]),Ee.layerStackingDirection=Ee.stackingDirections.upwards):(Ee.scrollToStoredPosition(r,e,0),Ee.scrollPositionStackingArray[Ee.scrollStackingIndex]=0),Ee.debugScrollStacking("setPosition",Ee.scrollStackingIndex)},Ee.scrollToStoredPosition=function(e,t,n){e?t.scrollTop=n:window.scroll(0,n)},Ee.debugScrollStacking=function(e,t){Ee.debugActive&&(console.info("StackingAction: ",e),console.info("StackingIndex: ",t),console.info("ScrollPosition: ",Ee.scrollPositionStackingArray[t]),Ee.layerStackingDirection===Ee.stackingDirections.upwards?console.info("StackingDirection set to: Upwards (default)"):console.info("StackingDirection set to: Downwards"),console.info("------------------------------------------------"))},Ee.getTemplatePromise=function(e){return me.requiresDynamicDot()?Ee.getTemplateFromBackend(e):Ee.getTemplateString(e)},Ee.getTemplateFromBackend=function(e){var t=null;return t=e&&e["data-layer-tpl"]?"nm-id-"+e["data-layer-tpl"]+"-layer-tpl":Ee.LAYER_TPL_ID,me.getTemplateFromBackend(t)},Ee.getTemplateString=function(e){var t,n="#"+Ee.LAYER_TPL_ID;return e&&e["data-layer-tpl"]&&(n="#nm-id-"+e["data-layer-tpl"]+"-layer-tpl"),t=document.querySelector(n),Promise.resolve(t.innerHTML||"")},Ee.handleError=function(){var e;e=g.template.render(ve,{errorMessage:window.i18n["error-layer.unknown-error"]||"Es ist ein unbekannter Fehler aufgetreten"}),re.open("error",e).then((function(){Ee.domEventDelegate.on("click",".nm-error-layer .nm-j-ok-btn",Ee.layerCloseHandler)})).catch((function(e){console.error(e)})),history.back()};var Le={__:{},setPageTitle:function(e){document.title=e},extractLayerTitle:function(e){var t=e?g.dom.getElement(".nm-layer-title",e):null,n="";return null!==t&&(n=t.innerHTML),n}},Se={},Oe={__:Se};Se.addEvents=function(){Se.eventBus.on(v.LAYER_LOADED,Se.handerLayerLoaded),Se.eventBus.on(v.LAYER_CLOSED,Se.handerLayerClosed)},Se.handerLayerClosed=function(){var e=g.dom.getElement("#nm-page-title");e&&null!==e&&Se.updateTitle(e.innerHTML)},Se.handerLayerLoaded=function(e){var t;e&&e.element&&(t=Le.extractLayerTitle(e.element),Se.updateTitle(t))},Se.updateTitle=function(e){var t,n;e&&""!==e&&((t=document.createElement("div")).innerHTML=e,n=t.firstChild.nodeValue,Le.setPageTitle(n))},Oe.initialize=function(e){Se.eventBus=e,Se.addEvents()};var Ce="\n\t{{? SETUPS.get('nemo.footnote-engine.active') === true}}\n\t\t{{? !SETUPS.get('scopes.nemo.DISABLE_FEATURE_HUB') && SETUPS.get('scopes.nemo.ONEFOOTER_FA_INCLUDE') && SETUPS.get('nemo.fefa.scOneFootnoteJsonUrl') && SETUPS.get('nemo.FefaFeatureAppVersion')}}\n\t\t\t<feature-app id=\"audi-footnote-engine-layer-"+Math.floor(1e6*Math.random())+'" src="https://featureapps.audi.com/audi-feature-app-footnote-engine/{{=SETUPS.get(\'nemo.FefaFeatureAppVersion\')}}/audi-footnote-engine.umd.js" config=\'{"apiUrls": ["{{=SETUPS.get(\'nemo.fefa.scOneFootnoteJsonUrl\')}}"], "omitSideSpacing": "true", "uiTheme": "light"}\'></feature-app>\n\t\t{{??}}\n\t\t\t<audi-footnotes class="audi-footnotes sc-footnotes" data-module="footnotes">\n\t\t\t\t<ul class="audi-footnotes-list"></ul>\n\t\t\t</audi-footnotes>\n\t\t{{?}}\n\t{{?}}\n',Te=(a(61),a(8982),{}),be={__:Te};Te.navURLs=null,Te.oDefaults={nmContentWrapper:".nm-wrapper-content",sClassAnimate:"animate",sClassDirectionBackward:"backward",sClassDirectionForward:"forward",sSelectorContent:".nm-content",sSelectorContentElem:".nm-wrapper-content .nm-area-content",sSelectorNavigation:"#nm-navigation li, .sc-main-navigation-list li",sSelectorPageTitle:"#nm-page-title"},Te.addClassToSelector=function(e,t){g.dom.getElement(e).classList.add(t)},Te.removeClassFromSelector=function(e,t){g.dom.getElement(e).classList.remove(t)},Te.extractNavigationURLs=function(e){var t;return Te.navURLs=[],e.forEach((function(e){(t=g.dom.getElement("a",e).getAttribute("data-href"))&&Te.navURLs.push(t)})),Te.navURLs},be.isBackwardsAnimation=function(e,t){var n=t,r=e;return n=void 0!==n?n.replace(SETUPS.get("nemo.core.router.pathBase"),""):window.location.pathname.replace(SETUPS.get("nemo.core.router.pathBase"),""),r=r.replace(SETUPS.get("nemo.core.router.pathBase"),""),null===Te.navURLs&&be.extractNavUrls(g.dom.getElement(Te.oDefaults.sSelectorContentElem)),Te.navURLs.indexOf(r)<Te.navURLs.indexOf(n)},be.isNomo=function(){var e=document.querySelector(Te.oDefaults.sSelectorContent);return!!e&&"nomo"===e.getAttribute("data-type")},be.extractNavUrls=function(e){return Te.extractNavigationURLs(g.dom.getElementsArray(Te.oDefaults.sSelectorNavigation,e))},be.getCurrentPageId=function(){return g.dom.getElement(Te.oDefaults.sSelectorContent).getAttribute("data-guid")},be.setPageTitle=function(e){document.title=e},be.extractPageTitle=function(e){var t=g.dom.getElement(Te.oDefaults.sSelectorPageTitle,e),n="";return g.dom.isElement(t)&&(n=t.innerHTML),n},be.insertNewPageContent=function(e){var t=g.dom.getElement(Te.oDefaults.nmContentWrapper);return g.dom.appendHtmlString(t,e),Te.processScripts(e),g.dom.getElement(Te.oDefaults.sSelectorContentElem+":last-child")},Te.processScripts=function(e){var t=document.createElement("div");t.innerHTML=e;var r=t.querySelectorAll("script"),o=n(document.head.querySelectorAll("script")).map((function(e){return e.getAttribute("src")}));r.forEach((function(e){var t=e.getAttribute("src");if(null===e.getAttribute("noModule")&&!n(o).includes(t)){var r=document.createElement("script");r.setAttribute("src",t),document.head.appendChild(r)}}))},be.preparePageTransition=function(e){var t=e?Te.oDefaults.sClassDirectionBackward:Te.oDefaults.sClassDirectionForward;Te.addClassToSelector(Te.oDefaults.nmContentWrapper,t)},be.triggerPageTranstion=function(){Te.addClassToSelector(Te.oDefaults.nmContentWrapper,Te.oDefaults.sClassAnimate)},be.finishPageTransition=function(){var e=g.dom.getElement("body");Te.removeClassFromSelector(Te.oDefaults.nmContentWrapper,Te.oDefaults.sClassAnimate),Te.removeClassFromSelector(Te.oDefaults.nmContentWrapper,Te.oDefaults.sClassDirectionBackward),Te.removeClassFromSelector(Te.oDefaults.nmContentWrapper,Te.oDefaults.sClassDirectionForward),g.dom.removeElement(g.dom.getElement(Te.oDefaults.sSelectorContentElem+":first-child")),e.classList.remove("nm-nav-fixed"),e.classList.remove("nm-page-nav-is-open"),window.pageYOffset>0&&g.dom.scrollTo(0,400)};var we={},Re={__:we};we.eventBus=null,we.currentPageId=null,we.queue=[],we.lock=!1,we.backwardsAnimation=!1,we.oDefaults={navSelector:""},we.triggerPageTransitionTimeout=null,we.finishPageTransitionTimeout=null,we.initialize=function(){we.oDefaults.navSelector=SETUPS.get("nemo.nav.navSelector"),we.currentPageId=be.getCurrentPageId(),we.addEvents()},we.addEvents=function(){we.eventBus.on(v.PAGE_OPEN,we.handlePageOpen),we.oDefaults.navSelector?ie.register(we.oDefaults.navSelector+" a","page"):console.warn("nemo.nav.navSelector is undefined"),ie.register(".nm-pageOpen","page")},we.handlePageTransitionComplete=function(){we.reset(),we.queue.length>0?(we.handlePageOpen(we.queue.pop()),we.queue=[]):(we.eventBus.emit(v.PAGE_READY),we.dispatchCustomEvent("PAGE_READY"))},we.dispatchCustomEvent=function(e,t){try{var n;n=t?new CustomEvent(e,{detail:t}):new CustomEvent(e),document.dispatchEvent(n)}catch(t){console.error("dispatchCustomEvent: ","the custom-event for "+e+" could not be dispatched",t)}},we.handlePageOpen=function(e){if(this&&"function"==typeof this.preventDefault&&this.preventDefault(),we.isLocked())we.queue.push(e);else{var t=e.pathname;we.setLock((new Date).getTime()),"/"!==t.substr(0,1)&&(t="/"+t),we.newPageUrl=t,ye.getContent(t,!1).then(we.pageContentHandler).catch(we.handlePageOpenError)}},we.isLocked=function(){return!!we.lock},we.setLock=function(e){we.lock=e},we.reset=function(){we.lock=!1,we.currentPageUrl=we.newPageUrl,we.newPageUrl="",we.newPageId=null,we.newPageTitle=null},we.pageContentHandler=function(e){var t=be.insertNewPageContent(e);we.eventBus.emit(v.PAGE_LOADED,{domElement:t}),we.dispatchCustomEvent("PAGE_LOADED",{element:t,type:"page"}),we.backwardsAnimation=be.isBackwardsAnimation(we.newPageUrl,we.currentPageUrl),be.preparePageTransition(we.backwardsAnimation),we.clearPageTransitionTimeouts(),we.triggerPageTransitionTimeout=setTimeout((function(){be.triggerPageTranstion()}),10),we.finishPageTransitionTimeout=setTimeout((function(){be.finishPageTransition(),we.handlePageTransitionComplete()}),1e3)},we.handlePageOpenError=function(e){var t;history.back(),t=g.template.render(ve,{errorMessage:window.i18n["error-layer.unknown-error"]||"Es ist ein unbekannter Fehler aufgetreten"}),console.error(e),re.open("error",t).then((function(e){e.getElement().querySelector(".nm-error-layer .nm-j-ok-btn").addEventListener("click",(function t(n){n.preventDefault&&n.preventDefault(),n.target.removeEventListener(n.type,t),e.close()}))})),we.eventBus.emit(v.PAGE_READY),we.reset()},Re.initialize=function(e){we.eventBus=e,we.initialize()},we.clearPageTransitionTimeouts=function(){we.triggerPageTransitionTimeout&&clearTimeout(we.triggerPageTransitionTimeout),we.finishPageTransitionTimeout&&clearTimeout(we.finishPageTransitionTimeout)};var Ae={},ke={__:Ae};Ae.oDefaults={initalScWrapper:".nm-wrapper .sc-content",initialContentAreaSelector:".nm-wrapper-content .nm-area-content:first-child"},Ae.addEvents=function(){Ae.eventBus.one(v.SC_VERSION_LOADED,Ae.handlerSvdVersionLoaded),Ae.eventBus.on(v.PAGE_LOADED,Ae.handlerPageLoaded),Ae.eventBus.one(v.VERSION_LOAD_COMPLETE,Ae.handlerVersionLoaded)},Ae.preloadContent=function(e){var t;"true"!==SETUPS.get("nemo.content.preload")&&"true"!==SETUPS.get("stockcar.context")&&!1!==be.isNomo()||(t=be.extractNavUrls(e),ye.fillCache(t))},Ae.handlerPageLoaded=function(e){Ae.preloadContent(e.domElement)},Ae.handlerVersionLoaded=function(){Ae.preloadContent(g.dom.getElement(Ae.oDefaults.initialContentAreaSelector))},Ae.handlerSvdVersionLoaded=function(){Ae.preloadContent(g.dom.getElement(Ae.oDefaults.initalScWrapper))},ke.initialize=function(e){Ae.eventBus=e,Ae.addEvents()};var Pe={},xe={__:Pe};Pe.addEvents=function(){Pe.eventBus.on(v.PAGE_LOADED,Pe.handlerPageLoaded)},Pe.handlerPageLoaded=function(e){var t,n,r=e.domElement,o=be.extractPageTitle(r);o&&""!==o&&((t=document.createElement("div")).innerHTML=o,n=t.firstChild.nodeValue,be.setPageTitle(n))},xe.initialize=function(e){Pe.eventBus=e,Pe.addEvents()};var De={},Ie={__:De};De.oDefaults={selectorAreaContent:".nm-area-content",selectorBody:"body"},De.eventBus=null,De.addEvents=function(){De.eventBus.on(v.PAGE_READY,De.updatePageType)},De.removeEvents=function(){De.eventBus.off(v.PAGE_READY,De.updatePageType)},De.updatePageType=function(){var e=g.dom.getElement(De.oDefaults.selectorAreaContent),t=g.dom.getElement(De.oDefaults.selectorBody),n=e.getAttribute("data-page-type")||!e.length&&t.getAttribute("page-type")||"default";t.setAttribute("page-type",n)},Ie.initialize=function(e){De.eventBus=e,De.addEvents()};var Ne,Fe={},je={__:Fe},Me=!1,Ue=!1,Be={bottom:0,top:0},He=[],Ve=[[],[]],Ye=[0,0],qe={ABOVE:1,BELOW:3,IN:2},Ge={AFTERSCROLL:1,ONSCROLL:0},We={COVER:1,INOUT:0,SCROLLDOWN:3,SCROLLUP:2},ze={eventName:"",mode:We.INOUT,notifyWhen:Ge.ONSCROLL};Fe.updateViewportData=function(){Be={bottom:window.innerHeight||document.documentElement.clientHeight,top:0}},Fe.pageLoadHandler=function(e){var t,n;for(Ve=[[],[]],Fe.eventBus.removeAllListeners("element.scroll"),t=0,n=He.length;t<n;t++)Fe.register(He[t].selector,He[t].options,He[t].callback,e.domElement,!0)},Fe.initializeListeners=function(){Me||(window.addEventListener("scroll",Fe.scrollHandler),window.addEventListener("scroll",Fe.scrollEndHandler),window.addEventListener("resize",Fe.scrollHandler),window.addEventListener("resize",Fe.scrollEndHandler),window.addEventListener("resize",Fe.updateViewportData),Fe.updateViewportData(),Me=!0)},Fe.register=function(e,t,n,r){var o,a,i,s,c,l,f,d,p,h;if(void 0!==u(r)&&r||He.push({callback:n,options:t,selector:e}),(o=document.querySelectorAll(e)).length){for(Fe.initializeListeners(),a=t.notifyWhen||ze.notifyWhen,i=t.eventName||ze.eventName,s=t.mode||ze.mode,c=[],Fe.eventBus.addListener("element.scroll."+i,n),l=0,h=o.length;l<h;l++)p={element:f=o[l],elements:o,eventName:i,mode:s,selector:e,was:d=Fe.getElementsState(f,s,o),where:d},Fe.eventBus.trigger("element.scroll."+p.eventName,p),c.push(p);Ve[a].push(c)}},Fe.getElementsState=function(e,t,n){var r,o=Fe.getElementState(e);if(t===We.COVER&&o===qe.IN)for(r=0;r<n.length&&n[r]!==e;r++)if(100===Fe.getElementCoverage(n[r]))return qe.BELOW;return o},Fe.getElementState=function(e){var t=e.getBoundingClientRect();return t.top>=Be.top&&t.top<Be.bottom||t.bottom>=Be.top&&t.bottom<Be.bottom||t.top<Be.top&&t.bottom>Be.top?qe.IN:t.top<Be.top?qe.ABOVE:qe.BELOW},Fe.getElementCoverage=function(e){var t,n,r;return Fe.getElementState(e)!==qe.IN?0:(r=e.getBoundingClientRect()).top>=Be.top&&r.bottom<=Be.bottom?100:((t=r.top)<0&&(t=0),(n=r.bottom)>Be.bottom&&(n=Be.bottom),(n-t)/(Be.bottom-Be.top)*100)},Fe.dump=function(){console.info(Ve)},Fe.checkOnScroll=function(){Fe.checkChangedElements(Ge.ONSCROLL)},Fe.checkAfterScroll=function(){Fe.checkChangedElements(Ge.AFTERSCROLL)},Fe.checkChangedElements=function(e){var t,n,r,o=window.scrollY;if(Ue=!1,Ve[e].length>0)for(t=0,r=Ve[e].length;t<r;t++)for(n in Ve[e][t])Ve[e][t][n]&&document.body.contains(Ve[e][t][n].element)&&(Ve[e][t][n]=Fe.checkChangedElement(Ve[e][t][n],e,o));Ye[e]=o},Fe.checkChangedElement=function(e,t,n){var r=Fe.getElementsState(e.element,e.mode,e.elements);return e.was=e.where,e.where=r,e.mode===We.SCROLLDOWN?n>Ye[t]&&Fe.eventBus.trigger("element.scroll."+e.eventName,e):e.mode===We.SCROLLUP?n<Ye[t]&&Fe.eventBus.trigger("element.scroll."+e.eventName,e):e.was!==e.where&&Fe.eventBus.trigger("element.scroll."+e.eventName,e),e},Fe.scrollHandler=function(){Ue||(Ue=!0,window.requestAnimationFrame(Fe.checkOnScroll))},Fe.scrollEndHandler=function(){clearTimeout(Ne),Ne=window.setTimeout((function(){window.requestAnimationFrame(Fe.checkAfterScroll)}),250)},je.initialize=function(e){Fe.eventBus=e,Fe.eventBus.on(v.PAGE_LOADED,Fe.pageLoadHandler)},je.register=Fe.register,je.unregister=Fe.unregister,je.WHERE=qe,je.NOTIFY=Ge,je.MODE=We,window.i18n=window.i18n||{};var Xe=[re,fe,_e,Oe,Re,ke,xe,Ie,ie,je],Je=W.getEmitter();Xe.forEach((function(e){try{e.initialize(Je)}catch(e){console.error(e)}}))}(),i}()}));
//# sourceMappingURL=audi-core-application.legacy.js.map