/*! @audi/audi-core-global 1.0.3 - Sat, 13 Mar 2021 09:15:12 GMT
License information can be found in audi-core-global.legacy.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("core-application"),require("core-utils"),require("microkernel")):"function"==typeof define&&define.amd?define("core-global",["core-application","core-utils","microkernel"],t):"object"==typeof exports?exports["core-global"]=t(require("core-application"),require("core-utils"),require("microkernel")):e["core-global"]=t(e["core-application"],e["core-utils"],e.microkernel)}(self,(function(e,t,n){return function(){var r={7757:function(e,t,n){e.exports=n(5666)},4963:function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},7722:function(e,t,n){var r=n(6314)("unscopables"),o=Array.prototype;null==o[r]&&n(7728)(o,r,{}),e.exports=function(e){o[r][e]=!0}},6793:function(e,t,n){"use strict";var r=n(4496)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},7007:function(e,t,n){var r=n(5286);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},9315:function(e,t,n){var r=n(2110),o=n(875),i=n(2337);e.exports=function(e){return function(t,n,a){var l,c=r(t),s=o(c.length),u=i(a,s);if(e&&n!=n){for(;s>u;)if((l=c[u++])!=l)return!0}else for(;s>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},50:function(e,t,n){var r=n(741),o=n(9797),i=n(508),a=n(875),l=n(6886);e.exports=function(e,t){var n=1==e,c=2==e,s=3==e,u=4==e,d=6==e,f=5==e||d,v=t||l;return function(t,l,m){for(var p,g,h=i(t),y=o(h),E=r(l,m,3),S=a(y.length),x=0,b=n?v(t,S):c?v(t,0):void 0;S>x;x++)if((f||x in y)&&(g=E(p=y[x],x,h),e))if(n)b[x]=g;else if(g)switch(e){case 3:return!0;case 5:return p;case 6:return x;case 2:b.push(p)}else if(u)return!1;return d?-1:s||u?u:b}}},2736:function(e,t,n){var r=n(5286),o=n(4302),i=n(6314)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},6886:function(e,t,n){var r=n(2736);e.exports=function(e,t){return new(r(e))(t)}},1488:function(e,t,n){var r=n(2032),o=n(6314)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},2032:function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},5645:function(e){var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},741:function(e,t,n){var r=n(4963);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},1355:function(e){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},7057:function(e,t,n){e.exports=!n(4253)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},2457:function(e,t,n){var r=n(5286),o=n(3816).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},4430:function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},2985:function(e,t,n){var r=n(3816),o=n(5645),i=n(7728),a=n(7234),l=n(741),c=function(e,t,n){var s,u,d,f,v=e&c.F,m=e&c.G,p=e&c.S,g=e&c.P,h=e&c.B,y=m?r:p?r[t]||(r[t]={}):(r[t]||{}).prototype,E=m?o:o[t]||(o[t]={}),S=E.prototype||(E.prototype={});for(s in m&&(n=t),n)d=((u=!v&&y&&void 0!==y[s])?y:n)[s],f=h&&u?l(d,r):g&&"function"==typeof d?l(Function.call,d):d,y&&a(y,s,d,e&c.U),E[s]!=d&&i(E,s,f),g&&S[s]!=d&&(S[s]=d)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},4253:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},8082:function(e,t,n){"use strict";n(8269);var r=n(7234),o=n(7728),i=n(4253),a=n(1355),l=n(6314),c=n(1165),s=l("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var f=l(e),v=!i((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),m=v?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[s]=function(){return n}),n[f](""),!t})):void 0;if(!v||!m||"replace"===e&&!u||"split"===e&&!d){var p=/./[f],g=n(a,f,""[e],(function(e,t,n,r,o){return t.exec===c?v&&!o?{done:!0,value:p.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),h=g[0],y=g[1];r(String.prototype,e,h),o(RegExp.prototype,f,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},3218:function(e,t,n){"use strict";var r=n(7007);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},18:function(e,t,n){e.exports=n(3825)("native-function-to-string",Function.toString)},3816:function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},9181:function(e){var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},7728:function(e,t,n){var r=n(9275),o=n(681);e.exports=n(7057)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},639:function(e,t,n){var r=n(3816).document;e.exports=r&&r.documentElement},1734:function(e,t,n){e.exports=!n(7057)&&!n(4253)((function(){return 7!=Object.defineProperty(n(2457)("div"),"a",{get:function(){return 7}}).a}))},9797:function(e,t,n){var r=n(2032);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},4302:function(e,t,n){var r=n(2032);e.exports=Array.isArray||function(e){return"Array"==r(e)}},5286:function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},5364:function(e,t,n){var r=n(5286),o=n(2032),i=n(6314)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},9988:function(e,t,n){"use strict";var r=n(2503),o=n(681),i=n(2943),a={};n(7728)(a,n(6314)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},2923:function(e,t,n){"use strict";var r=n(4461),o=n(2985),i=n(7234),a=n(7728),l=n(2803),c=n(9988),s=n(2943),u=n(468),d=n(6314)("iterator"),f=!([].keys&&"next"in[].keys()),v="keys",m="values",p=function(){return this};e.exports=function(e,t,n,g,h,y,E){c(n,t,g);var S,x,b,D=function(e){if(!f&&e in I)return I[e];switch(e){case v:case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",k=h==m,L=!1,I=e.prototype,A=I[d]||I["@@iterator"]||h&&I[h],O=A||D(h),P=h?k?D("entries"):O:void 0,C="Array"==t&&I.entries||A;if(C&&(b=u(C.call(new e)))!==Object.prototype&&b.next&&(s(b,w,!0),r||"function"==typeof b[d]||a(b,d,p)),k&&A&&A.name!==m&&(L=!0,O=function(){return A.call(this)}),r&&!E||!f&&!L&&I[d]||a(I,d,O),l[t]=O,l[w]=p,h)if(S={values:k?O:D(m),keys:y?O:D(v),entries:P},E)for(x in S)x in I||i(I,x,S[x]);else o(o.P+o.F*(f||L),t,S);return S}},5436:function(e){e.exports=function(e,t){return{value:t,done:!!e}}},2803:function(e){e.exports={}},4461:function(e){e.exports=!1},5345:function(e,t,n){"use strict";var r=n(7057),o=n(7184),i=n(4548),a=n(4682),l=n(508),c=n(9797),s=Object.assign;e.exports=!s||n(4253)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=s({},e)[n]||Object.keys(s({},t)).join("")!=r}))?function(e,t){for(var n=l(e),s=arguments.length,u=1,d=i.f,f=a.f;s>u;)for(var v,m=c(arguments[u++]),p=d?o(m).concat(d(m)):o(m),g=p.length,h=0;g>h;)v=p[h++],r&&!f.call(m,v)||(n[v]=m[v]);return n}:s},2503:function(e,t,n){var r=n(7007),o=n(5588),i=n(4430),a=n(9335)("IE_PROTO"),l=function(){},c=function(){var e,t=n(2457)("iframe"),r=i.length;for(t.style.display="none",n(639).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(l.prototype=r(e),n=new l,l.prototype=null,n[a]=e):n=c(),void 0===t?n:o(n,t)}},9275:function(e,t,n){var r=n(7007),o=n(1734),i=n(1689),a=Object.defineProperty;t.f=n(7057)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},5588:function(e,t,n){var r=n(9275),o=n(7007),i=n(7184);e.exports=n(7057)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),l=a.length,c=0;l>c;)r.f(e,n=a[c++],t[n]);return e}},4548:function(e,t){t.f=Object.getOwnPropertySymbols},468:function(e,t,n){var r=n(9181),o=n(508),i=n(9335)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},189:function(e,t,n){var r=n(9181),o=n(2110),i=n(9315)(!1),a=n(9335)("IE_PROTO");e.exports=function(e,t){var n,l=o(e),c=0,s=[];for(n in l)n!=a&&r(l,n)&&s.push(n);for(;t.length>c;)r(l,n=t[c++])&&(~i(s,n)||s.push(n));return s}},7184:function(e,t,n){var r=n(189),o=n(4430);e.exports=Object.keys||function(e){return r(e,o)}},4682:function(e,t){t.f={}.propertyIsEnumerable},3160:function(e,t,n){var r=n(2985),o=n(5645),i=n(4253);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},681:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},7234:function(e,t,n){var r=n(3816),o=n(7728),i=n(9181),a=n(3953)("src"),l=n(18),c="toString",s=(""+l).split(c);n(5645).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,l){var c="function"==typeof n;c&&(i(n,"name")||o(n,"name",t)),e[t]!==n&&(c&&(i(n,a)||o(n,a,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:l?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,c,(function(){return"function"==typeof this&&this[a]||l.call(this)}))},7787:function(e,t,n){"use strict";var r=n(1488),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},1165:function(e,t,n){"use strict";var r,o,i=n(3218),a=RegExp.prototype.exec,l=String.prototype.replace,c=a,s=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),u=void 0!==/()??/.exec("")[1];(s||u)&&(c=function(e){var t,n,r,o,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),s&&(t=c.lastIndex),r=a.call(c,e),s&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),u&&r&&r.length>1&&l.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),e.exports=c},7195:function(e){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},2943:function(e,t,n){var r=n(9275).f,o=n(9181),i=n(6314)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},9335:function(e,t,n){var r=n(3825)("keys"),o=n(3953);e.exports=function(e){return r[e]||(r[e]=o(e))}},3825:function(e,t,n){var r=n(5645),o=n(3816),i="__core-js_shared__",a=o[i]||(o[i]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(4461)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},8364:function(e,t,n){var r=n(7007),o=n(4963),i=n(6314)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},7717:function(e,t,n){"use strict";var r=n(4253);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},4496:function(e,t,n){var r=n(1467),o=n(1355);e.exports=function(e){return function(t,n){var i,a,l=String(o(t)),c=r(n),s=l.length;return c<0||c>=s?e?"":void 0:(i=l.charCodeAt(c))<55296||i>56319||c+1===s||(a=l.charCodeAt(c+1))<56320||a>57343?e?l.charAt(c):i:e?l.slice(c,c+2):a-56320+(i-55296<<10)+65536}}},2337:function(e,t,n){var r=n(1467),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},1467:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},2110:function(e,t,n){var r=n(9797),o=n(1355);e.exports=function(e){return r(o(e))}},875:function(e,t,n){var r=n(1467),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},508:function(e,t,n){var r=n(1355);e.exports=function(e){return Object(r(e))}},1689:function(e,t,n){var r=n(5286);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},3953:function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},6314:function(e,t,n){var r=n(3825)("wks"),o=n(3953),i=n(3816).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},8837:function(e,t,n){"use strict";var r=n(2985),o=n(50)(2);r(r.P+r.F*!n(7717)([].filter,!0),"Array",{filter:function(e){return o(this,e,arguments[1])}})},6997:function(e,t,n){"use strict";var r=n(7722),o=n(5436),i=n(2803),a=n(2110);e.exports=n(2923)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},9371:function(e,t,n){"use strict";var r=n(2985),o=n(50)(1);r(r.P+r.F*!n(7717)([].map,!0),"Array",{map:function(e){return o(this,e,arguments[1])}})},6059:function(e,t,n){var r=n(9275).f,o=Function.prototype,i=/^\s*function ([^ (]*)/,a="name";a in o||n(7057)&&r(o,a,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},5115:function(e,t,n){var r=n(2985);r(r.S+r.F,"Object",{assign:n(5345)})},7476:function(e,t,n){var r=n(508),o=n(7184);n(3160)("keys",(function(){return function(e){return o(r(e))}}))},6253:function(e,t,n){"use strict";var r=n(1488),o={};o[n(6314)("toStringTag")]="z",o+""!="[object z]"&&n(7234)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},8269:function(e,t,n){"use strict";var r=n(1165);n(2985)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},1466:function(e,t,n){"use strict";var r=n(7007),o=n(875),i=n(6793),a=n(7787);n(8082)("match",1,(function(e,t,n,l){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=l(n,e,this);if(t.done)return t.value;var c=r(e),s=String(this);if(!c.global)return a(c,s);var u=c.unicode;c.lastIndex=0;for(var d,f=[],v=0;null!==(d=a(c,s));){var m=String(d[0]);f[v]=m,""===m&&(c.lastIndex=i(s,o(c.lastIndex),u)),v++}return 0===v?null:f}]}))},9357:function(e,t,n){"use strict";var r=n(7007),o=n(508),i=n(875),a=n(1467),l=n(6793),c=n(7787),s=Math.max,u=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,v=/\$([$&`']|\d\d?)/g;n(8082)("replace",2,(function(e,t,n,m){return[function(r,o){var i=e(this),a=null==r?void 0:r[t];return void 0!==a?a.call(r,i,o):n.call(String(i),r,o)},function(e,t){var o=m(n,e,this,t);if(o.done)return o.value;var d=r(e),f=String(this),v="function"==typeof t;v||(t=String(t));var g=d.global;if(g){var h=d.unicode;d.lastIndex=0}for(var y=[];;){var E=c(d,f);if(null===E)break;if(y.push(E),!g)break;""===String(E[0])&&(d.lastIndex=l(f,i(d.lastIndex),h))}for(var S,x="",b=0,D=0;D<y.length;D++){E=y[D];for(var w=String(E[0]),k=s(u(a(E.index),f.length),0),L=[],I=1;I<E.length;I++)L.push(void 0===(S=E[I])?S:String(S));var A=E.groups;if(v){var O=[w].concat(L,k,f);void 0!==A&&O.push(A);var P=String(t.apply(void 0,O))}else P=p(w,f,k,L,A,t);k>=b&&(x+=f.slice(b,k)+P,b=k+w.length)}return x+f.slice(b)}];function p(e,t,r,i,a,l){var c=r+e.length,s=i.length,u=v;return void 0!==a&&(a=o(a),u=f),n.call(l,u,(function(n,o){var l;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":l=a[o.slice(1,-1)];break;default:var u=+o;if(0===u)return n;if(u>s){var f=d(u/10);return 0===f?n:f<=s?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):n}l=i[u-1]}return void 0===l?"":l}))}}))},6142:function(e,t,n){"use strict";var r=n(7007),o=n(7195),i=n(7787);n(8082)("search",1,(function(e,t,n,a){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=a(n,e,this);if(t.done)return t.value;var l=r(e),c=String(this),s=l.lastIndex;o(s,0)||(l.lastIndex=0);var u=i(l,c);return o(l.lastIndex,s)||(l.lastIndex=s),null===u?-1:u.index}]}))},1876:function(e,t,n){"use strict";var r=n(5364),o=n(7007),i=n(8364),a=n(6793),l=n(875),c=n(7787),s=n(1165),u=n(4253),d=Math.min,f=[].push,v=4294967295,m=!u((function(){RegExp(v,"y")}));n(8082)("split",2,(function(e,t,n,u){var p;return p="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var i,a,l,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,m=void 0===t?v:t>>>0,p=new RegExp(e.source,u+"g");(i=s.call(p,o))&&!((a=p.lastIndex)>d&&(c.push(o.slice(d,i.index)),i.length>1&&i.index<o.length&&f.apply(c,i.slice(1)),l=i[0].length,d=a,c.length>=m));)p.lastIndex===i.index&&p.lastIndex++;return d===o.length?!l&&p.test("")||c.push(""):c.push(o.slice(d)),c.length>m?c.slice(0,m):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):p.call(String(o),n,r)},function(e,t){var r=u(p,e,this,t,p!==n);if(r.done)return r.value;var s=o(e),f=String(this),g=i(s,RegExp),h=s.unicode,y=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(m?"y":"g"),E=new g(m?s:"^(?:"+s.source+")",y),S=void 0===t?v:t>>>0;if(0===S)return[];if(0===f.length)return null===c(E,f)?[f]:[];for(var x=0,b=0,D=[];b<f.length;){E.lastIndex=m?b:0;var w,k=c(E,m?f:f.slice(b));if(null===k||(w=d(l(E.lastIndex+(m?0:b)),f.length))===x)b=a(f,b,h);else{if(D.push(f.slice(x,b)),D.length===S)return D;for(var L=1;L<=k.length-1;L++)if(D.push(k[L]),D.length===S)return D;b=x=w}}return D.push(f.slice(x)),D}]}))},9115:function(e,t,n){"use strict";var r=n(4496)(!0);n(2923)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},1181:function(e,t,n){for(var r=n(6997),o=n(7184),i=n(7234),a=n(3816),l=n(7728),c=n(2803),s=n(6314),u=s("iterator"),d=s("toStringTag"),f=c.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=o(v),p=0;p<m.length;p++){var g,h=m[p],y=v[h],E=a[h],S=E&&E.prototype;if(S&&(S[u]||l(S,u,f),S[d]||l(S,d,h),c[h]=f,y))for(g in r)S[g]||i(S,g,r[g],!0)}},5666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),a=new A(r||[]);return i._invoke=function(e,t,n){var r=d;return function(o,i){if(r===v)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var l=k(a,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=v;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?m:f,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=m,n.method="throw",n.arg=c.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var d="suspendedStart",f="suspendedYield",v="executing",m="completed",p={};function g(){}function h(){}function y(){}var E={};E[i]=function(){return this};var S=Object.getPrototypeOf,x=S&&S(S(O([])));x&&x!==n&&r.call(x,i)&&(E=x);var b=y.prototype=g.prototype=Object.create(E);function D(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(o,i,a,l){var c=u(e[o],e,i);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(d).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=u(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function O(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return h.prototype=b.constructor=y,y.constructor=h,h.displayName=c(y,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},D(w.prototype),w.prototype[a]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},D(b),c(b,l,"Generator"),b[i]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return l.type="throw",l.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],l=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},1778:function(t){"use strict";t.exports=e},8717:function(e){"use strict";e.exports=t},2168:function(e){"use strict";e.exports=n}},o={};function i(e){if(o[e])return o[e].exports;var t=o[e]={exports:{}};return r[e](t,t.exports,i),t.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function l(e){n(a,o,i,l,c,"next",e)}function c(e){n(a,o,i,l,c,"throw",e)}l(void 0)}))}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}i.r(a),i.d(a,{bounceLink:function(){return m},cookiePolicy:function(){return y},cookiePolicyTemplate:function(){return p},crsApi:function(){return x},entryScroll:function(){return O},error:function(){return C},errorLogging:function(){return N},hideHeaderFooter:function(){return T},interceptDebugMode:function(){return j},interstitialLayer:function(){return U},iph:function(){return J},iphCartTemplate:function(){return W},menuFlyOut:function(){return K},modelNavigationWrap:function(){return ie},patternMatching:function(){return v},poa:function(){return le},scroll:function(){return I},scrollStickyElements:function(){return se},state:function(){return M},usabilla:function(){return de}});var s=i(7757),u=i.n(s),d=(i(9115),i(6253),i(6997),i(1181),i(9371),i(1778)),f=(i(1466),i(7476),i(9357),{}),v={__:f};f.oDefaults={},f.registered={},f.extractUrlParams=function(e){var t=[];return e&&e.indexOf("{{")>0&&(t=e.match(/{{\s*(=)?[(\w|_)\.|:]+\s*}}/g).map((function(e){return e.match(/(=)?[\w\.|:]+/)[0]}))),t},v.getReplacedUrl=function(e,t){var n=[];return f.extractUrlParams(e).forEach((function(e){n.push(f.replaceUrl(e))})),Promise.all(n).then((function(t){return f.buildPatchedUrl(t,e)})).catch((function(e){return console.warn(e),Promise.resolve(t)}))},f.buildPatchedUrl=function(e,t){var n,r,o=t;return e.forEach((function(e){r=Object.keys(e),n=encodeURIComponent(e[r]),o=o.replace("{{"+r[0]+"}}",n)})),Promise.resolve(o)},f.replaceUrl=function(e){var t,n,r,o=e.replace(":mandatory","");return new Promise((function(i,a){t=f.registered[o],r={},n=!!e.match(/:mandatory/),t&&"function"==typeof t?(console.info("pattern-matching.js --\x3e replaceUrl() --\x3e mandatory: ",e),t(o).then((function(t){!t&&n?a():(r[e]=t,i(r))})).catch((function(t){n?a(t):(r[e]="",i(r))}))):(console.warn("no matching module found for pattern: "+e),n?a():(r[e]="",i(r)))}))},v.register=function(e,t){f.registered[e]?console.warn("pattern ist already registered: ",e):f.registered[e]=t};var m=new(function(){function e(){o(this,e)}var n;return c(e,[{key:"initialize",value:function(e){var t=this._processURL.bind(this);e.on(d.appEvents.CONFIG_UPDATE,t),e.on(d.appEvents.LAYER_LOADED,t),e.on(d.appEvents.CONFIG_START,t),e.on(d.appEvents.PAGE_LOADED,t)}},{key:"_processURL",value:(n=r(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Promise.all(t(document.querySelectorAll(e.BOUNCE_CLASS)).map(function(){var e=r(u().mark((function e(t){var n,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.getAttribute("href"),r=t.getAttribute("data-link-pattern"),!n||!r){e.next=7;break}return e.next=5,v.getReplacedUrl(r,n);case 5:o=e.sent,t.setAttribute("href",o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})}],[{key:"BOUNCE_CLASS",get:function(){return".audi-js-bounce-link"}}]),e}()),p='\n\t<div class="nm-cookiepolicy" data-theme="dark" data-module="cookie-policy">\n\t\t<div class="nm-cookiepolicy-inner nm-text-list">\n\t\t\t<div>{{=it.text}}</div>\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<a x-cq-linkchecker="skip" id="showPolicy" href="{{=it.linkUrl}}" class="nm-layerLink nm-link-basic">{{=it.linkText}}</a>\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a x-cq-linkchecker="skip" style="text-decoration: none" id="continue" class="continue nm-link-basic">\n\t\t\t\t\t\t<span>{{=window.i18n[\'cookie-continue-label\']}}</span>\n\t\t\t\t\t\t<svg class="nm-icon-arrow">\n\t\t\t\t\t\t\t<use xlink:href={{=SETUPS.get(\'coreci.url.assets\')+"/icons/svg/arrow.svg#nm-icon-arrow"}}></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n',g=i(8717),h={},y={__:h};function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}h.checkCookiePolicy=function(){var e,t=g.dom.getElement(".nm-header");g.dom.isElement(t)&&(!SETUPS.get("cookie.policy.scope")||localStorage.getItem("cookiepolicy")||h.localCookiePolicy||(e={linkText:SETUPS.get("cookie.link.text"),linkUrl:SETUPS.get("cookie.link.url"),text:SETUPS.get("cookie.text")},t.insertAdjacentHTML("beforebegin",g.template.render(p,e))))},h.handleCookieAccepted=function(){var e=g.dom.getElement(".nm-cookiepolicy");try{localStorage.setItem("cookiepolicy",!0)}catch(e){h.localCookiePolicy=!0}g.dom.isElement(e)&&e.classList.add("nm-hidden")},h.addEvents=function(){h.domEventDelegate.on("click",".continue",h.handleCookieAccepted)},h.initialize=function(){h.init||h.addEvents(),h.init=!0,h.checkCookiePolicy()},y.initialize=function(){h.domEventDelegate=g.dom.getEventDelegate("body"),h.initialize()},y.initialize();var S={},x={__:S},b="CalculateRate",D="Defaults",w="Products",k="Some Error occured during the Request:";S.crsRequest=function(){var e=r(u().mark((function e(t,n){var r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{body:JSON.stringify(n),headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"});case 3:return r=e.sent,e.next=6,r.json();case 6:if(o=e.sent,!S.isErrorResponse(o)){e.next=12;break}return console.warn("crs-api: "+o.Response.Error.Description),e.abrupt("return","".concat(k," ").concat(o.Response.Error.Description));case 12:return e.abrupt("return",o);case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(0),new Error("".concat(k," ").concat(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n){return e.apply(this,arguments)}}(),S.prepareRequestData=function(e,t,n,r,o){var i={Request:{}};return e&&t&&r&&(i.Request["@Name"]=e,i.Request["@Domain"]=t,i.Request.Vehicle=r,o&&"object"===E(o)&&Object.keys(o).length>0&&(i.Request.Dealer=o),n&&"object"===E(n)&&Object.keys(n).length>0&&(i.Request.Product=n)),i},S.prepareProductsResponse=function(e){return e&&e.Response&&e.Response.Products&&e.Response.Products.Product?e.Response.Products:{}},S.prepareProductDataResponse=function(e){var t={};return e&&e.Response&&e.Response.Parameters&&(t.Parameters=e.Response.Parameters,e.Response.Error&&(t.Error=e.Response.Error)),t},S.prepareProductRequestData=function(e,t){var n=e||{};return e&&t&&t.Parameter&&(n.Parameter=t.Parameter),n},S.isErrorResponse=function(e){return!(e&&e.Response&&(!e.Response.Error||"User"===e.Response.Error["@ErrorType"]))},x.getProducts=function(e,t,n){var r=S.prepareRequestData(w,t,{},n);return S.crsRequest(e,r).then((function(e){return S.prepareProductsResponse(e)}))},x.getDefaultDataForProduct=function(e,t,n,r,o){var i=S.prepareRequestData(D,t,n,r,o);return S.crsRequest(e,i).then((function(e){return S.prepareProductDataResponse(e)}))},x.getDefaultRawDataForProduct=function(e,t,n,r,o){var i=S.prepareRequestData(D,t,n,r,o);return S.crsRequest(e,i).then((function(e){return e}))},x.getDataForProduct=function(e,t,n,r,o,i){var a=S.prepareProductRequestData(n,r);return x.getDefaultDataForProduct(e,t,a,o,i)},x.getCalculateRateData=function(e,t,n,r,o,i){var a=S.prepareProductRequestData(n,r),l=S.prepareRequestData(b,t,a,o,i);return S.crsRequest(e,l)};i(1876),i(8837);var L={},I={__:L};L.oDefaults={layerSubstr:".nm-layer-opened .nm-layer ",layerWrapperSelector:".nm-layer-wrapper",scrollDataAttributeName:"data-scroll"},L.handler=function(e){e.preventDefault();var t=g.dom.closest(e.target,"["+L.oDefaults.scrollDataAttributeName+"]"),n=L.getScrollAnchorClassSelector(t.getAttribute(L.oDefaults.scrollDataAttributeName)),r=document.querySelector(".nm-nav-fixed .nm-nav-wrap"),o=r?r.clientHeight:0;L.detectScrollElementAndScroll(n,o)},L.detectScrollElementAndScroll=function(e,t){var n,r,o,i=t||0;e&&g.dom.isElement(e)&&(g.dom.selectorIsInLayerContext(e)?(n=g.dom.getElementsArray(L.oDefaults.layerSubstr+e),r=g.dom.getElement(L.oDefaults.layerWrapperSelector)):(n=g.dom.getElementsArray(e),r=g.dom.getElement("body")),n=n.filter((function(e){return!g.dom.isHidden(e)})),o=L.getElementsScrollPosition(n),L.scrollContent(r,o-i))},I.scrollToElementWithDistance=function(e,t){L.detectScrollElementAndScroll(e,t)},L.getScrollAnchorClassSelector=function(e){var t=e;return t="string"!=typeof t||t.length<2?null:"."+t},L.scrollContent=function(e,t){g.dom.isElement(e)&&!isNaN(t)&&(e===document.body?g.dom.scrollTo(t,400):g.dom.animateElementY(t,e,400))},L.getElementsScrollPosition=function(e,t){var n=0,r=parseInt(window.scrollY||window.pageYOffset,10);return e&&e[0]&&(n=parseInt(e[0].getBoundingClientRect().top+r,10),e.length>1&&"nm-top"===t&&(n=0)),n},L.addEvents=function(){g.dom.getEventDelegate("body").on("click",".nm-j-scroll",L.handler)},I.initialize=function(){L.addEvents()},I.initialize();var A={},O={__:A};A.registeredModules={},A.GAP=70,A.MAX_INTERVAL_COUNT=10,A.BETWEEN_INTERVAL=200,O.register=function(e,t){A.registeredModules[e]=t},A.handlePageLoaded=function(){var e,t=A.getScrollParamFromHash();for(e in A.registeredModules)A.registeredModules.hasOwnProperty(e)&&t===e&&A.startInterval(e)},A.startInterval=function(e){var t,n,r=0,o='[data-module="'+A.registeredModules[e]+'"]';t=setInterval((function(){n=g.dom.getElement(o),g.dom.isElement(n)&&!g.dom.isHidden(n)&&(clearInterval(t),I.scrollToElementWithDistance(o,A.GAP)),r===A.MAX_INTERVAL_COUNT&&clearInterval(t),r++}),A.BETWEEN_INTERVAL)},A.getScrollParamFromHash=function(){var e,t=location.hash;return(t=t.match(/scroll=[a-zA-Z0-9]*/))&&(e=t[0].split("=")[1]||null),e||null},A.addEvents=function(){A.eventBus.on(d.appEvents.LAYER_CLOSED,A.handlePageLoaded)},O.initialize=function(e){A.eventBus=e,A.addEvents()};var P={},C={__:P};P.oDefaults={layerSelectorClose:".nm-error-layer .nm-button-close",layerSelectorOK:".nm-error-layer .nm-j-ok-btn"},P.onError=function(e){C.handleError(P.getErrorTexts(e))},P.getErrorTexts=function(e){var t={errorHeadline:null,errorMessage:null};return Array.isArray(e)?(t.errorHeadline=e[0],t.errorMessage=2===e.length&&e[1]?e[1]:null,t):"string"==typeof e?(t.errorMessage=e,t):e&&(e.message||e.headline)?(t.errorMessage=e.message,t.errorHeadline=e.headline,t):t},P.addEvents=function(){P.domEventDelegate.on("click",P.oDefaults.layerSelectorClose,P.closeLayer),P.domEventDelegate.on("click",P.oDefaults.layerSelectorOK,P.closeLayer)},P.removeEvents=function(){P.domEventDelegate.off("click",P.oDefaults.layerSelectorClose,P.closeLayer),P.domEventDelegate.off("click",P.oDefaults.layerSelectorOK,P.closeLayer)},P.openLayer=function(e,t,n){return new Promise((function(r,o){d.layerApi.open(e,t,n).then((function(e){P.layerInstance=e,P.addEvents(),r(P.layerInstance)}),(function(e){o(e)}))}))},P.closeLayer=function(e){var t;return null!==(t=P.getRedirectURL())&&(window.location.href=t),P.cancelEvent(e),P.layerInstance.close().then((function(){P.layerInstance=null,P.onLayerClose()}),(function(e){throw new TypeError("Error closing error Layer: "+e.message)}))},P.getRedirectURL=function(){var e=g.dom.getElement("body");return g.dom.getDataAttribute(e,"redirect-url")},P.cancelEvent=function(e){e&&"function"==typeof e.preventDefault&&e.preventDefault()},P.onLayerClose=function(){P.removeEvents()},C.handleError=function(e){var t,n,r,o;return new Promise((function(i,a){"error-layer",(o=e).errorHeadline=o.errorHeadline?o.errorHeadline:window.i18n["error-layer.headline"],t=g.dom.renderTemplate(d.layerErrorTemplate,o),P.renderedElement=g.dom.createElementsFromHtmlString(t)[0],o.errorMessage||(n=g.dom.getElement(".nm-error-layer-message",P.renderedElement),o.errorMessage=n.getAttribute("data-defaultErrorMessage"),n.innerText=o.errorMessage),r=P.renderedElement.outerHTML,P.openLayer("error-layer",r,P.closeLayer).then(i,a)}))},C.initialize=function(e){P.eventBus=e,P.domEventDelegate=g.dom.getEventDelegate("body"),P.eventBus.on(d.appEvents.ERROR,P.onError)};var _={},N={__:_};_.oDefaults={disableTrackJSLinkSelector:".j-trackjs-optout"},_.addEvents=function(){var e=_.getStorage();e&&"false"===e.getItem("trackJsLogging")&&_.disableTrackJSLogging(!0),_.domDelegate.on("click",_.oDefaults.disableTrackJSLinkSelector,_.disableTrackJSLogging),window.addEventListener("unhandledrejection",_.handleUnhandledRejectionErrors)},_.handleUnhandledRejectionErrors=function(e){console.warn(e.reason),window._trackJs&&window._trackJs.track&&window._trackJs.track(e.reason)},_.getStorage=function(){return window.localStorage},_.disableTrackJSLogging=function(e){var t=_.getStorage(),n=t.getItem("trackJsLogging")||"true",r=window.i18n["nemo.ui.optout.message"],o=window.i18n["nemo.ui.optout.headline"];!0!==e&&("true"===(n="true"===n?"false":"true")&&(r=window.i18n["nemo.ui.optin.message"],o=window.i18n["nemo.ui.optin.headline"]),C.handleError({errorHeadline:o,errorMessage:r,errorSubheadline:""})),window._trackJs&&window._trackJs.onError&&(window._trackJs.onError=function(){return"false"!==n}),t&&t.setItem("trackJsLogging",n)},N.initialize=function(){_.domDelegate=g.dom.getEventDelegate("body"),_.addEvents()},N.initialize();var R={},T={__:R};R.oDefaults={selectorFooter:".nm-footer",selectorFootnote:".nm-footnote-wrap",selectorHeader:".nm-header"},R.initialize=function(){R.isHideHeaderFooter()?(R.persistHideHeaderFooter(),R.removeHeaderFooter()):R.isHideHeaderFooterPersistent()&&R.removeHeaderFooter()},R.persistHideHeaderFooter=function(){var e=R.getSessionStorage();e&&e.setItem("hideHeaderFooter",!0)},R.isHideHeaderFooter=function(){return window.location.hash&&window.location.hash.indexOf("hideHeaderFooter")>-1},R.isHideHeaderFooterPersistent=function(){var e=R.getSessionStorage(),t=!1;return e&&(t=e.getItem("hideHeaderFooter")),t},R.getSessionStorage=function(){return window.sessionStorage||null},R.removeHeaderFooter=function(){var e=g.dom.getElement(R.oDefaults.selectorHeader),t=g.dom.getElement(R.oDefaults.selectorFooter),n=g.dom.getElement(R.oDefaults.selectorFootnote);e.style.display="none",t.style.display="none",n.style.paddingTop="40px"},T.isHiddenHeaderFooter=function(){return R.isHideHeaderFooter()||R.isHideHeaderFooterPersistent()},T.initialize=function(){R.initialize()};var H={},M={__:H},F={1920:!1,debug:!1,module:!1};M.getStateOfModeFor=function(e){return F[e]||!1},M.triggerModeChange=function(e,t){var n;return n="true"===t||!0===t,void 0!==F[e]&&(!0===n?H.activateState(e):H.deactivateState(e),!0)},H.activateState=function(e){var t=H.getDomBodyElement(),n=H.getDomHtmlElement();"1920"===e&&(t.setAttribute("page-type","widescreen"),t.setAttribute("page-override","widescreen-overwrite")),F[e]=!0,n.classList.add("nm-state-is-"+e)},H.deactivateState=function(e){var t=H.getDomBodyElement(),n=H.getDomHtmlElement();"1920"===e&&(t.removeAttribute("page-type","widescreen"),t.removeAttribute("page-override","widescreen-overwrite")),F[e]=!1,n.classList.remove("nm-state-is-"+e)},H.getDomBodyElement=function(){return document.querySelector("body")},H.getDomHtmlElement=function(){return document.querySelector("html")};var j=new(function(){function e(){if(o(this,e),e._instance)return e._instance;e._setState(),e._instance=this}return c(e,null,[{key:"_setState",value:function(){e._urlContainsDebugMode()?M.triggerModeChange("debug","true"):M.triggerModeChange("debug","false")}},{key:"_urlContainsDebugMode",value:function(){return-1!==window.location.href.indexOf("debug=true")}}]),e}()),U=new(function(){function e(){o(this,e)}return c(e,[{key:"initialize",value:function(){var e=SETUPS.get("nemo.InterstitialLayerLink"),t=this._getCurrentCarline();this._writeLayerHasBeenShown=this._writeLayerHasBeenShown.bind(this),e&&t&&(this.storageKey=this._getStorageKeyForCarline(t),document.addEventListener(d.appEvents.INTERSTITIAL_LAYER_CLOSE,this._writeLayerHasBeenShown),this._processInterstitialLayer(e))}},{key:"_getCurrentCarline",value:function(){var e=document.querySelector("meta[name=carline]");return e?e.getAttribute("content"):""}},{key:"_processInterstitialLayer",value:function(e){this._readLayerHasBeenShown()||this._openInterstitialLayer(e)}},{key:"_getStorageKeyForCarline",value:function(e){return"audi-interstitial-layer-"+e}},{key:"_readLayerHasBeenShown",value:function(){return this.sessionStorageAlternative?this.sessionStorageAlternative[this.storageKey]:sessionStorage.getItem(this.storageKey)}},{key:"_openInterstitialLayer",value:function(e){var t={clickOnShaderClosesModal:!1,dataset:{linkUrl:e},isLayerClosable:!1,layerType:"ModalLayerInterstitialElement"};document.dispatchEvent(new CustomEvent("MODAL_LAYER_OPEN",{detail:t}))}},{key:"_writeLayerHasBeenShown",value:function(){try{sessionStorage.setItem(this.storageKey,!0)}catch(e){this.sessionStorageAlternative=this.sessionStorageAlternative?this.sessionStorageAlternative:{},this.sessionStorageAlternative[this.storageKey]=!0}}}]),e}()),B=(i(6142),i(6059),i(5115),i(2168)),q=function(e,t){return Object.assign({},e,t)},z=function(){return{}},G=function(){function e(){o(this,e)}return c(e,null,[{key:"NAME",get:function(){return"dbadDealerStore"}},{key:"ACTIONS",get:function(){return{RESET_DEALER:"resetDealer",SET_DEALER:"setDealer"}}},{key:"activeStoreExistsInLocalStorage",value:function(){var e=window.localStorage.getItem("dbadDealerStore");if(e&&""!==e){var t=JSON.parse(e);if(t&&t.timestamp)return Date.now()-t.timestamp<864e5}return!1}},{key:"addIphStore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B.stateRegistry.addStore(e.NAME,t,{resetDealer:z,setDealer:q},{storageType:B.StorageTypes.LOCAL_STORAGE})}}]),e}(),W='\n\t<li class="nm-iph-item">\n\t\t<a href="{{=it.dealerURL}}" target="_blank" class="nm-iph-item nm-iph-name nm-el-pg nm-el-pg-04 nm-at-pg-b" title="{{=it.dealerName}}">{{=it.dealerName}}</a>\n\t\t<a x-cq-linkchecker="skip" href="#" class="nm-icon-cancel"></a>\n\t</li>\n\t<li class="nm-iph-item">\n\t\t<span class="nm-iph-phone nm-el-pg nm-el-pg-04">{{=it.dealerPhoneLabel}} {{=it.dealerPhone}}</span>\n\t</li>\n',V={},J={__:V};V.oDefaults={sClassIPHActive:"nm-iph-active",sSelectorIPHCancelBtn:".nm-iph-item .nm-icon-cancel",sSelectorIPHWrapper:".nm-iph-wrapper"},J.parsePartnerID=function(){var e=!1;return window.location.search&&window.location.search.indexOf("partner_id=")>-1?e=window.location.search.split("partner_id=")[1]:window.location.hash&&window.location.hash.indexOf("partner_id=")>-1&&(e=window.location.hash.split("partner_id=")[1]),e&&(e=e.split("&")[0]),e},J.addPartnerId=function(e){var t=e;return-1===t.indexOf("partner=")&&(t.indexOf("?")>-1?t+="&partner="+V.dealerData.kvpsid:t+="?partner="+V.dealerData.kvpsid),t},J.updateNWB=function(e){return-1===e.search(/(a)+[a-z]*(nwbp)+/g)?e.replace(/(a)+[a-z]*(nwb)+/g,(function(e){return e+"p"})):e},J.inIPHMode=function(){return V.dealerData&&V.dealerData.kvpsid},V.updateDealerLinks=function(){var e,t,n,r,o=V.renderContext.querySelectorAll(".nm-j-vtp-link");if(o&&o.length>0)for(e=0,t=o.length;e<t;e++)n=(r=o[e]).getAttribute("href"),n=J.addPartnerId(n),r.setAttribute("href",J.updateNWB(n))},V.sendCustomerDataToVeeAPI=function(e,t){var n=[];"undefined"!=typeof vee24&&(n.push(new vee24.crm.Data("BNR",e)),n.push(new vee24.crm.Data("Audipartner",t)),vee24.crm.submit("Customer Information",n))},V.getDealerPhoneLabel=function(){var e="basket.iph.phonelabel";return window.i18n&&window.i18n[e]?window.i18n[e]:"Tel."},V.disableIPHBasket=function(e){B.stateRegistry.triggerAction(G.NAME,G.ACTIONS.RESET_DEALER),e&&this.removeEventListener("click",V.disableIPHBasket)},V.getDealerSearchUrl=function(e){var t=SETUPS.get("iph.clientid")?SETUPS.get("iph.clientid"):"e2aaa0fa0c";return"//"+(SETUPS.get("iph.dealersearchurl")?SETUPS.get("iph.dealersearchurl"):"dealersearch.audi.com/api/json/v2/audi-deu")+"/id?q="+e+"&clientId="+t},V.areDealerDataComplete=function(){return!!V.dealerData&&V.dealerData.kvpsid&&V.dealerData.kvpsSyncId&&V.dealerData.dealerName&&V.dealerData.dealerURL&&V.dealerData.dealerPhone},V.loadPartnerInfo=function(){var e=r(u().mark((function e(t){var n,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=V.getDealerSearchUrl(t),e.next=4,fetch(n);case 4:return r=e.sent,e.next=7,r.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:throw e.prev=11,e.t0=e.catch(0),console.info("loadPartnerInfo failed ".concat(e.t0.message?e.t0.message:e.t0)),e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),V.checkForPartnerID=function(){var e=J.parsePartnerID();e?V.loadPartnerInfo(e).then((function(t){t&&t.meta&&"OK"===t.meta.returnCode&&t.partners&&t.partners.length>0?(V.dealerData={dealerName:t.partners[0].name,dealerPhone:t.partners[0].contactDetails.phone.international,dealerURL:t.partners[0].url,kvpsSyncId:t.partners[0].kvpsSyncId,kvpsid:e},G.addIphStore(V.dealerData)):V.addEmptyStoreIfNecessary()})):V.addEmptyStoreIfNecessary()},V.addEmptyStoreIfNecessary=function(){G.activeStoreExistsInLocalStorage()||G.addIphStore({})},V.onIphStoreUpdate=function(e){V.dealerData=e,V.areDealerDataComplete()?V.renderIPH():V.dealerData.kvpsid?V.loadPartnerInfo(V.dealerData.kvpsid).then((function(e){e&&e.meta&&"OK"===e.meta.returnCode&&e.partners&&e.partners.length>0&&(V.dealerData={dealerName:e.partners[0].name,dealerPhone:e.partners[0].contactDetails.phone.international,dealerURL:e.partners[0].url,kvpsSyncId:e.partners[0].kvpsSyncId,kvpsid:V.dealerData.kvpsid}),V.renderIPH()})):V.renderNoIPH()},V.applyIphToContext=function(){V.dealerData&&V.dealerData.kvpsid?V.renderIPH():V.renderNoIPH()},V.renderIPH=function(){var e=V.renderContext.querySelector(V.oDefaults.sSelectorIPHWrapper);if(e){var t={dealerBNR:V.dealerData.kvpsid,dealerName:V.dealerData.dealerName,dealerPhone:V.dealerData.dealerPhone,dealerPhoneLabel:V.getDealerPhoneLabel(),dealerURL:V.dealerData.dealerURL};document.querySelector("body").classList.add(V.oDefaults.sClassIPHActive),e.innerHTML=g.template.render(W,t);var n=V.renderContext.querySelector(V.oDefaults.sSelectorIPHCancelBtn);V.sendCustomerDataToVeeAPI(V.dealerData.kvpsid,V.dealerData.dealerName),n&&n.addEventListener("click",V.disableIPHBasket),!0===SETUPS.get("scope.iph.dealerlink")&&V.updateDealerLinks()}},V.renderNoIPH=function(){document.querySelector("body").classList.remove(V.oDefaults.sClassIPHActive)},V.onPageLoaded=function(e){V.renderContext=e&&e.domElement?e.domElement:document,V.applyIphToContext()},J.initialize=function(e){V.eventBus=e,"1"===SETUPS.get("scope.iph")?(V.renderContext=document,B.stateRegistry.subscribeToStore(G.NAME,V.onIphStoreUpdate),V.eventBus.on(d.appEvents.PAGE_LOADED,V.onPageLoaded),V.checkForPartnerID()):G.addIphStore()};var Y={},K={__:Y};Y.oDefaults={sSelectorHeaderItem:".nm-navigation-header-item",sSelectorOverlayOpen:".nm-header-overlay-is-open",sSelectorFlyoutMenu:".nm-navigation-sitemap-wrap > .nm-navigation-sitemap-wrap-link",sSelectorHeaderLink:".nm-navigation-header-link",sSelectorHeaderDirectLink:"nm-navigation-header-direct-link",sSelectorNavigationContainer:".nm-navigation-header-detail-container",sSelectorNavigation:".nm-navigation-header-detail-container > ul",sSelectorNavigationActiveLink:".nm-header-overlay-is-open .nm-navigation-header-detail-container > ul > li.nm-header-detail-link-active",sSelectorNavigationLink:".nm-navigation-header-detail-container > ul > li > a",sClassDetailLinkActive:"nm-header-detail-link-active",sSelectorOverlay:".nm-navigation-header-overlay",sClassOverlayOpen:"nm-header-overlay-is-open",sSelectorOverlayContainer:".nm-header-overlay-container",sSelectorDropdownVisibiltyCheck:"#nm-navigation-dropdown-menu",sSelectorAdditionalLogo:".nm-has-additional-logo",sNumLogoHeightAdjustment:30,sNumMenuBreakpoint:899,sNumMenuBreakpointCarline:999,sNumHoverTimeout:300,sNumTriangleHeight:460,sNumOverlayHeightOffset:85,sNumOverlayHeightDetailOffset:120},K.open=function(e){var t,n,r,o=g.dom.getElement("a",e);Y.addBackGroundEventOnce(),e.setAttribute("flyout-is-open","true"),g.dom.isElement(o)&&(t=o.getAttribute("data-ref-id")),n=Y.oDefaults.sSelectorOverlayContainer+" "+Y.oDefaults.sSelectorOverlay+'[data-ref-id="'+t+'"]',r=g.dom.getElement(n),Y.setFlyoutHeight(r),g.dom.getElementsArray(".nm-navigation-header-detail .nm-navigation-header-detail-overlay",r).forEach((function(e){e.style["transition-delay"]="0s"})),r.classList.add(Y.oDefaults.sClassOverlayOpen),Y.eventBus.emit(d.appEvents.MENUFLYOUT_OPEN,{item:e}),Y.closeDropdownMenu(),e.classList.add(Y.oDefaults.sClassOverlayOpen)},K.close=function(e){var t,n,r,o=g.dom.getElement("a",e);g.dom.isElement(o)&&(t=o.getAttribute("href")),n=Y.oDefaults.sSelectorOverlayContainer+" "+Y.oDefaults.sSelectorOverlay+'[data-ref-url="'+t+'"]',r=g.dom.getElementsArray(n),Y.removeBackGroundEvent(),e.setAttribute("flyout-is-open","false"),r.forEach((function(e){e&&void 0!==e.getAttribute("data-height")&&(e.style.height="0"),g.dom.getElementsArray(".nm-navigation-header-detail .nm-navigation-header-detail-overlay-wrap",e).forEach((function(e){e.style["transition-delay"]="1s"})),e.classList.remove(Y.oDefaults.sClassOverlayOpen)})),Y.eventBus.emit(d.appEvents.MENUFLYOUT_CLOSE,{item:e}),e.classList.remove(Y.oDefaults.sClassOverlayOpen)},K.closeAll=function(){g.dom.getElementsArray(Y.oDefaults.sSelectorHeaderItem).forEach((function(e){K.close(e)}))},K.isInsideTriangle=function(e,t,n,r,o,i,a,l){var c=(o-n)*(l-r)-(a-n)*(i-r);return((o-e)*(l-t)-(a-e)*(i-t))/c>0&&((a-e)*(r-t)-(n-e)*(l-t))/c>0&&((n-e)*(i-t)-(o-e)*(r-t))/c>0},Y.itemIsOpen=function(e){var t=e.getAttribute("flyout-is-open");return!(!t||"true"!==t)},Y.handleMenuClick=function(e){var t=this.parentNode;if(this.classList.contains(Y.oDefaults.sSelectorHeaderDirectLink))return!0;e.preventDefault(),Y.itemIsOpen(t)?K.close(t):(K.closeAll(),K.open(t))},Y.handleCloseClick=function(e){var t=g.dom.getElement(Y.oDefaults.sSelectorHeaderItem+"."+Y.oDefaults.sClassOverlayOpen);e.preventDefault(),K.close(t)},Y.handleOverlayClick=function(e){g.dom.isElementOutsideOfElementWithSelector(e.target,Y.oDefaults.sSelectorOverlayOpen)&&K.closeAll()},Y.handleNavigationMouseEnter=function(e){e.preventDefault(),e.stopImmediatePropagation(),Y.activeItem=g.dom.getElement(Y.oDefaults.sSelectorNavigationActiveLink),Y.domEventDelegate.on("mousemove",Y.handleNavigationMouseMove)},Y.handleNavigationMouseLeave=function(){Y.domEventDelegate.off("mousemove",Y.handleNavigationMouseMove)},Y.handleActiveItemChange=function(e){Y.activeItem.classList.remove(Y.oDefaults.sClassDetailLinkActive),Y.activeItem=e,Y.activeItem.classList.add(Y.oDefaults.sClassDetailLinkActive)},Y.handleHoverTimeout=function(){g.dom.isElement(Y.activeItemNominee)&&Y.activeItemNominee.parentNode!==Y.activeItem&&Y.handleActiveItemChange(Y.activeItemNominee.parentNode)},Y.handleNavigationMouseMove=function(e){if(Y.activeItemNominee=g.dom.closest(e.target,Y.oDefaults.sSelectorNavigationLink),Y.activeItemNominee){var t=g.dom.closest(e.target,Y.oDefaults.sSelectorNavigation),n=g.dom.getElement("a",t.firstElementChild);Y.topBoundingRect=n.getBoundingClientRect(),e.clientX<Y.topBoundingRect.right&&(Y.x0=e.clientX,Y.y0=e.clientY,Y.x1&&Y.y1||(Y.x1=Y.x0,Y.y1=Y.y0),Y.x2=Y.topBoundingRect.right,Y.y2=Math.max(0,Y.topBoundingRect.top),Y.x3=Y.x2,Y.y3=Y.topBoundingRect.top+Y.oDefaults.sNumTriangleHeight,Y.activeItemNominee.parentNode===Y.activeItem?K.isInsideTriangle(Y.x0,Y.y0,Y.x1,Y.y1,Y.x2,Y.y2,Y.x3,Y.y3)||(Y.x1=Y.x0,Y.y1=Y.y0):Y.activeItem&&(K.isInsideTriangle(Y.x0,Y.y0,Y.x1,Y.y1,Y.x2,Y.y2,Y.x3,Y.y3)?(clearTimeout(Y.hoverTimeout),Y.hoverTimeout=setTimeout(Y.handleHoverTimeout,Y.oDefaults.sNumHoverTimeout)):Y.handleActiveItemChange(Y.activeItemNominee.parentNode)))}},Y.handleFlyoutLinkClick=function(e){var t;window.innerWidth>Y.oDefaults.sNumMenuBreakpoint||0===g.dom.getElement(".nm-state-is-responsive").length||g.dom.isElement(e.target)&&e.target.classList.contains("nm-has-sub-nav")&&(e.preventDefault(),e.stopImmediatePropagation(),t=g.dom.closest(e.target,".nm-navigation-sitemap-wrap"),g.dom.isElement(t)&&t.classList.toggle("nm-flyout-is-expanded"))},Y.addBackGroundEventOnce=function(){Y.domEventDelegate.on("click",Y.handleOverlayClick)},Y.removeBackGroundEvent=function(){Y.domEventDelegate.off("click",Y.handleOverlayClick)},Y.handleWindowResize=function(){Y.setDataHeight(),Y.setFlyoutHeight(g.dom.getElement(".nm-navigation-header-overlay.nm-header-overlay-is-open")),Y.setDetailFlyoutHeight()},Y.addEvents=function(){window.addEventListener("resize",Y.handleWindowResize),Y.domEventDelegate.on("click",Y.oDefaults.sSelectorHeaderItem+" "+Y.oDefaults.sSelectorHeaderLink,Y.handleMenuClick),Y.domEventDelegate.on("click",Y.oDefaults.sSelectorOverlay+" .nm-icon-close",Y.handleCloseClick),Y.domEventDelegate.on("mouseover",Y.oDefaults.sSelectorNavigation,Y.handleNavigationMouseEnter),Y.domEventDelegate.on("mouseout",Y.oDefaults.sSelectorNavigation,Y.handleNavigationMouseLeave),Y.domEventDelegate.on("click",Y.oDefaults.sSelectorFlyoutMenu,Y.handleFlyoutLinkClick)},Y.setDataHeight=function(){g.dom.getElementsArray(".nm-header-overlay-container .nm-navigation-header-overlay").forEach((function(e){var t=g.dom.getElement(Y.oDefaults.sSelectorNavigationContainer,e),n=g.dom.getElementsArray(".nm-navigation-header-detail-overlay-content",t),r=0,o=t.clientHeight+Y.oDefaults.sNumOverlayHeightOffset;n.length&&(n.forEach((function(e){r=r<e.clientHeight?e.clientHeight:r})),o=o<(r+=Y.oDefaults.sNumOverlayHeightDetailOffset)?r:o),g.dom.isElement(Y.oDefaults.sSelectorAdditionalLogo)&&(o+=Y.oDefaults.sNumLogoHeightAdjustment),e.setAttribute("data-height",o)}))},Y.setDetailFlyoutHeight=function(){var e,t,n,r=g.dom.getElement(".nm-header-overlay-container .nm-navigation-header-overlay.nm-header-overlay-is-open");g.dom.isElement(r)&&(e=g.dom.getElement(Y.oDefaults.sSelectorNavigationContainer+" .nm-navigation-header-detail.nm-header-detail-link-active .nm-navigation-header-detail-overlay .nm-navigation-header-detail-overlay-content",r),g.dom.isElement(e)&&(t=e.clientHeight,g.dom.isElement(Y.oDefaults.sSelectorAdditionalLogo)&&(t+=Y.oDefaults.sNumLogoHeightAdjustment),g.dom.isElement(".nm-navigation-header-detail-container-carline",e)&&window.innerWidth<Y.oDefaults.sNumMenuBreakpointCarline?(t=0,e.setAttribute("data-height",t),n=g.dom.getElement(".nm-icon-close"),g.dom.isElement(n)&&n.click()):(e.setAttribute("data-height",t),Y.setFlyoutHeight(e))))},Y.setFlyoutHeight=function(e){var t=e,n=g.dom.getElement(".nm-navigation-header-overlay.nm-header-overlay-is-open");!g.dom.isElement(t)&&g.dom.isElement(n)&&"0"===n.getAttribute("data-ref-id")&&(t=g.dom.getElement(".nm-navigation-header-overlay.nm-header-overlay-is-open")),g.dom.isElement(t)&&void 0!==t.getAttribute("data-height")&&(t.style.height=t.getAttribute("data-height")+"px")},Y.closeDropdownMenu=function(){var e=g.dom.getElement(Y.oDefaults.sSelectorDropdownVisibiltyCheck);g.dom.isElement(e)&&e.checked&&(e.checked=!1)},Y.initialize=function(){Y.addEvents(),Y.setDataHeight()},K.initialize=function(e){Y.eventBus=e,Y.domEventDelegate=g.dom.getEventDelegate("body"),Y.initialize()};var $=".nm-navigation-carline-main-item > a",X=".nm-navigation-header-model-overlay",Z=".nm-close",Q=".nm-navigation-header-wrapped-link",ee="nm-navigation-model-container-active",te=".nm-navigation-model-container > ul",ne="nm-header-detail-link-active",re=".nm-navigation-header-dropdown-item a",oe={},ie={__:oe};oe.setdetailContentHeight=function(){var e,t,n;n=g.dom.getElement(X),e=g.dom.getElement(".nm-navigation-model-subnavigation",n),t=g.dom.getElement(".nm-navigation-model-container-active .nm-header-detail-link-active .nm-navigation-header-detail-overlay-content",n),n.style.height=e.clientHeight+t.clientHeight+85+"px"},oe.handleFlyoutOpen=function(){var e=g.dom.getElement(X);g.dom.isElement(e)&&!e.classList.contains("flyout-is-open")&&(e.classList.add("flyout-is-open"),oe.setdetailContentHeight())},oe.closeSearchFlyout=function(){var e=g.dom.getElement(".nm-header-overlay-is-open .nm-su-input"),t=g.dom.getElementsArray(".nm-header-overlay-is-open");g.dom.isElement(e)&&e.blur(),t.forEach((function(e){K.close(e)}))},oe.checkForFlyoutClose=function(){oe.flyoutInterval=setTimeout((function(){var e=g.dom.getElement(X);g.dom.isElement(e)&&e.classList.remove("flyout-is-open")}),100)},oe.stopFlyoutClose=function(){clearTimeout(oe.flyoutInterval)},oe.handleCarlineNavigationHover=function(e){var t=e.target;if(g.dom.isElement(t)){var n=t.getAttribute("data-ref-id");g.dom.getElementsArray(Q).forEach((function(e){e.classList.remove("active")})),t.classList.add("active");var r=g.dom.getElementsArray(".nm-navigation-model-container");r.forEach((function(e){e.classList.remove(ee)})),r[n-1].classList.add(ee),oe.setdetailContentHeight()}},oe.handleModelNavigationMouseEnter=function(e){e.preventDefault(),e.stopImmediatePropagation(),oe.activeItem=g.dom.getElement(".nm-navigation-model-container-active > ul > li.nm-header-detail-link-active"),oe.domEventDelegate.on("mousemove",oe.handleNavigationMouseMove)},oe.handleModelNavigationMouseLeave=function(){oe.domEventDelegate.off("mousemove",oe.handleNavigationMouseMove)},oe.handleActiveItemChange=function(e){oe.activeItem.classList.remove(ne),oe.activeItem=e,oe.activeItem.classList.add(ne),oe.setdetailContentHeight()},oe.handleHoverTimeout=function(){g.dom.isElement(oe.activeItemNominee)&&oe.activeItemNominee.parentNode!==oe.activeItem&&oe.handleActiveItemChange(oe.activeItemNominee.parentNode)},oe.handleNavigationMouseMove=function(e){if(oe.activeItemNominee=g.dom.closest(e.target,".nm-navigation-model-container > ul > li > a"),oe.activeItemNominee){var t=g.dom.closest(e.target,te),n=g.dom.getElement("a",t.firstElementChild);oe.topBoundingRect=n.getBoundingClientRect(),e.clientX<oe.topBoundingRect.right&&(oe.x0=e.clientX,oe.y0=e.clientY,oe.x1&&oe.y1||(oe.x1=oe.x0,oe.y1=oe.y0),oe.x2=oe.topBoundingRect.right,oe.y2=Math.max(0,oe.topBoundingRect.top),oe.x3=oe.x2,oe.y3=oe.topBoundingRect.top+460,oe.activeItemNominee.parentNode===oe.activeItem?K.isInsideTriangle(oe.x0,oe.y0,oe.x1,oe.y1,oe.x2,oe.y2,oe.x3,oe.y3)||(oe.x1=oe.x0,oe.y1=oe.y0):oe.activeItem&&(K.isInsideTriangle(oe.x0,oe.y0,oe.x1,oe.y1,oe.x2,oe.y2,oe.x3,oe.y3)?(clearTimeout(oe.hoverTimeout),oe.hoverTimeout=setTimeout(oe.handleHoverTimeout,300)):oe.handleActiveItemChange(oe.activeItemNominee.parentNode)))}},oe.addEvents=function(){oe.domEventDelegate.on("mouseover",$,oe.handleFlyoutOpen),oe.domEventDelegate.on("mouseout",$,oe.checkForFlyoutClose),oe.domEventDelegate.on("mouseover",X,oe.stopFlyoutClose),oe.domEventDelegate.on("mouseout",X,oe.checkForFlyoutClose),oe.domEventDelegate.on("mouseover",Q,oe.handleCarlineNavigationHover),oe.domEventDelegate.on("mouseover",te,oe.handleModelNavigationMouseEnter),oe.domEventDelegate.on("mouseout",te,oe.handleModelNavigationMouseLeave),oe.domEventDelegate.on("mouseover",re,oe.closeSearchFlyout),oe.domEventDelegate.on("click",X+" "+Z,oe.closeSearchFlyout)},oe.removeEvents=function(){oe.domEventDelegate.off("mouseover",$,oe.handleFlyoutOpen),oe.domEventDelegate.off("mouseout",$,oe.checkForFlyoutClose),oe.domEventDelegate.off("mouseover",X,oe.stopFlyoutClose),oe.domEventDelegate.off("mouseout",X,oe.checkForFlyoutClose),oe.domEventDelegate.off("mouseover",Q,oe.handleCarlineNavigationHover),oe.domEventDelegate.off("mouseover",te,oe.handleModelNavigationMouseEnter),oe.domEventDelegate.off("mouseout",te,oe.handleModelNavigationMouseLeave),oe.domEventDelegate.off("mouseover",re,oe.closeSearchFlyout),oe.domEventDelegate.off("click",X+" "+Z,oe.closeSearchFlyout)},oe.initialize=function(){!0===SETUPS.get("hasModelNavigationWrap")&&oe.addEvents()},ie.initialize=function(){oe.domEventDelegate=g.dom.getEventDelegate("body"),oe.initialize()},ie.initialize();var ae={},le={__:ae};ae.poaHandler=function(e){e.preventDefault();try{acquireIO&&acquireIO.max()()}catch(e){console.warn(e)}},ae.cookieHandler=function(e){e.preventDefault();try{blueConicClient&&blueConicClient.event.publish("optin_optout_openPermissionLevelSelector")}catch(e){console.warn(e)}},ae.addEvents=function(){ae.domEventDelegate.on("click",".nm-j-poa",ae.poaHandler),ae.domEventDelegate.on("click",".nm-j-ext-cookie",ae.cookieHandler)},ae.initialize=function(){ae.addEvents()},le.initialize=function(){ae.domEventDelegate=g.dom.getEventDelegate("body"),ae.initialize()},le.initialize();var ce={},se={__:ce};ce.navFixed=!1,ce.handleNaviStateChanged=function(e){e.where===d.scroll.WHERE.ABOVE?(document.body.classList.add("nm-nav-fixed"),ce.navFixed=!0):ce.navFixed&&(document.body.classList.remove("nm-nav-fixed"),ce.navFixed=!1)},ce.addEvents=function(){d.scroll.register(".nm-navigation-scroll-check",{eventName:"navigation-changed"},ce.handleNaviStateChanged)},ce.initialize=function(){ce.addEvents(),document.body.classList.add("nm-not-sticky")},se.initialize=function(e){ce.eventBus=e,ce.initialize()};var ue={},de={__:ue};ue.oDefaults={sSelectorModule:"j-action-usabilla"},ue.addEvents=function(){ue.domDelegate.on("click",".j-action-usabilla",ue.callExternalUsabillaModul)},ue.callExternalUsabillaModul=function(e){e&&e.preventDefault&&e.preventDefault();try{"function"==typeof window.usabilla_live?window.usabilla_live("click"):(console.warn("no usabilla: window.usabilla_live not defined"),ue.eventEmitter.trigger(d.appEvents.ERROR))}catch(e){console.warn("usabilla warn: something went wrong in window.usabilla_live: ",e),ue.eventEmitter.trigger(d.appEvents.ERROR)}},de.initialize=function(e){ue.eventEmitter=e,ue.domDelegate=g.dom.getEventDelegate("body"),ue.addEvents()};var fe=[m,O,C,T,U,J,K,se,de],ve=d.signal.getEmitter();fe.forEach((function(e){try{e.initialize(ve)}catch(e){console.error(e)}}))}(),a}()}));
//# sourceMappingURL=audi-core-global.legacy.js.map