/*! For license information please see bundle.editorial.legacy.js.LICENSE.txt */
/* nemo v148.0.0 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("core-application"),require("core-utils"),require("microkernel"),require("core-global"),require("core-vendor")):"function"==typeof define&&define.amd?define("editorial",["core-application","core-utils","microkernel","core-global","core-vendor"],t):"object"==typeof exports?exports.editorial=t(require("core-application"),require("core-utils"),require("microkernel"),require("core-global"),require("core-vendor")):e.editorial=t(e["core-application"],e["core-utils"],e.microkernel,e["core-global"],e["core-vendor"])}(window,(function(e,t,n,r,a){return function(e){function t(t){for(var n,a,i=t[0],o=t[1],l=0,c=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&c.push(r[a][0]),r[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(s&&s(t);c.length;)c.shift()()}var n={},r={3:0};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=i);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,a.nc&&l.setAttribute("nonce",a.nc),l.src=function(e){return a.p+"bundle."+({9:"panorama-three",12:"vendors~panorama-three"}[e]||e)+".legacy.js"}(e);var s=new Error;o=function(t){l.onerror=l.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,n[1](s)}r[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp_name_=window.webpackJsonp_name_||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=o;return a(a.s=173)}([function(t,n){t.exports=e},function(e,n){e.exports=t},,function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(90)},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.default=e.exports,e.exports.__esModule=!0,n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function n(e,t,n,r,a,i,o){try{var l=e[i](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function l(e){n(o,a,i,l,s,"next",e)}function s(e){n(o,a,i,l,s,"throw",e)}l(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},,function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){e.exports=!n(11)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(109),a=n(110),i=n(98),o=n(111);e.exports=function(e){return r(e)||a(e)||i(e)||o()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(82);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(73).default,a=n(21);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(8),a=n(22),i=n(26),o=n(27),l=n(51),s=function(e,t,n){var c,u,d,m,f=e&s.F,h=e&s.G,v=e&s.S,g=e&s.P,p=e&s.B,y=h?r:v?r[t]||(r[t]={}):(r[t]||{}).prototype,S=h?a:a[t]||(a[t]={}),E=S.prototype||(S.prototype={});for(c in h&&(n=t),n)d=((u=!f&&y&&void 0!==y[c])?y:n)[c],m=p&&u?l(d,r):g&&"function"==typeof d?l(Function.call,d):d,y&&o(y,c,d,e&s.U),S[c]!=d&&i(S,c,m),g&&E[c]!=d&&(E[c]=d)};r.core=a,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,e.exports=s},function(e,t){e.exports=n},function(e,t,n){var r=n(35)("wks"),a=n(29),i=n(8).Symbol,o="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=r},function(e,t,n){var r=n(10),a=n(55),i=n(46),o=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),a)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=r},function(e,t,n){"use strict";var r=n(71),a={};a[n(19)("toStringTag")]="z",a+""!="[object z]"&&n(27)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},function(e,t,n){var r=n(52),a=n(30);e.exports=function(e){return r(a(e))}},function(e,t,n){var r=n(20),a=n(40);e.exports=n(12)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(8),a=n(26),i=n(28),o=n(29)("src"),l=n(63),s=(""+l).split("toString");n(22).inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,n,l){var c="function"==typeof n;c&&(i(n,"name")||a(n,"name",t)),e[t]!==n&&(c&&(i(n,o)||a(n,o,e[t]?""+e[t]:s.join(String(t)))),e===r?e[t]=n:l?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||l.call(this)}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(36),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t,n){var r=n(17),a=n(62),i=n(31),o=n(10),l=n(13),s=n(11),c=n(80),u=(n(8).Reflect||{}).construct,d=s((function(){function e(){}return!(u((function(){}),[],e)instanceof e)})),m=!s((function(){u((function(){}))}));r(r.S+r.F*(d||m),"Reflect",{construct:function(e,t){i(e),o(t);var n=arguments.length<3?e:i(arguments[2]);if(m&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var s=n.prototype,f=a(l(s)?s:Object.prototype),h=Function.apply.call(e,f,t);return l(h)?h:f}})},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(22),a=n(8),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(45)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(60),a=n(42);e.exports=Object.keys||function(e){return r(e,a)}},,,function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(50),a=n(37);n(78)("keys",(function(){return function(e){return a(r(e))}}))},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(13),a=n(8).document,i=r(a)&&r(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t){e.exports=!1},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(35)("keys"),a=n(29);e.exports=function(e){return r[e]||(r[e]=a(e))}},function(e,t,n){"use strict";var r=n(88),a=n(10),i=n(99),o=n(77),l=n(32),s=n(68),c=n(56),u=n(11),d=Math.min,m=[].push,f="length",h=!u((function(){RegExp(4294967295,"y")}));n(69)("split",2,(function(e,t,n,u){var v;return v="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[f]||2!="ab".split(/(?:ab)*/)[f]||4!=".".split(/(.?)(.?)/)[f]||".".split(/()()/)[f]>1||"".split(/.?/)[f]?function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(a,e,t);for(var i,o,l,s=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,h=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,u+"g");(i=c.call(v,a))&&!((o=v.lastIndex)>d&&(s.push(a.slice(d,i.index)),i[f]>1&&i.index<a[f]&&m.apply(s,i.slice(1)),l=i[0][f],d=o,s[f]>=h));)v.lastIndex===i.index&&v.lastIndex++;return d===a[f]?!l&&v.test("")||s.push(""):s.push(a.slice(d)),s[f]>h?s.slice(0,h):s}:"0".split(void 0,0)[f]?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var a=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,a,r):v.call(String(a),n,r)},function(e,t){var r=u(v,e,this,t,v!==n);if(r.done)return r.value;var c=a(e),m=String(this),f=i(c,RegExp),g=c.unicode,p=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),y=new f(h?c:"^(?:"+c.source+")",p),S=void 0===t?4294967295:t>>>0;if(0===S)return[];if(0===m.length)return null===s(y,m)?[m]:[];for(var E=0,C=0,w=[];C<m.length;){y.lastIndex=h?C:0;var b,D=s(y,h?m:m.slice(C));if(null===D||(b=d(l(y.lastIndex+(h?0:C)),m.length))===E)C=o(m,C,g);else{if(w.push(m.slice(E,C)),w.length===S)return w;for(var x=1;x<=D.length-1;x++)if(w.push(D[x]),w.length===S)return w;C=E=b}}return w.push(m.slice(E)),w}]}))},function(e,t,n){"use strict";var r=n(10),a=n(50),i=n(32),o=n(36),l=n(77),s=n(68),c=Math.max,u=Math.min,d=Math.floor,m=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;n(69)("replace",2,(function(e,t,n,h){return[function(r,a){var i=e(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,i,a):n.call(String(i),r,a)},function(e,t){var a=h(n,e,this,t);if(a.done)return a.value;var d=r(e),m=String(this),f="function"==typeof t;f||(t=String(t));var g=d.global;if(g){var p=d.unicode;d.lastIndex=0}for(var y=[];;){var S=s(d,m);if(null===S)break;if(y.push(S),!g)break;""===String(S[0])&&(d.lastIndex=l(m,i(d.lastIndex),p))}for(var E,C="",w=0,b=0;b<y.length;b++){S=y[b];for(var D=String(S[0]),x=c(u(o(S.index),m.length),0),L=[],k=1;k<S.length;k++)L.push(void 0===(E=S[k])?E:String(E));var I=S.groups;if(f){var A=[D].concat(L,x,m);void 0!==I&&A.push(I);var _=String(t.apply(void 0,A))}else _=v(D,m,x,L,I,t);x>=w&&(C+=m.slice(w,x)+_,w=x+D.length)}return C+m.slice(w)}];function v(e,t,r,i,o,l){var s=r+e.length,c=i.length,u=f;return void 0!==o&&(o=a(o),u=m),n.call(l,u,(function(n,a){var l;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(s);case"<":l=o[a.slice(1,-1)];break;default:var u=+a;if(0===u)return n;if(u>c){var m=d(u/10);return 0===m?n:m<=c?void 0===i[m-1]?a.charAt(1):i[m-1]+a.charAt(1):n}l=i[u-1]}return void 0===l?"":l}))}}))},function(e,t,n){var r=n(30);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(31);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(34);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){"use strict";var r=n(10);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(17),a=n(93)(2);r(r.P+r.F*!n(106)([].filter,!0),"Array",{filter:function(e){return a(this,e,arguments[1])}})},function(e,t,n){e.exports=!n(12)&&!n(11)((function(){return 7!=Object.defineProperty(n(44)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){"use strict";var r,a,i=n(53),o=RegExp.prototype.exec,l=String.prototype.replace,s=o,c=(r=/a/,a=/b*/g,o.call(r,"a"),o.call(a,"a"),0!==r.lastIndex||0!==a.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(s=function(e){var t,n,r,a,s=this;return u&&(n=new RegExp("^"+s.source+"$(?!\\s)",i.call(s))),c&&(t=s.lastIndex),r=o.call(s,e),c&&r&&(s.lastIndex=s.global?r.index+r[0].length:t),u&&r&&r.length>1&&l.call(r[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)})),r}),e.exports=s},function(e,t,n){"use strict";var r=n(17),a=n(93)(5),i=!0;"find"in[]&&Array(1).find((function(){i=!1})),r(r.P+r.F*i,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n(105)("find")},function(e,t,n){var r=n(36),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?a(e+t,0):i(e,t)}},function(e,t,n){"use strict";n(97);var r=n(10),a=n(53),i=n(12),o=/./.toString,l=function(e){n(27)(RegExp.prototype,"toString",e,!0)};n(11)((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?l((function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0)})):"toString"!=o.name&&l((function(){return o.call(this)}))},function(e,t,n){var r=n(28),a=n(25),i=n(64)(!1),o=n(47)("IE_PROTO");e.exports=function(e,t){var n,l=a(e),s=0,c=[];for(n in l)n!=o&&r(l,n)&&c.push(n);for(;t.length>s;)r(l,n=t[s++])&&(~i(c,n)||c.push(n));return c}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(10),a=n(79),i=n(42),o=n(47)("IE_PROTO"),l=function(){},s=function(){var e,t=n(44)("iframe"),r=i.length;for(t.style.display="none",n(65).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),s=e.F;r--;)delete s.prototype[i[r]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(l.prototype=r(e),n=new l,l.prototype=null,n[o]=e):n=s(),void 0===t?n:a(n,t)}},function(e,t,n){e.exports=n(35)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(25),a=n(32),i=n(58);e.exports=function(e){return function(t,n,o){var l,s=r(t),c=a(s.length),u=i(o,c);if(e&&n!=n){for(;c>u;)if((l=s[u++])!=l)return!0}else for(;c>u;u++)if((e||u in s)&&s[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(8).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";var r=n(17),a=n(93)(1);r(r.P+r.F*!n(106)([].map,!0),"Array",{map:function(e){return a(this,e,arguments[1])}})},function(e,t){e.exports=a},function(e,t,n){"use strict";var r=n(71),a=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},function(e,t,n){"use strict";n(91);var r=n(27),a=n(26),i=n(11),o=n(30),l=n(19),s=n(56),c=l("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var m=l(e),f=!i((function(){var t={};return t[m]=function(){return 7},7!=""[e](t)})),h=f?!i((function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[c]=function(){return n}),n[m](""),!t})):void 0;if(!f||!h||"replace"===e&&!u||"split"===e&&!d){var v=/./[m],g=n(o,m,""[e],(function(e,t,n,r,a){return t.exec===s?f&&!a?{done:!0,value:v.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}})),p=g[0],y=g[1];r(String.prototype,e,p),a(RegExp.prototype,m,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)})}}},,function(e,t,n){var r=n(34),a=n(19)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:i?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},,function(e,t,n){"use strict";var r=n(17),a=n(65),i=n(34),o=n(58),l=n(32),s=[].slice;r(r.P+r.F*n(11)((function(){a&&s.call(a)})),"Array",{slice:function(e,t){var n=l(this.length),r=i(this);if(t=void 0===t?n:t,"Array"==r)return s.call(this,e,t);for(var a=o(e,n),c=o(t,n),u=l(c-a),d=new Array(u),m=0;m<u;m++)d[m]="String"==r?this.charAt(a+m):this[a+m];return d}})},function(e,t,n){"use strict";var r=n(8),a=n(28),i=n(12),o=n(17),l=n(27),s=n(114).KEY,c=n(11),u=n(35),d=n(115),m=n(29),f=n(19),h=n(107),v=n(128),g=n(129),p=n(104),y=n(10),S=n(13),E=n(50),C=n(25),w=n(46),b=n(40),D=n(62),x=n(121),L=n(83),k=n(72),I=n(20),A=n(37),_=L.f,P=I.f,M=x.f,T=r.Symbol,j=r.JSON,O=j&&j.stringify,N=f("_hidden"),R=f("toPrimitive"),B={}.propertyIsEnumerable,V=u("symbol-registry"),F=u("symbols"),H=u("op-symbols"),Q=Object.prototype,z="function"==typeof T&&!!k.f,G=r.QObject,W=!G||!G.prototype||!G.prototype.findChild,U=i&&c((function(){return 7!=D(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=_(Q,t);r&&delete Q[t],P(e,t,n),r&&e!==Q&&P(Q,t,r)}:P,q=function(e){var t=F[e]=D(T.prototype);return t._k=e,t},Y=z&&"symbol"==typeof T.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof T},X=function(e,t,n){return e===Q&&X(H,t,n),y(e),t=w(t,!0),y(n),a(F,t)?(n.enumerable?(a(e,N)&&e[N][t]&&(e[N][t]=!1),n=D(n,{enumerable:b(0,!1)})):(a(e,N)||P(e,N,b(1,{})),e[N][t]=!0),U(e,t,n)):P(e,t,n)},$=function(e,t){y(e);for(var n,r=g(t=C(t)),a=0,i=r.length;i>a;)X(e,n=r[a++],t[n]);return e},K=function(e){var t=B.call(this,e=w(e,!0));return!(this===Q&&a(F,e)&&!a(H,e))&&(!(t||!a(this,e)||!a(F,e)||a(this,N)&&this[N][e])||t)},J=function(e,t){if(e=C(e),t=w(t,!0),e!==Q||!a(F,t)||a(H,t)){var n=_(e,t);return!n||!a(F,t)||a(e,N)&&e[N][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=M(C(e)),r=[],i=0;n.length>i;)a(F,t=n[i++])||t==N||t==s||r.push(t);return r},ee=function(e){for(var t,n=e===Q,r=M(n?H:C(e)),i=[],o=0;r.length>o;)!a(F,t=r[o++])||n&&!a(Q,t)||i.push(F[t]);return i};z||(l((T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=m(arguments.length>0?arguments[0]:void 0),t=function(n){this===Q&&t.call(H,n),a(this,N)&&a(this[N],e)&&(this[N][e]=!1),U(this,e,b(1,n))};return i&&W&&U(Q,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",(function(){return this._k})),L.f=J,I.f=X,n(84).f=x.f=Z,n(61).f=K,k.f=ee,i&&!n(45)&&l(Q,"propertyIsEnumerable",K,!0),h.f=function(e){return q(f(e))}),o(o.G+o.W+o.F*!z,{Symbol:T});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)f(te[ne++]);for(var re=A(f.store),ae=0;re.length>ae;)v(re[ae++]);o(o.S+o.F*!z,"Symbol",{for:function(e){return a(V,e+="")?V[e]:V[e]=T(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in V)if(V[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!z,"Object",{create:function(e,t){return void 0===t?D(e):$(D(e),t)},defineProperty:X,defineProperties:$,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:ee});var ie=c((function(){k.f(1)}));o(o.S+o.F*ie,"Object",{getOwnPropertySymbols:function(e){return k.f(E(e))}}),j&&o(o.S+o.F*(!z||c((function(){var e=T();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],a=1;arguments.length>a;)r.push(arguments[a++]);if(n=t=r[1],(S(t)||void 0!==e)&&!Y(e))return p(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,O.apply(j,r)}}),T.prototype[R]||n(26)(T.prototype,R,T.prototype.valueOf),d(T,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){"use strict";var r=n(89)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(17),a=n(22),i=n(11);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",o)}},function(e,t,n){var r=n(20),a=n(10),i=n(37);e.exports=n(12)?Object.defineProperties:function(e,t){a(e);for(var n,o=i(t),l=o.length,s=0;l>s;)r.f(e,n=o[s++],t[n]);return e}},function(e,t,n){"use strict";var r=n(31),a=n(13),i=n(81),o=[].slice,l={},s=function(e,t,n){if(!(t in l)){for(var r=[],a=0;a<t;a++)r[a]="a["+a+"]";l[t]=Function("F,a","return new F("+r.join(",")+")")}return l[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),l=function(){var r=n.concat(o.call(arguments));return this instanceof l?s(t,r.length,r):i(t,r,e)};return a(t.prototype)&&(l.prototype=t.prototype),l}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.default=e.exports,e.exports.__esModule=!0,n(t,r)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(61),a=n(40),i=n(25),o=n(46),l=n(28),s=n(55),c=Object.getOwnPropertyDescriptor;t.f=n(12)?c:function(e,t){if(e=i(e),t=o(t,!0),s)try{return c(e,t)}catch(e){}if(l(e,t))return a(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(60),a=n(42).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},function(e,t,n){var r=n(17);r(r.S+r.F,"Object",{assign:n(113)})},function(e,t,n){var r=n(25),a=n(83).f;n(78)("getOwnPropertyDescriptor",(function(){return function(e,t){return a(r(e),t)}}))},function(e,t,n){var r=n(17),a=n(130),i=n(25),o=n(83),l=n(122);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),s=o.f,c=a(r),u={},d=0;c.length>d;)void 0!==(n=s(r,t=c[d++]))&&l(u,t,n);return u}})},function(e,t,n){var r=n(13),a=n(34),i=n(19)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},function(e,t,n){var r=n(36),a=n(30);e.exports=function(e){return function(t,n){var i,o,l=String(a(t)),s=r(n),c=l.length;return s<0||s>=c?e?"":void 0:(i=l.charCodeAt(s))<55296||i>56319||s+1===c||(o=l.charCodeAt(s+1))<56320||o>57343?e?l.charAt(s):i:e?l.slice(s,s+2):o-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,i=Object.create(a.prototype),o=new b(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return x()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=E(o,n);if(l){if(l===u)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===u)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u={};function d(){}function m(){}function f(){}var h={};l(h,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(D([])));g&&g!==t&&n.call(g,a)&&(h=g);var p=f.prototype=d.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){var r;this._invoke=function(a,i){function o(){return new t((function(r,o){!function r(a,i,o,l){var s=c(e[a],e,i);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,o,l)}),(function(e){r("throw",e,o,l)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return r("throw",e,o,l)}))}l(s.arg)}(a,i,r,o)}))}return r=r?r.then(o,o):o()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function D(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return m.prototype=f,l(p,"constructor",f),l(f,"constructor",m),m.displayName=l(f,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,o,"GeneratorFunction")),e.prototype=Object.create(p),e},e.awrap=function(e){return{__await:e}},y(S.prototype),l(S.prototype,i,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new S(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(p),l(p,o,"Generator"),l(p,a,(function(){return this})),l(p,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=D,b.prototype={constructor:b,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;w(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r=n(56);n(17)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(51),a=n(52),i=n(50),o=n(32),l=n(126);e.exports=function(e,t){var n=1==e,s=2==e,c=3==e,u=4==e,d=6==e,m=5==e||d,f=t||l;return function(t,l,h){for(var v,g,p=i(t),y=a(p),S=r(l,h,3),E=o(y.length),C=0,w=n?f(t,E):s?f(t,0):void 0;E>C;C++)if((m||C in y)&&(g=S(v=y[C],C,p),e))if(n)w[C]=g;else if(g)switch(e){case 3:return!0;case 5:return v;case 6:return C;case 2:w.push(v)}else if(u)return!1;return d?-1:c||u?u:w}}},,function(e,t,n){"use strict";var r=n(10),a=n(125),i=n(68);n(69)("search",1,(function(e,t,n,o){return[function(n){var r=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=o(n,e,this);if(t.done)return t.value;var l=r(e),s=String(this),c=l.lastIndex;a(c,0)||(l.lastIndex=0);var u=i(l,s);return a(l.lastIndex,c)||(l.lastIndex=c),null===u?-1:u.index}]}))},,function(e,t,n){n(12)&&"g"!=/./g.flags&&n(20).f(RegExp.prototype,"flags",{configurable:!0,get:n(53)})},function(e,t,n){var r=n(92);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(10),a=n(31),i=n(19)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[i])?t:a(n)}},,,,function(e,t,n){var r=n(8),a=n(138),i=n(20).f,o=n(84).f,l=n(88),s=n(53),c=r.RegExp,u=c,d=c.prototype,m=/a/g,f=/a/g,h=new c(m)!==m;if(n(12)&&(!h||n(11)((function(){return f[n(19)("match")]=!1,c(m)!=m||c(f)==f||"/a/i"!=c(m,"i")})))){c=function(e,t){var n=this instanceof c,r=l(e),i=void 0===t;return!n&&r&&e.constructor===c&&i?e:a(h?new u(r&&!i?e.source:e,t):u((r=e instanceof c)?e.source:e,r&&i?s.call(e):t),n?this:d,c)};for(var v=function(e){e in c||i(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},g=o(u),p=0;g.length>p;)v(g[p++]);d.constructor=c,c.prototype=d,n(27)(r,"RegExp",c)}n(142)("RegExp")},function(e,t,n){var r=n(34);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(19)("unscopables"),a=Array.prototype;null==a[r]&&n(26)(a,r,{}),e.exports=function(e){a[r][e]=!0}},function(e,t,n){"use strict";var r=n(11);e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},function(e,t,n){t.f=n(19)},,function(e,t,n){var r=n(92);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},,function(e,t,n){"use strict";var r=n(12),a=n(37),i=n(72),o=n(61),l=n(50),s=n(52),c=Object.assign;e.exports=!c||n(11)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=l(e),c=arguments.length,u=1,d=i.f,m=o.f;c>u;)for(var f,h=s(arguments[u++]),v=d?a(h).concat(d(h)):a(h),g=v.length,p=0;g>p;)f=v[p++],r&&!m.call(h,f)||(n[f]=h[f]);return n}:c},function(e,t,n){var r=n(29)("meta"),a=n(13),i=n(28),o=n(20).f,l=0,s=Object.isExtensible||function(){return!0},c=!n(11)((function(){return s(Object.preventExtensions({}))})),u=function(e){o(e,r,{value:{i:"O"+ ++l,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!s(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!s(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&s(e)&&!i(e,r)&&u(e),e}}},function(e,t,n){var r=n(20).f,a=n(28),i=n(19)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},,,,,,function(e,t,n){var r=n(25),a=n(84).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(r(e))}},function(e,t,n){"use strict";var r=n(20),a=n(40);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},,,function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(127);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(13),a=n(104),i=n(19)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(8),a=n(22),i=n(45),o=n(107),l=n(20).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||l(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(37),a=n(72),i=n(61);e.exports=function(e){var t=r(e),n=a.f;if(n)for(var o,l=n(e),s=i.f,c=0;l.length>c;)s.call(e,o=l[c++])&&t.push(o);return t}},function(e,t,n){var r=n(84),a=n(72),i=n(10),o=n(8).Reflect;e.exports=o&&o.ownKeys||function(e){var t=r.f(i(e)),n=a.f;return n?t.concat(n(e)):t}},,,,,,,,function(e,t,n){var r=n(13),a=n(141).set;e.exports=function(e,t,n){var i,o=t.constructor;return o!==n&&"function"==typeof o&&(i=o.prototype)!==n.prototype&&r(i)&&a&&a(e,i),e}},,,function(e,t,n){var r=n(13),a=n(10),i=function(e,t){if(a(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(51)(Function.call,n(83).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){"use strict";var r=n(8),a=n(20),i=n(12),o=n(19)("species");e.exports=function(e){var t=r[e];i&&t&&!t[o]&&a.f(t,o,{configurable:!0,get:function(){return this}})}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r="";SETUPS.get("nemo.url.static")&&SETUPS.get("nemo.staticversion")&&(r="".concat(location.origin).concat(SETUPS.get("nemo.url.static"),".").concat(SETUPS.get("nemo.staticversion"))),n.p=r+"/cms4i-nemo/build/"},,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"cookieModal",(function(){return d})),n.d(t,"footnote",(function(){return f})),n.d(t,"gsaSearch",(function(){return a})),n.d(t,"iframe",(function(){return C})),n.d(t,"iframeHeight",(function(){return b})),n.d(t,"inlineMediagallery",(function(){return H})),n.d(t,"InteractiveImageRotation",(function(){return Z})),n.d(t,"interactiveImageSlider",(function(){return te})),n.d(t,"interstitialLayer",(function(){return ne})),n.d(t,"layerMultiStage",(function(){return Ne})),n.d(t,"mediagalleryController",(function(){return oe})),n.d(t,"mediagalleryCounter",(function(){return se})),n.d(t,"mediagalleryDownload",(function(){return ue})),n.d(t,"mediagalleryModel",(function(){return ae})),n.d(t,"mediagalleryStage",(function(){return fe})),n.d(t,"mediagalleryThumbnailSlider",(function(){return ve})),n.d(t,"MessageLayerElement",(function(){return ye})),n.d(t,"ModalLayerInterstitialElement",(function(){return Ce})),n.d(t,"notificationBar",(function(){return be})),n.d(t,"navigation",(function(){return rt})),n.d(t,"panorama",(function(){return xe})),n.d(t,"pageService",(function(){return _e})),n.d(t,"patchDealerLinks",(function(){return Pe})),n.d(t,"renderStage",(function(){return je})),n.d(t,"stage",(function(){return Be})),n.d(t,"swipeStage",(function(){return k})),n.d(t,"videoControlsTemplate",(function(){return de})),n.d(t,"videoNew",(function(){return N}));var r,a,i=n(14),o=n.n(i),l=n(3),s=n.n(l),c=n(4),u=n.n(c),d=new(function(){function e(){s()(this,e),window.Bootstrapper&&this._initialize()}return u()(e,[{key:"_initialize",value:function(){this._handleClick=this._handleClick.bind(this),this._bindListenerToCookieLinks()}},{key:"_bindListenerToCookieLinks",value:function(){var e=this,t=document.querySelectorAll(".audi-cookie-modal-link");o()(t).forEach((function(t){t.addEventListener("click",e._handleClick)}))}},{key:"_handleClick",value:function(e){e.preventDefault(),window.Bootstrapper&&null!==window.Bootstrapper&&(Bootstrapper.gateway&&Bootstrapper.gateway.openModal?(Bootstrapper.gateway.openModal(),document.body.scrollTop=0):console.error("Unable to call Bootstrapper.gateway.openModal"))}}]),e}()),m=n(18),f=new(function(){function e(){if(s()(this,e),e._instance)return e._instance;SETUPS.get("nemo.footnote-engine.active")||(this._hideOrShowFootnote=this._hideOrShowFootnote.bind(this),m.stateRegistry.subscribeToStore("dbadPageStoreFootnotes",this._hideOrShowFootnote)),e._instance=this}return u()(e,[{key:"_bindElements",value:function(){this.footnoteElements=document.getElementsByClassName("audi-footnotes")}},{key:"_hideOrShowFootnote",value:function(e){this._bindElements();for(var t=this.footnoteElements.length,n=0;n<t;n+=1){var r=this.footnoteElements[n];e.isNemoHome?r.classList.add("nm-hidden"):r.classList.remove("nm-hidden")}}}]),e}()),h=n(7),v=n.n(h),g=n(5),p=n.n(g),y=(n(57),n(95),n(48),n(49),n(0));a={__:r={}},r.pending=!1,r.initialize=function(){r.addEvents(),r.$SearchResultEl=jQuery(".gsa-search-result"),r.$SearchResultEl.length>0&&(r.baseSearchURL=r.$SearchResultEl.attr("data-searchurl"),r.onHashChange())},r.processReturnedData=function(e){var t=document.querySelector("body"),n=a.getSearchQueryString(),i=jQuery(jQuery.parseHTML(e)),o=0,l=parseInt(i.find(".lists-pagination .is-selected").text(),10);i.find(".dropdown-search-sort").hide(),i.find("a[data-tracking]").each((function(){o++;var e=jQuery(this);e.attr("data-tracking-pos",10*(l-1)+o),e.addClass("audi-j-search-result"),e.removeAttr("data-tracking")})),t.classList.add("audi-j-tracking-search"),t.setAttribute("data-search-name","primary main searchfield"),t.setAttribute("data-search-term",n),t.setAttribute("data-search-results",i.find(".search-results-count b").text()),r.$SearchResultEl.html(i)},r.search=function(){var e=v()(p.a.mark((function e(t){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.pending=!0,e.prev=1,e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.text();case 7:a=e.sent,r.processReturnedData(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("GSA Error:"+e.t0.message),r.$SearchResultEl.html('<div class="nm-error">'+r.$SearchResultEl.attr("data-errormessage")+"</div>");case 15:r.pending=!1,r.eventBus.emit(y.appEvents.SEARCH_LOADED);case 17:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),r.addEvents=function(){r.legacyEventBus.on("click","a[data-gsa]",r.handleNewSearchClick),r.eventBus.on(y.appEvents.HASH_CHANGE,r.onHashChange)},r.handleNewSearchClick=function(e){e.preventDefault();var t=jQuery(this).attr("data-gsa"),n=r.baseSearchURL+t;r.search(n)},r.onHashChange=function(){var e=a.getSearchQueryString(),t=r.baseSearchURL+"&q="+e;e&&r.search(t)},a.getSearchQueryString=function(e){for(var t=(e||window).location.hash.replace("#","").replace(/</g,"").replace(/>/g,"").split("&"),n=null,r=0;r<t.length;r++)0===t[r].search("search=")&&(n=t[r].replace("search=",""));return n},a.hasPendingResults=function(){return r.pending},a.initialize=function(e){r.eventBus=e,r.legacyEventBus=jQuery("body"),r.initialize()};n(75);var S=n(23),E={},C={__:E};E.oDefaults={module:".nm-j-iframe"},E.eventBus=null,E.addEvents=function(){E.eventBus.on(y.appEvents.PAGE_LOADED,E.setIframeUrl),E.eventBus.on(y.appEvents.LAYER_LOADED,E.setIframeUrl),E.eventBus.on(y.appEvents.CONFIG_UPDATE,E.setIframeUrl)},E.getIframeContainer=function(e){return!!e&&[].slice.call(e.querySelectorAll(E.oDefaults.module))},E.getContext=function(e){return e&&!e.context?e.domElement||e.element:document},E.setIframeUrl=function(e){var t,n=E.getContext(e);(t=E.getIframeContainer(n))&&t.length>0&&t.forEach((function(e){var t,n,r;t=e.getAttribute("data-pattern")||"",n=e.getAttribute("data-src")||"",r=e.getAttribute("data-height")||"0";var a=e.getElementsByTagName("script");t&&n&&S.patternMatching.getReplacedUrl(t,n).then((function(t){var n=document.createElement("iframe");n.setAttribute("src",t),n.setAttribute("height",r),n.setAttribute("frameborder","0"),a.length>0?e.insertBefore(n,a[0]):e.innerHTML='<iframe src="'+t+'" height="'+r+'" frameborder="0" ></iframe>'})).catch((function(e){console.error(e)}))}))},C.initialize=function(e){E.eventBus=e,E.addEvents(),setTimeout(E.setIframeUrl,250)};var w={},b={__:w};w.getIframeForUrl=function(e){var t,n,r=document.querySelector('iframe[src*="'+e+'"]');return null===r&&((t=document.createElement("a")).href=e,n=t.pathname,r=document.querySelector('iframe[src*="'+n+'"]')),jQuery(r)},w.toggleShader=function(e,t){var n=w.getIframeForUrl(t),r=jQuery(".nm-header").height(),a=window.document.body.offsetHeight,i=n.height();e?(n.css({zIndex:101,position:"relative"}),(window.document.body.offsetWidth<=479||a-70<=i)&&n.css({top:-r}),jQuery("body").addClass("nm-carpark-shader-visible"),y.layerAnimation.showShader()):(jQuery("body").removeClass("nm-carpark-shader-visible"),y.layerAnimation.hideShader(),n.css({position:"static",top:0}))},w.parseJsonDataFromEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data;if("string"==typeof t)try{t=window.JSON.parse(e.data)}catch(e){console.warn(e)}return t},w.removeClassFromModule=function(e){var t,n,r;e&&(t=e.closest(".nm-md-iframe")[0])&&(n=t.classList,[].slice.call(n).forEach((function(e,t){e.indexOf("nm-md-iframe-pageformat-")>=0&&(r=n[t],n.remove(r))})))},w.setAndAnimateIframeHeight=function(e,t){var n,r=w.getIframeForUrl(e);w.removeClassFromModule(r),n=parseInt(t,10)+"px",r.animate({height:n},400,"swing",(function(){r.animate({opacity:1})}))},w.setIframeHeight=function(e,t,n){var r,a=w.getIframeForUrl(n);w.removeClassFromModule(a),r=parseInt(t,10)+"px",a.height(r)},w.handler=function(e){var t;void 0!==e&&void 0!==e.data&&(t=w.parseJsonDataFromEvent(e))&&(t.originurl&&t.layerExternalizerBridgeSetHeight?w.setAndAnimateIframeHeight(t.originurl,t.layerExternalizerBridgeSetHeight):t.height?w.setIframeHeight(e.origin,t.height,t.url):t.shader&&w.toggleShader("show"===t.shader,t.url))},w.addEvents=function(){window.addEventListener?window.addEventListener("message",w.handler,!1):window.attachEvent("onmessage",w.handler)},b.initialize=function(){w.addEvents()};n(66),n(24),n(41);var D,x=n(1),L={},k={__:L},I={x:0,y:0},A="none",_=0,P=0,M={touchdevice:{down:"touchstart",move:"touchmove",up:"touchend"},desktopdevice:{down:"mousedown",move:"mousemove",up:"mouseup"}},T=!1,j="desktopdevice";L.isTouchDevice=function(){return!!("ontouchstart"in window)||!!navigator.msMaxTouchPoints},L.handleMouseDown=function(e){T=!1,"select"!==e.target.nodeName.toLowerCase()&&"input"!==e.target.nodeName.toLowerCase()&&"option"!==e.target.nodeName.toLowerCase()&&(T=!0),P=0,_=0,I.x=e.pageX||e.originalEvent.changedTouches[0].pageX,I.y=e.pageY||e.originalEvent.changedTouches[0].pageY,D.off(M[j].up,L.handleMouseUp).on(M[j].up,L.handleMouseUp),L.isTouchDevice()||D.off(M[j].move,L.handleMouseMove).on(M[j].move,L.handleMouseMove)},L.triggerStageViewChange=function(e){"right"===e?jQuery("li.nm-backarrow").trigger("click.stage.remote"):jQuery("li.nm-nextarrow").trigger("click.stage.remote")},L.handleMouseUp=function(e){T=!1,_=I.x-(e.pageX||e.originalEvent.changedTouches[0].pageX),P=I.y-(e.pageY||e.originalEvent.changedTouches[0].pageY),A=_>0?"left":"right",Math.abs(_)>25&&Math.abs(P)<25&&L.triggerStageViewChange(A)},L.handleMouseMove=function(e){T&&(_=I.x-(e.pageX||e.originalEvent.changedTouches[0].pageX),P=I.y-(e.pageY||e.originalEvent.changedTouches[0].pageY),A=_>0?"left":"right",Math.abs(_)>25&&Math.abs(P)<25&&(L.removeSwipeEvents(),T=!1,L.triggerStageViewChange(A)))},L.removeSwipeEvents=function(){D.off(M[j].move,L.handleMouseMove),D.off(M[j].up,L.handleMouseUp)},k.disableSwipe=function(){D.off(M[j].move,L.handleMouseMove),D.off(M[j].up,L.handleMouseUp),D.off(M[j].down,L.handleMouseDown)},k.enableSwipe=function(){D.off(M[j].down,L.handleMouseDown).on(M[j].down,L.handleMouseDown)},L.addEvents=function(){D=jQuery(".nm-stage"),L.isTouchDevice()&&(j="touchdevice"),D.find("img").on("dragstart",(function(e){e.preventDefault()})),D.off(M[j].down,L.handleMouseDown).on(M[j].down,L.handleMouseDown)},k.initialize=function(e){L.eventBus=e,L.addEvents(),L.eventBus.on(y.appEvents.PAGE_LOADED,L.addEvents),L.eventBus.on(y.appEvents.UPDATE_VIEW_STATE,L.addEvents)};var O={delayIntervallId:"",aAllAutoplayVideos:[],aPlayedVideos:[]},N={__:O};O.getCurrentVideoContainer=function(e){var t,n,r=x.dom.getElementsArray(".nm-video");if(r&&e&&e.nodeType)for(n=r.length,t=0;t<n;t++)if(r[t].contains(e))return r[t];return null},O.getVideo=function(e){return e?e.querySelector("video"):null},O.getLayerHead=function(e){return O.findClosest(e,".nm-layer-head")},O.setDataVideoState=function(e,t){t&&t.setAttribute("data-video-state",e)},O.handlerPlayButton=function(){var e=O.getCurrentVideoContainer(this),t=O.getVideo(e),n=O.getLayerHead(e);t&&(t.addEventListener("playing",O.handlerVideoPlaying),t.play()),n&&O.setDataVideoState("playing",n)},O.handlerPauseButton=function(){var e,t,n=O.getCurrentVideoContainer(this);n&&(e=O.getVideo(n),t=O.getLayerHead(n)),e&&(e.addEventListener("pause",O.handlerVideoPause),e.pause(),t&&O.setDataVideoState("paused",t))},O.handlerVideoPause=function(){var e=O.getCurrentVideoContainer(this);this&&(this.removeEventListener("pause",O.handlerVideoPause),this.removeEventListener("timeupdate",O.updateTimeInfo)),O.removeClassName(e,"nm-video-playing")},O.handlerVideoPlaying=function(){var e=O.getCurrentVideoContainer(this);this.removeEventListener("playing",O.handlerVideoPlaying),this.addEventListener("timeupdate",O.updateTimeInfo),this.addEventListener("ended",O.handlerVideoEnded),this.addEventListener("progress",O.handleVideoProgress),O.addClassName(e,"nm-video-playing")},O.handleVideoProgress=function(){var e,t,n,r=O.getCurrentVideoContainer(this);r&&this&&(e=r.querySelector(".nm-loader-loaded"),t=this.buffered.end(0),n=100*parseFloat(t/this.duration),e&&(e.style.width=n+"%"))},O.handlerVideoEnded=function(){var e,t=O.getCurrentVideoContainer(this),n=!!document.querySelector(".active-fs"),r=O.getLayerHead(t);(O.handleVideoEndEvents(this),O.removeClassName(t,"nm-video-playing"),O.displayTimeInfos(t,0,this.duration),e=this.currentSrc,this.src=e,n&&O.leaveFullScreen(t.querySelector(".nm-minimize")),this)&&("false"===this.getAttribute("data-nativectrls")&&t&&t.classList.remove("nm-hide-controls"));O.setDataVideoState("ended",r)},O.handleVideoEndEvents=function(e){e&&(e.removeEventListener("ended",O.handlerVideoEnded),e.removeEventListener("timeupdate",O.updateTimeInfo),e.removeEventListener("progress",O.handleVideoProgress))},O.updateTimeInfo=function(){var e=O.getCurrentVideoContainer(this);e&&O.displayTimeInfos(e,this.currentTime,this.duration)},O.displayTimeInfos=function(e,t,n){var r,a,i,o,l,s=0===t&&0===n;e&&(e.querySelector("video[data-autoplay-in-viewport]")||(r=e.querySelector(".nm-time-played"),a=e.querySelector(".nm-time-duration"),r.innerHTML=O.getTime(t),a.innerHTML=O.getTime(n)),i=e.querySelector(".nm-loader-played"),l=e.querySelector(".nm-loader-loaded"),o=s?0:100*parseFloat(t/n),i&&l&&(s&&(l.style.width="0%"),i.style.width=o+"%"))},O.handlerMuteButton=function(){var e=O.getCurrentVideoContainer(this),t=O.getVideo(e);t&&(!1===t.muted?(t.muted=!0,O.removeClassName(this,"nm-mute"),O.addClassName(this,"nm-unmute")):(t.muted=!1,O.removeClassName(this,"nm-unmute"),O.addClassName(this,"nm-mute")))},O.handlerSeekBar=function(e){var t=O.getCurrentVideoContainer(this),n=O.getVideo(t),r=this.clientWidth,a=e.offsetX/r*100;n&&t&&(n.currentTime=n.duration*(a/100),O.displayTimeInfos(t,n.currentTime,n.duration))},O.showHideControls=function(){var e,t=document.querySelector(".active-fs");t&&(e=t.querySelector(".nm-controls-wrap-video"),O.addClassName(e,"nm-controls-wrap-video-full"),clearTimeout(O.delayIntervallId),O.delayIntervallId=setTimeout((function(){O.removeClassName(e,"nm-controls-wrap-video-full")}),3e3))},O.isFullScreen=function(){return!!(document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)},O.enterFullScreen=function(e){e.requestFullScreen||(e.requestFullScreen=e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen),e.requestFullScreen()},O.isfullScreenClosed=function(){O.isFullScreen()||O.leaveFullScreen()},N.exitFullScreen=function(){document.exitFullScreen||(document.exitFullScreen=document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen),document.exitFullScreen(),document.removeEventListener("mousemove",O.showHideControls),O.handleFullscreenEvents(!1)},O.switchToFullScreen=function(e){var t=O.getCurrentVideoContainer(e);t&&(O.addClassName(t,"active-fs"),O.addClassName(e,"nm-minimize"),O.handleFullscreenEvents(!0),document.addEventListener("mousemove",O.showHideControls),O.enterFullScreen(t))},O.leaveFullScreen=function(e){var t,n=O.getCurrentVideoContainer(e);e?((n=O.getCurrentVideoContainer(e)).className.indexOf("active-fs")>-1&&O.removeClassName(n,"active-fs"),O.removeClassName(e,"nm-minimize")):(t=document.querySelector(".active-fs"))&&(O.removeClassName(t,"active-fs"),O.removeClassName(t.querySelector(".nm-minimize"),"nm-minimize")),N.exitFullScreen()},O.handleFullscreenEvents=function(e){e?(document.addEventListener("webkitfullscreenchange",O.isfullScreenClosed,!1),document.addEventListener("mozfullscreenchange",O.isfullScreenClosed,!1),document.addEventListener("fullscreenchange",O.isfullScreenClosed,!1),document.addEventListener("MSFullscreenChange",O.isfullScreenClosed,!1)):(document.removeEventListener("webkitfullscreenchange",O.isfullScreenClosed,!1),document.removeEventListener("mozfullscreenchange",O.isfullScreenClosed,!1),document.removeEventListener("fullscreenchange",O.isfullScreenClosed,!1),document.removeEventListener("MSFullscreenChange",O.isfullScreenClosed,!1))},O.handlerFullScreenButton=function(){O.isFullScreen()?O.leaveFullScreen(this):O.switchToFullScreen(this)},O.addClassName=function(e,t){e&&e.classList&&e.classList.add(t)},O.removeClassName=function(e,t){e&&e.classList&&e.classList.remove(t)},O.getTime=function(e){var t=Math.floor(e/60)<10?"0"+Math.floor(e/60):Math.floor(e/60);return t+":"+(Math.floor(e-60*t)<10?"0"+Math.floor(e-60*t):Math.floor(e-60*t))},O.findClosest=function(e,t){var n,r="",a=e;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some((function(e){return"function"==typeof document.body[e]&&(r=e,!0)}));a;){if((n=a.parentElement)&&n[r](t))return n;a=n}return null},O.handlerNativeControls=function(e){var t,n,r;for(t=e&&e.domElement?e.domElement.querySelectorAll(".nm-video"):document.querySelectorAll(".nm-video"),r=0;r<t.length;r++){if(O.addClassName(t[r],"nm-hide-controls"),n=O.getVideo(t[r]))"false"!==n.getAttribute("data-nativectrls")&&n.setAttribute("controls","")}},O.enableVideoFullStageMode=function(){document.querySelector("body").classList.add("nm-stage-full")},O.disableVideoFullStageMode=function(){document.querySelector("body").classList.remove("nm-stage-full")},O.handlerStagePlayButton=function(){var e,t=O.getCurrentVideoContainer(this),n=O.getVideo(t);n&&(n.classList.remove("nm-hidden"),n.play(),n.addEventListener("ended",O.handlerStageSkipButton)),this&&this.classList.add("nm-hidden"),O.enableVideoFullStageMode(),t&&(e=t.querySelector(".nm-introvideo"))&&e.classList.remove("nm-hidden"),k.disableSwipe()},O.handlerStageSkipButton=function(e){var t=O.getCurrentVideoContainer(this),n=O.getVideo(t),r=t?t.querySelector(".nm-introvideo"):null,a=t?t.querySelector(".nm-j-play-btn-stage"):null;e.preventDefault(),n&&(n.classList.add("nm-hidden"),n.pause()),O.disableVideoFullStageMode(),r&&r.classList.add("nm-hidden"),a&&a.classList.remove("nm-hidden"),k.enableSwipe()},O.handlerVideoClick=function(){var e=O.getCurrentVideoContainer(this),t=O.getVideo(e);t&&(t.paused?(t.addEventListener("playing",O.handlerVideoPlaying),t.play()):(t.addEventListener("pause",O.handlerVideoPause),t.pause()))},O.addStageAutoPlayEvent=function(){var e,t,n,r=document.querySelector(".nm-stage-container .nm-stage-media.nm-video");if(r&&("true"===r.getAttribute("data-autoplay")||!0===r.getAttribute("data-autoplay"))){if(t=(e=O.getVideo(r)).querySelectorAll("source"),!(navigator.userAgent.search("Safari")>=0&&navigator.userAgent.search("Chrome")<0))for(n=0;n<t.length;n++)t[n].media=t[n].getAttribute("data-media");e.classList.remove("nm-hidden"),e.addEventListener("canplay",O.handleStageAutoPlay),e.load()}},O.handleStageAutoPlay=function(){var e=document.querySelector(".nm-stage-container .nm-stage-media .nm-j-play-btn-stage"),t=O.getCurrentVideoContainer(e),n=O.getVideo(t);n.removeEventListener("canplay",O.handleStageAutoPlay),e&&e.classList.add("nm-hidden"),x.device.isMobile()&&(n.controls=!1),O.enableVideoFullStageMode(),k.disableSwipe(),n&&(n.classList.remove("nm-hidden"),n.muted=!0,n.play().catch((function(){})),n.addEventListener("ended",(function(){n.play().catch((function(){}))})))},O.addAutoplayOnceEvent=function(){O.aAllAutoplayVideos=[].slice.call(document.querySelectorAll("video[data-autoplay-in-viewport]")),O.aAllAutoplayVideos.length>0&&document.addEventListener("scroll",O.handleVideoInViewport)},O.handleVideoInViewport=function(){O.aAllAutoplayVideos.forEach((function(e,t){x.dom.isInViewport(e)&&(e.addEventListener("playing",O.handlerVideoPlaying),e.muted=!0,e.play().catch((function(){})),O.aAllAutoplayVideos.splice(t,1))}))},O.handlePageLoaded=function(){O.disableVideoFullStageMode(),x.device.isMobile()&&O.initializeNativeControls()},O.handlePageLeave=function(){O.removeEvents()},N.resetVideoPlayer=function(e,t,n){var r=e.querySelector("video");r&&(t?(r.src=t,r.load()):r.removeAttribute("src"),n&&(r.poster=n),O.handleVideoEndEvents(r),O.removeClassName(e,"nm-video-playing"),O.displayTimeInfos(e,0,0))},N.enterFullscreen=function(e){O.enterFullScreen(e)},O.addEvents=function(){O.eventBus.on(y.appEvents.PAGE_READY,O.handlePageLoaded),O.eventBus.on(y.appEvents.PAGE_LEAVE,O.handlePageLeave),O.domEventDelegate.on("click",".nm-video .nm-j-play-btn .nm-video-button-play",O.handlerPlayButton),O.domEventDelegate.on("click",".nm-video .nm-j-play-btn .nm-video-button-pause",O.handlerPauseButton),O.domEventDelegate.on("click",".nm-video .nm-j-mute-btn",O.handlerMuteButton),O.domEventDelegate.on("click",".nm-video .nm-video-loader",O.handlerSeekBar),O.domEventDelegate.on("click",".nm-video .nm-j-fullscreen-btn",O.handlerFullScreenButton),O.domEventDelegate.on("click",".nm-video .nm-j-play-btn-stage",O.handlerStagePlayButton),O.domEventDelegate.on("click",".nm-video .nm-j-skip-btn-stage",O.handlerStageSkipButton),O.domEventDelegate.on("click",".nm-prevent-video-click-visualizer",O.handlerVideoClick),O.addStageAutoPlayEvent(),O.addAutoplayOnceEvent()},O.removeEvents=function(){O.eventBus.off(y.appEvents.PAGE_READY,O.handlePageLoaded),document.removeEventListener("scroll",O.handleVideoInViewport),o()(document.querySelectorAll("video")).forEach((function(e){e.pause(),e.removeEventListener("pause",O.handlerVideoPlaying),e.removeEventListener("playing",O.handlerVideoPlaying),e.removeEventListener("timeupdate",O.updateTimeInfo),e.removeEventListener("ended",O.handlerVideoEnded),e.removeEventListener("progress",O.handleVideoProgress),e.removeEventListener("canplay",O.handleStageAutoPlay)}))},O.initializeNativeControls=function(){O.eventBus.on(y.appEvents.PAGE_LOADED,O.handlerNativeControls),O.eventBus.on(y.appEvents.LAYER_LOADED,O.handlerNativeControls),O.handlerNativeControls()},N.handlerLayer=function(e){x.device.isMobile()&&O.handlerNativeControls(e)},N.initialize=function(e){O.eventBus=e,O.domEventDelegate=x.dom.getEventDelegate("body"),O.removeEvents(),O.addEvents(),O.handlePageLoaded()};var R,B,V,F={},H={__:F};F.NEXT="next",F.PREV="prev",F.itemPadding=6,F.mobile=!1,F.swipeStarted=!1,F.clickTimer=null,F.eventBus=null,F.galleries={},F.oDefaults={module:".nm-md-inline-mediagallery",arrowNext:".nm-inline-mediagallery-next",arrowPrev:".nm-inline-mediagallery-prev",disclaimer:".nm-inline-mediagallery__asset-disclaimer",imageContainer:".nm-inline-mediagallery-image-container",imageWrap:".nm-inline-mediagallery-big-image-wrap",image:".nm-inline-mediagallery-image-wrap",innerImage:".nm-inline-mediagallery-image",closeFullscreenBtn:".nm-inline-mediagallery-fullscreen-close-btn",classFullscreen:"nm-md-mediagallery-fullscreen-mode",thumbnails:".nm-inline-mediagallery-slider-item",sliderList:".nm-inline-mediagallery-image-list",thumbSliderList:".nm-inline-mediagallery-slider-list",sliderWrap:".nm-inline-mediagallery-slider-list-wrap",sliderPrev:".nm-inline-mediagallery-slider-prev",sliderNext:".nm-inline-mediagallery-slider-next",videoPlayerPlay:".nm-md-inline-mediagallery .nm-video .nm-j-play-btn",videoPlayerPause:".nm-md-inline-mediagallery .nm-video .nm-j-play-btn .nm-video-button-pause",videoTarget:".nm-prevent-video-click"},F.setCurrentGallery=function(e){F.currentGallery=x.dom.closest(e,F.oDefaults.module)},F.nextArrowClickHandler=function(e){e&&e.preventDefault&&e.preventDefault(),F.setCurrentGallery(e.target),F.setCurrentIndex(F.NEXT)},F.prevArrowClickHandler=function(e){e&&e.preventDefault&&e.preventDefault(),F.setCurrentGallery(e.target),F.setCurrentIndex(F.PREV)},F.getCurrentIndex=function(){var e;return x.dom.getElementsArray(F.oDefaults.sliderList,F.currentGallery).forEach((function(t,n){t.checked&&(e=n)})),e},F.getInputsCount=function(){return x.dom.getElementsArray(F.oDefaults.sliderList,F.currentGallery).length},F.changeInputPos=function(e){var t=x.dom.getElementsArray(F.oDefaults.sliderList,F.currentGallery);t.map((function(e){e.checked=!1})),t[e].checked=!0},F.setCurrentIndex=function(e){var t=F.getCurrentIndex(),n=F.getInputsCount(),r=-1,a=x.dom.getElementsArray(F.oDefaults.thumbnails,F.currentGallery);e===F.NEXT?r=t<n?t+1:t:e===F.PREV&&(r=t>0?t-1:t),r<0||r===n||F.makeAnimation(a,r,e)},F.swapImages=function(e,t){var n=x.dom.getElementsArray(F.oDefaults.image,F.currentGallery),r=F.getThumbUrls(e),a=r.imageUrl,i=r.posterUrl,o=x.dom.getElement("picture",n[t]);F.setArrowStyle(e),F.updatePictureUrls(o,i||a),i?F.addVideoClassToGalleryImages():F.removeVideoClassFromGalleryImages()},F.swapAssetDisclaimer=function(e){var t=F.currentGallery.querySelectorAll(F.oDefaults.disclaimer),n=F.getCurrentDisclaimer(e);o()(t).forEach((function(e){e.innerHTML=n}))},F.updatePictureUrls=function(e,t){var n=e.querySelector("img").getAttribute("src"),r=e.querySelectorAll("source"),a=F.replaceStringBeforeQuestionMark(n,t);e.querySelector("img").setAttribute("src",a),o()(r).forEach((function(e){var n=F.replaceStringBeforeQuestionMark(e.getAttribute("srcset"),t);e.setAttribute("srcset",n)}))},F.replaceStringBeforeQuestionMark=function(e,t){var n=e.split("?");return n[0]=t,n.join("?")},F.setArrowStyle=function(e){var t=x.dom.getElement(".nm-inline-mediagallery-navigation",F.currentGallery);"light"===x.dom.getElementsArray(F.oDefaults.thumbnails,F.currentGallery)[e].getAttribute("data-arrow-style")?t.classList.add("nm-inline-mediagallery-arrow-dark"):t.classList.remove("nm-inline-mediagallery-arrow-dark")},F.hideVideoPlayer=function(){var e=F.getVideoPlayer();e&&(e.style.display="none")},F.handleTransition=function(e,t){var n=x.dom.getElement(F.oDefaults.imageWrap,F.currentGallery),r="nm-inline-mediagallery-animate-"+e;x.dom.handleTransition(n,r).then((function(){F.hideVideoPlayer(),F.swapImages(t,0),F.swapAssetDisclaimer(t),F.showVideoPlayer(t)})).catch((function(e){console.log("Promise not completed ",e)}))},F.getThumbUrls=function(e){var t=x.dom.getElementsArray(F.oDefaults.thumbnails,F.currentGallery),n={};return n.imageUrl=t[e].getAttribute("data-full-image-url"),n.posterUrl=t[e].getAttribute("data-video-poster"),n.videoUrl=t[e].getAttribute("data-video-slide"),n.vmsUrl=t[e].getAttribute("data-video-vms-slide"),n},F.getCurrentDisclaimer=function(e){return x.dom.getElementsArray(F.oDefaults.thumbnails,F.currentGallery)[e].getAttribute("data-asset-disclaimer")},F.showVideoPlayer=function(e){var t,n=F.getThumbUrls(e),r=n.videoUrl,a=n.vmsUrl,i=n.posterUrl,o=F.getVideoPlayer(),l=o.querySelector("video");r?(l.pause(),N.resetVideoPlayer(o,r,i),o.style.display="block"):a?(t=F.getVmsExtension(screen.width),l.pause(),N.resetVideoPlayer(o,a+t,i),o.style.display="block"):(l.pause(),N.resetVideoPlayer(o),o.style.display="none")},F.getVmsExtension=function(e){var t="_Content270p-Web.mp4";return e>1281?t="_Content1080p-Web.mp4":e>=890&&e<=1280?t="_Content720p-Web.mp4":e>=705&&e<=889?t="_Content500p-Web.mp4":e>=481&&e<=704&&(t="_Content396p-Web.mp4"),t},F.addVideoClassToGalleryImages=function(){var e=x.dom.getElementsArray(".nm-inline-mediagallery-image",F.currentGallery),t=x.dom.getElement(".nm-inline-mediagallery-big-image-wrap",F.currentGallery);e.forEach((function(e){e.classList.add("nm-inline-mediagallery-video")})),t.classList.add("nm-inline-mediagallery-video-hover")},F.removeVideoClassFromGalleryImages=function(){var e=x.dom.getElementsArray(".nm-inline-mediagallery-image",F.currentGallery),t=x.dom.getElement(".nm-inline-mediagallery-big-image-wrap",F.currentGallery);e.forEach((function(e){e.classList.remove("nm-inline-mediagallery-video")})),t.classList.remove("nm-inline-mediagallery-video-hover")},F.getVideoPlayer=function(){return x.dom.getElement(".nm-inline-mediagallery-image-container .nm-mediaplayer.nm-video",F.currentGallery)},F.onSwipeStart=function(e){F.swipeStarted=!0,F.setCurrentGallery(e.target);var t=F.getEventPos(e),n=x.dom.getElement(".nm-inline-mediagallery-image .nm-controls-wrap-video",F.currentGallery),r=x.dom.getElement("nm-inline-mediagallery-image .nm-video-button-play",F.currentGallery),a="touchstart"===e.type?"touchend":"mouseup",i=e.target;i===n||n.contains(i)||i===r||F.domEventDelegate.on(a,F.oDefaults.imageContainer,(function e(n){F.swipeStarted&&(F.swipeStarted=!1,F.domEventDelegate.off(a,F.oDefaults.imageContainer,e),F.onSwipeEnd(a,i,n,t))}))},F.onSwipeEnd=function(e,t,n,r){var a,i,o,l;a=F.getEventPos(n),i=F.calculateSwipeDirection(r.x,a.x),o=r.x>a.x?r.x-a.x:a.x-r.x,l=r.y>a.y?r.y-a.y:a.y-r.y,o>50&&l<=50?F.setCurrentIndex(i):0===o&&"touchend"===e&&(null===F.clickTimer?F.clickTimer=setTimeout((function(){F.clickTimer=null,F.openFullscreen(t)}),500):(clearTimeout(F.clickTimer),F.clickTimer=null))},F.calculateSwipeDirection=function(e,t){var n,r=F.getCurrentIndex(),a=F.getInputsCount();if(t>e){if(n=F.PREV,0===r)return}else if(n=F.NEXT,r===a-1)return;return n},F.getEventPos=function(e){var t={};return"touchmove"===e.type||"touchend"===e.type?e.originalEvent?(t.x=e.originalEvent.pageX,t.y=e.originalEvent.pageY):e.changedTouches&&(t.x=e.changedTouches[0].pageX,t.y=e.changedTouches[0].pageY):"touchstart"===e.type?(t.x=e.touches[0].pageX,t.y=e.touches[0].pageY):(t.x=e.pageX,t.y=e.clientY),t},F.openFullscreen=function(e){var t,n=e.target||e;F.setCurrentGallery(n),F.isFullScreen()||(t=x.dom.getElement(F.oDefaults.imageWrap,F.currentGallery),document.addEventListener("webkitfullscreenchange",F.toggleFullscreenClass,!1),document.addEventListener("mozfullscreenchange",F.toggleFullscreenClass,!1),document.addEventListener("fullscreenchange",F.toggleFullscreenClass,!1),document.addEventListener("MSFullscreenChange",F.toggleFullscreenClass,!1),t.requestFullScreen?t.requestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen())},F.closeFullscreen=function(){F.isFullScreen()&&document.exitFullscreen()},F.isFullScreen=function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullScreen||document.mozFullScreen)},F.toggleFullscreenClass=function(){var e=x.dom.closest(event.target,F.oDefaults.module);F.isFullScreen()?e.classList.add(F.oDefaults.classFullscreen):F.isFullScreen()||(e.classList.remove(F.oDefaults.classFullscreen),document.removeEventListener("webkitfullscreenchange",F.toggleFullscreenClass,!1),document.removeEventListener("mozfullscreenchange",F.toggleFullscreenClass,!1),document.removeEventListener("fullscreenchange",F.toggleFullscreenClass,!1),document.removeEventListener("MSFullscreenChange",F.toggleFullscreenClass,!1))},F.thumbClickHandler=function(e){var t,n,r,a,i=e.target;i.classList.contains("nm-image")&&(i=i.parentElement),F.setCurrentGallery(i),t=x.dom.getElementsArray(F.oDefaults.thumbnails,F.currentGallery),n=F.getCurrentIndex(),t.forEach((function(e,t){e===i.parentElement&&(r=t)})),n!==r&&(a=n<r?F.NEXT:F.PREV,F.makeAnimation(t,r,a))},F.makeAnimation=function(e,t,n){F.isVisible(e[t],!0)||F.centerHiddenThumb(e,t),F.changeInputPos(t),F.swapImages(t,1),F.swapAssetDisclaimer(t),F.handleTransition(n,t)},F.centerHiddenThumb=function(e,t){var n=e[t],r=x.dom.getElement(F.oDefaults.thumbSliderList,F.currentGallery),a=x.dom.getElement(F.oDefaults.sliderWrap,F.currentGallery),i=F.getSliderNavigation(F.currentGallery),o=n.offsetLeft-(a.clientWidth-n.clientWidth)/2,l=r.clientWidth-a.clientWidth;o>l&&(o=l),F.scrollElementToX(a,o,300).then((function(){F.hideSliderNavigation(e,i)}))},F.scrollElementToX=function(e,t,n){return V=t,new Promise((function(t){V<0&&(V=0),R&&(cancelAnimationFrame(R),R=void 0),B&&(cancelAnimationFrame(B),B=void 0);var r,a,i=e.scrollLeft,o=Math.PI/(n/15),l=i/2,s=0;V<e.scrollLeft?R=window.requestAnimationFrame((function n(){setTimeout((function(){e.scrollLeft>Math.round(V)?(R=window.requestAnimationFrame(n),s+=1,a=l-l*Math.cos(s*o),(r=i-a)<V&&(r=V),e.scrollLeft=r):(cancelAnimationFrame(R),t())}),15)})):(l=V/2,B=window.requestAnimationFrame((function n(){setTimeout((function(){Math.round(e.scrollLeft)<Math.round(V)-1?(R=window.requestAnimationFrame(n),s+=1,a=l-l*Math.cos(s*o),(r=i+a)>V&&(r=V),e.scrollLeft=r):(cancelAnimationFrame(R),t())}),15)})))}))},F.isVisible=function(e,t){var n=e.parentNode.parentNode.getBoundingClientRect(),r=e.getBoundingClientRect(),a=parseInt(r.right,10)<=parseInt(n.right,10)+2&&parseInt(r.right,10)>=parseInt(n.left,10),i=parseInt(r.left,10)>=parseInt(n.left,10)&&parseInt(r.left,10)<=parseInt(n.right,10);return t?a&&i:a||i},F.sliderArrowClickHandler=function(e){e.preventDefault(),F.setCurrentGallery(this);var t,n=0,r=0,a=this.getAttribute("data-direction"),i=x.dom.getElement(F.oDefaults.thumbSliderList,F.currentGallery),o=x.dom.getElementsArray(F.oDefaults.thumbnails,F.currentGallery),l=x.dom.getElement(F.oDefaults.sliderWrap,F.currentGallery),s=x.dom.getElement(".nm-inline-mediagallery-slider-item.nm-inline-mediagallery-slider-item-active",F.currentGallery),c=l.scrollLeft;F.sliderWrapWidth=F.getClientWidth(l),F.sliderWidth=F.getClientWidth(i),t=F.sliderWidth-F.sliderWrapWidth+2,o.forEach((function(e){F.isVisible(e,!0)&&e!==s&&(n=n+e.clientWidth+F.itemPadding)})),r=a===F.PREV?c-n>0?c-n:0:c+n>t?t:c+n,F.scrollElementToX(l,r-2,300)},F.scrollHandler=function(e){F.setCurrentGallery(this);var t=F.getSliderNavigation(F.currentGallery),n=x.dom.getElementsArray(F.oDefaults.thumbnails,F.currentGallery);F.hideSliderNavigation(n,t),F.setGalleryCenterMostElement(e.target)},F.hideSliderNavigation=function(e,t){F.isVisible(e[0],!0)?t.prev.style.display="none":t.prev.style.display="block",F.isVisible(e[e.length-2],!0)?t.next.style.display="none":t.next.style.display="block"},F.getSliderNavigation=function(e){var t={};return t.prev=x.dom.getElement(F.oDefaults.sliderPrev,e),t.next=x.dom.getElement(F.oDefaults.sliderNext,e),t},F.getClientWidth=function(e){return e.clientWidth},F.addPreventDefault=function(e){F.mobile||e.preventDefault()},F.addGalleryVideoEvents=function(){x.dom.getElementsArray(".nm-inline-mediagallery-image video").forEach((function(e){e.addEventListener("playing",F.addPlayingClass)}))},F.addPlayingClass=function(e){F.setCurrentGallery(e.target);var t=x.dom.getElement(".nm-inline-mediagallery-image-container",F.currentGallery),n=e.target;t.classList.add("nm-inline-mediagallery-video-playing"),F.hideNavigation(),n.addEventListener("pause",F.removePlayingClass),n.addEventListener("ended",F.removePlayingClass)},F.removePlayingClass=function(e){var t=x.dom.getElement(".nm-inline-mediagallery-image-container",F.currentGallery),n=e.target;t.classList.remove("nm-inline-mediagallery-video-playing"),F.showNavigation(),n.removeEventListener("pause",F.removePlayingClass),n.removeEventListener("ended",F.removePlayingClass)},F.showNavigation=function(){var e=x.dom.getElement(".nm-inline-mediagallery-navigation-gradients",F.currentGallery),t=x.dom.getElement(".nm-inline-mediagallery-navigation",F.currentGallery);e.classList.remove("nm-hidden"),t.classList.remove("nm-hidden")},F.hideNavigation=function(){var e=x.dom.getElement(".nm-inline-mediagallery-navigation-gradients",F.currentGallery),t=x.dom.getElement(".nm-inline-mediagallery-navigation",F.currentGallery);e.classList.add("nm-hidden"),t.classList.add("nm-hidden")},F.preventImgDrag=function(){return!1},F.orientationChangeHandler=function(){F.centerAllGalleryThumbs()},F.setGalleryCenterMostElement=function(e){var t=F.getCenterMostElementOfParent(e),n=F.currentGallery.getAttribute("data-gallery-id");F.galleries[n]=t},F.getCenterMostElementOfParent=function(e){var t,n,r,a=x.dom.getElementsArray(".nm-inline-mediagallery-slider-item",e),i=e.getBoundingClientRect().right-e.clientWidth/2;return a.forEach((function(e){F.isVisible(e,!0)&&(n=e.getBoundingClientRect().right-e.clientWidth/2,r=Math.abs(i-n),t?r<t.abstand&&(t.abstand=r,t.element=e):((t={}).abstand=r,t.element=e))})),t.element},F.centerAllGalleryThumbs=function(){var e;Object.keys(F.galleries).forEach((function(t){e=x.dom.closest(F.galleries[t],F.oDefaults.sliderWrap),F.centerThumb(e,F.galleries[t])}))},F.centerThumb=function(e,t){var n=t.offsetLeft-(e.clientWidth-t.clientWidth)/2;e.scrollLeft=n},F.saveAllGalleryInstancesToGlobalObject=function(){var e;x.dom.getElementsArray(F.oDefaults.module).forEach((function(t){e=x.dom.getElement(F.oDefaults.sliderWrap,t),F.galleries[t.getAttribute("data-gallery-id")]=F.getCenterMostElementOfParent(e)}))},F.stopVideoOnScrollOut=function(e){var t=x.dom.closest(e.target,".nm-video"),n=x.dom.getElement("video",t);F.videoScrollHandler=x.dom.throttle(F.handleScrollVideo.bind(n),15),document.addEventListener("scroll",F.videoScrollHandler)},F.handleScrollVideo=function(){var e,t;0===x.dom.getVisibleVerticalPercentageInViewport(this)&&(e=x.dom.closest(this,".nm-video"),t=x.dom.closest(e,".nm-inline-mediagallery-image-container.nm-inline-mediagallery-video-playing"),this.pause(),e&&t&&(e.classList.remove("nm-video-playing"),t.classList.remove("nm-inline-mediagallery-video-playing")),document.removeEventListener("scroll",F.videoScrollHandler))},F.addEvents=function(){F.domEventDelegate.on("click",F.oDefaults.arrowNext,F.nextArrowClickHandler),F.domEventDelegate.on("click",F.oDefaults.arrowPrev,F.prevArrowClickHandler),F.domEventDelegate.on("click",F.oDefaults.thumbnails,F.thumbClickHandler),F.domEventDelegate.on("mousedown",F.oDefaults.imageContainer,F.onSwipeStart),F.domEventDelegate.on("touchstart",F.oDefaults.imageContainer,F.onSwipeStart),F.domEventDelegate.on("dblclick",".nm-inline-mediagallery-image",F.openFullscreen),F.domEventDelegate.on("keyup","body",F.closeFullscreen),F.domEventDelegate.on("click",F.oDefaults.closeFullscreenBtn,F.closeFullscreen),F.domEventDelegate.on("click",F.oDefaults.sliderPrev,F.sliderArrowClickHandler),F.domEventDelegate.on("click",F.oDefaults.sliderNext,F.sliderArrowClickHandler),F.domEventDelegate.on("scroll",F.oDefaults.sliderWrap,x.dom.throttle(F.scrollHandler,15)),F.domEventDelegate.on("dragstart",".nm-inline-mediagallery-image img",F.preventImgDrag),F.domEventDelegate.on("click",F.oDefaults.videoPlayerPlay,F.stopVideoOnScrollOut),F.eventBus.on(y.appEvents.LAYER_LOADED,F.addGalleryVideoEvents),F.eventBus.on(y.appEvents.LAYER_LOADED,F.saveAllGalleryInstancesToGlobalObject),F.eventBus.on(y.appEvents.LAYER_LOADED,F.resizeHandler),window.addEventListener("resize",F.resizeHandler),window.addEventListener("orientationchange",F.orientationChangeHandler)},F.resizeHandler=function(){x.dom.getElementsArray(F.oDefaults.module).forEach((function(e){var t=F.getSliderNavigation(e),n=x.dom.getElementsArray(F.oDefaults.thumbnails,e);F.hideSliderNavigation(n,t)}))},H.initialize=function(e){F.eventBus=e,F.domEventDelegate=x.dom.getEventDelegate("body"),F.addEvents(),F.addGalleryVideoEvents(),F.saveAllGalleryInstancesToGlobalObject(),F.resizeHandler()};var Q=n(21),z=n.n(Q),G=n(15),W=n.n(G),U=n(16),q=n.n(U),Y=n(6),X=n.n(Y);n(33);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X()(e);if(t){var a=X()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q()(this,n)}}function J(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(J.prototype,HTMLElement.prototype),Object.setPrototypeOf(J,HTMLElement);var Z=function(e){W()(n,e);var t=K(n);function n(){var e;return s()(this,n),(e=t.call(this)).numOfImages=0,e.sliderControl=null,e.sliderContainer=null,e.controlContainer=null,e.sliderPastLine=null,e.clickOffset=0,e._activateDragging=e._activateDragging.bind(z()(e)),e._dragSliderControls=e._dragSliderControls.bind(z()(e)),e._deactivateDragging=e._deactivateDragging.bind(z()(e)),e}return u()(n,[{key:"connectedCallback",value:function(){this._initializeModule()}},{key:"_initializeModule",value:function(){this._initializeElements(),this._bindControlEvents(),this._isCircularControl()&&this._initCircularControl()}},{key:"_initializeElements",value:function(){this.numOfImages=this.querySelectorAll(n.SELECTOR_ROTATION_IMAGE).length,this.sliderControl=this.querySelector(".nm-rotation-control"),this.sliderContainer=this.querySelector(".nm-slider-container"),this.controlContainer=this.querySelector(".nm-rotation-control-container"),this.sliderPastLine=this.querySelector(".nm-rotation-control-past-line")}},{key:"_isCircularControl",value:function(){return this.sliderControl.classList.contains("nm-rotation-control-is-circular")}},{key:"_initCircularControl",value:function(){var e=this._calculateInitialPastLineWidth();this.sliderPastLine.style.width=e+"px"}},{key:"_calculateInitialPastLineWidth",value:function(){return this.controlContainer.clientWidth/2-this.sliderControl.clientWidth/2}},{key:"_bindControlEvents",value:function(){this.sliderControl.addEventListener("mousedown",this._activateDragging),this.sliderControl.addEventListener("touchstart",this._activateDragging)}},{key:"_activateDragging",value:function(e){var t=this._calculateClickPosX(e),n=this._offsetOfElement(this.sliderControl).left;this.clickOffset=t-n,this._setEventListenersForStartDragging()}},{key:"_calculateClickPosX",value:function(e){return"touchstart"===e.type?e.touches[0].pageX:e.pageX}},{key:"_offsetOfElement",value:function(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}},{key:"_setEventListenersForStartDragging",value:function(){this.sliderControl.removeEventListener("mousedown",this._activateDragging),this.sliderControl.removeEventListener("touchstart",this._activateDragging),this.sliderContainer.addEventListener("mousemove",this._dragSliderControls),this.sliderContainer.addEventListener("touchmove",this._dragSliderControls),this.addEventListener("mouseup",this._deactivateDragging),this.addEventListener("touchend",this._deactivateDragging)}},{key:"_setEventListenersForStopDragging",value:function(){this.sliderControl.addEventListener("mousedown",this._activateDragging),this.sliderControl.addEventListener("touchstart",this._activateDragging),this.sliderContainer.removeEventListener("mousemove",this._dragSliderControls),this.sliderContainer.removeEventListener("touchmove",this._dragSliderControls),this.removeEventListener("mouseup",this._deactivateDragging),this.removeEventListener("touchend",this._deactivateDragging)}},{key:"_dragSliderControls",value:function(e){var t=this._calculateSliderPositionX(e);this._rotateImageBySliderPosition(t),this._moveControlsBySliderPosition(t)}},{key:"_calculateSliderPositionX",value:function(e){var t=this._offsetOfElement(this.controlContainer).left;return"touchmove"===e.type?e.touches[0].pageX-t-this.clickOffset:e.pageX-t-this.clickOffset}},{key:"_rotateImageBySliderPosition",value:function(e){var t=this._calculatePercentagePositionOfSliderByPositionX(e),n=this._calculateActiveImageIndexByPercentage(t);this._setActiveImageByIndex(n)}},{key:"_moveControlsBySliderPosition",value:function(e){this._isSliderControlOverMinimum(e)&&this._isSliderControlUnderMaximum(e)&&this._updateSliderForSliderPosition(e)}},{key:"_updateSliderForSliderPosition",value:function(e){this.sliderControl.style.left=e+"px",this.sliderPastLine.style.width=e+"px"}},{key:"_isSliderControlOverMinimum",value:function(e){return e>=-this.sliderControl.clientWidth/2}},{key:"_isSliderControlUnderMaximum",value:function(e){return e<=this.controlContainer.clientWidth-this.sliderControl.clientWidth/2}},{key:"_calculatePercentagePositionOfSliderByPositionX",value:function(e){return(e+this.sliderControl.clientWidth/2)/this.controlContainer.clientWidth*100}},{key:"_calculateActiveImageIndexByPercentage",value:function(e){return Math.min(this.numOfImages-1,Math.max(0,Math.floor(e/(100/this.numOfImages))))}},{key:"_setActiveImageByIndex",value:function(e){var t=this.querySelector("."+n.CLASS_ROTATION_IMAGE_ACTIVE);t&&t.classList.remove(n.CLASS_ROTATION_IMAGE_ACTIVE),this.querySelectorAll(n.SELECTOR_ROTATION_IMAGE)[e].classList.add(n.CLASS_ROTATION_IMAGE_ACTIVE)}},{key:"_deactivateDragging",value:function(){this._setEventListenersForStopDragging()}},{key:"disconnectedCallback",value:function(){this._removeAllEventListeners()}},{key:"_removeAllEventListeners",value:function(){this.sliderControl.removeEventListener("mousedown",this._activateDragging),this.sliderControl.removeEventListener("touchstart",this._activateDragging),this.sliderContainer.removeEventListener("mousemove",this._dragSliderControls),this.sliderContainer.removeEventListener("touchmove",this._dragSliderControls),this.removeEventListener("mouseup",this._deactivateDragging),this.removeEventListener("touchend",this._deactivateDragging),this.sliderControl.removeEventListener("mousedown",this._activateDragging),this.sliderControl.removeEventListener("touchstart",this._activateDragging)}}],[{key:"SELECTOR_ROTATION_IMAGE",get:function(){return".nm-rotation-image-container"}},{key:"CLASS_ROTATION_IMAGE_ACTIVE",get:function(){return"nm-rotation-image-container-is-active"}}]),n}(J);customElements.define("audi-interactive-image-rotation",Z);var ee={},te={__:ee};ee.oDefaults={sSelectorSliderContainer:".nm-interactive-image-slider__image-container",sSelectorSliderMainImage:".nm-interactive-image-slider__first-image",sSelectorSliderOverlayImage:".nm-interactive-image-slider__second-image",sSelectorSliderControl:".nm-interactive-image-slider__control"},ee.addEvents=function(){ee.eventBus.on(y.appEvents.PAGE_LOADED,te.handler),ee.eventBus.on(y.appEvents.LAYER_LOADED,te.handler),te.handler()},te.dispose=function(){ee.eventBus.off(y.appEvents.PAGE_LOADED,te.handler),ee.eventBus.off(y.appEvents.LAYER_LOADED,te.handler)},te.handler=function(){ee.domEventDelegate.on("click",ee.oDefaults.sSelectorSliderMainImage,ee.clickMainImageEventHandler),ee.domEventDelegate.on("click",ee.oDefaults.sSelectorSliderOverlayImage,ee.clickOverlayImageEventHandler),ee.domEventDelegate.on("mousedown",ee.oDefaults.sSelectorSliderControl,ee.activateDragEventHandler),ee.domEventDelegate.on("touchstart",ee.oDefaults.sSelectorSliderControl,ee.activateDragEventHandler)},ee.clickMainImageEventHandler=function(){var e,t=x.dom.closest(this,ee.oDefaults.sSelectorSliderContainer);e=x.dom.siblings(this,ee.oDefaults.sSelectorSliderOverlayImage)[0],ee.changeSliderControlPosition(e,t.offsetWidth-1)},ee.clickOverlayImageEventHandler=function(){ee.changeSliderControlPosition(this,0)},ee.changeSliderControlPosition=function(e,t){var n,r=x.dom.closest(e,ee.oDefaults.sSelectorSliderContainer).offsetWidth;n=x.dom.siblings(e,ee.oDefaults.sSelectorSliderControl)[0],jQuery(n).animate({left:t},300,!1),jQuery(e).animate({width:r-t})},ee.activateDragEventHandler=function(){this.removeEventListener("mousedown",ee.activateDragEventHandler,!0),this.removeEventListener("touchstart",ee.activateDragEventHandler,!0),ee.domEventDelegate.off("mousemove",ee.oDefaults.sSelectorSliderContainer,ee.dragMovement),ee.domEventDelegate.off("touchmove",ee.oDefaults.sSelectorSliderContainer,ee.dragMovement),ee.domEventDelegate.on("mousemove",ee.oDefaults.sSelectorSliderContainer,ee.dragMovement),ee.domEventDelegate.on("touchmove",ee.oDefaults.sSelectorSliderContainer,ee.dragMovement),ee.domEventDelegate.off("mouseup",ee.deactivateDragEventHandler),ee.domEventDelegate.on("mouseup",ee.deactivateDragEventHandler),ee.domEventDelegate.off("touchend",ee.deactivateDragEventHandler),ee.domEventDelegate.on("touchend",ee.deactivateDragEventHandler)},ee.getSliderPositionX=function(e,t){return"touchmove"===e.type?e.touches[0].pageX-t.getBoundingClientRect().left:e.pageX-t.getBoundingClientRect().left},ee.dragMovement=function(e){var t,n,r=ee.getSliderPositionX(e,this);r<=20&&(r=0),this.clientWidth-r<=20&&(r=this.clientWidth-1),t=this.clientWidth-r,n=x.dom.closest(this,ee.oDefaults.sSelectorSliderContainer).clientWidth,t>=0&&t<=n?(x.dom.getElement(ee.oDefaults.sSelectorSliderControl,this).style.left=r+"px",x.dom.getElement(ee.oDefaults.sSelectorSliderOverlayImage,this).style.width=t+"px"):ee.deactivatedDrag(this)},ee.deactivateDragEventHandler=function(){ee.deactivatedDrag(this)},ee.deactivatedDrag=function(){ee.domEventDelegate.off("mousedown",ee.oDefaults.sSelectorSliderControl,ee.activateDragEventHandler),ee.domEventDelegate.off("touchstart",ee.oDefaults.sSelectorSliderControl,ee.activateDragEventHandler),ee.domEventDelegate.on("mousedown",ee.oDefaults.sSelectorSliderControl,ee.activateDragEventHandler),ee.domEventDelegate.on("touchstart",ee.oDefaults.sSelectorSliderControl,ee.activateDragEventHandler),ee.domEventDelegate.off("mousemove",ee.oDefaults.sSelectorSliderContainer,ee.dragMovement),ee.domEventDelegate.off("touchmove",ee.oDefaults.sSelectorSliderContainer,ee.dragMovement),ee.domEventDelegate.off("mouseup",ee.deactivateDragEventHandler),ee.domEventDelegate.off("touchend",ee.deactivateDragEventHandler)},te.initialize=function(e){ee.eventBus=e,ee.domEventDelegate=x.dom.getEventDelegate("body"),ee.addEvents()};var ne=new(function(){function e(){s()(this,e)}return u()(e,[{key:"initialize",value:function(){var e=SETUPS?SETUPS.get("nemo.InterstitialLayerLink"):null,t=this._getCurrentCarline();this._writeLayerHasBeenShown=this._writeLayerHasBeenShown.bind(this),e&&t&&(this.storageKey=this._getStorageKeyForCarline(t),document.addEventListener("interstitial-layer.close",this._writeLayerHasBeenShown),this.globalEventEmitter=y.signal.getEmitter(),this._processInterstitialLayer(e))}},{key:"_getCurrentCarline",value:function(){var e=document.querySelector("meta[name=carline]");return e?e.getAttribute("content"):""}},{key:"_processInterstitialLayer",value:function(e){this._readLayerHasBeenShown()||this._openInterstitialLayer(e)}},{key:"_getStorageKeyForCarline",value:function(e){return"audi-interstitial-layer-"+e}},{key:"_readLayerHasBeenShown",value:function(){return this.sessionStorageAlternative?this.sessionStorageAlternative[this.storageKey]:sessionStorage.getItem(this.storageKey)}},{key:"_openInterstitialLayer",value:function(e){var t={layerType:"ModalLayerInterstitialElement",clickOnShaderClosesModal:!1,isLayerClosable:!1,dataset:{linkUrl:e},options:{onEscClick:!1,onShaderClick:!1,centerVertically:!0,addCssClass:"nm-module-interstitial-layer"}};this.globalEventEmitter.emit(y.modalLayer.constructor.MODAL_LAYER_OPEN_EVENT,t)}},{key:"_writeLayerHasBeenShown",value:function(){try{sessionStorage.setItem(this.storageKey,!0)}catch(e){this.sessionStorageAlternative=this.sessionStorageAlternative?this.sessionStorageAlternative:{},this.sessionStorageAlternative[this.storageKey]=!0}}}]),e}()),re={},ae={__:re};re.categories=[],re.items=[],re.selectedItem=null,re.selectedCategory="",re.getCurrentItems=function(){if("all"===re.selectedCategory)return re.items;for(var e=[],t=0,n=re.items.length;t<n;t++)re.items[t].category===re.selectedCategory&&e.push(re.items[t]);return e},ae.setAllCategories=function(e){re.selectedCategory="",re.categories=e},ae.getCategories=function(){return re.categories},ae.setAllItems=function(e){re.selectedItem=null,re.items=e},ae.getAllItems=function(){return re.items},ae.getSelectedCategory=function(){return re.selectedCategory},ae.setSelectedCategory=function(e){var t=!1,n=re.selectedCategory;e===re.selectedCategory?t=!1:(re.selectedCategory=e,t=!0),n||(t=!1),re.eventBus.emit(y.appEvents.MEDIAGALLERY_CATEGORY_CHANGED,{category:e,changed:t})},ae.getSelectedItem=function(){return re.selectedItem},ae.setSelectedItem=function(e){var t=!1,n=re.selectedItem;e===re.selectedItem?t=!1:(re.selectedItem=e,t=!0),n||(t=!1);var r=ae.getItemIndex(),a=n?ae.getItemIndex(n):r,i=ae.getMaxIndex(),o=a<r?"next":"back";t&&r!==a||(o="none"),re.eventBus.emit(y.appEvents.MEDIAGALLERY_ITEM_CHANGED,{item:e,index:r,maxIndex:i,direction:o,changed:t})},ae.getMaxIndex=function(){return re.getCurrentItems().length-1},ae.getItemById=function(e){return re.getItemByAttributeValue("id",e)},ae.getItemByImageurl=function(e){return re.getItemByAttributeValue("imageurl",e)},re.getItemByAttributeValue=function(e,t){for(var n=0,r=re.items.length;n<r;n++)if(re.items[n][e]===t)return re.items[n];return null},ae.getNextItem=function(e){var t=e;return t<ae.getMaxIndex()?t++:t=0,ae.getItemByIndex(t)},ae.getPreviousItem=function(e){var t=ae.getMaxIndex(),n=e;return e>0?n--:n=t,ae.getItemByIndex(n)},ae.getItemByIndex=function(e){var t=re.getCurrentItems();return!t||t.length<1||t.length<e?null:t[e]||null},ae.getItemIndex=function(e){for(var t=e||re.selectedItem,n=-1,r=re.getCurrentItems(),a=0,i=r.length;a<i;a++)if(r[a].id===t.id)return n=a;return n},ae.initialize=function(e){re.eventBus=e};var ie={},oe={__:ie};ie.oDefaults={sSelectorNextBtn:".nm-mediagallery-browse .nm-nextarrow",sSelectorPrevBtn:".nm-mediagallery-browse .nm-backarrow",sSelectorSliderItemLink:".nm-mediagallery-item a",sSelectorSliderItem:".nm-mediagallery-item",sSelectorDataCatAttr:"data-category",sSelectorCategoryItem:".nm-mediagallery-categories li",sSelectorModule:".nm-md-mediagallery-media-list",sClassShowOverview:"nm-md-mediagallery-media-list-overview",sSelectorOverviewSwitch:".nm-mediagallery-categories-overview",sSelectorOverview:".nm-mediagallery-categories-overview",sSelectorDownloadbox:".nm-mediagallery-download-infobox",sSelectorDownloadIcon:".nm-mediagallery-download",sIdDropdownList:"#nm-mediagallery-category-list-select",sSelectorSlideContainer:".nm-mediagallery-detail-slide",sSelectorMediagalleryModule:".nm-md-mediagallery-media-list",sIDprefix:"mg_item_"},ie.addEvents=function(){var e=jQuery("body");ie.removeEvents(),ie.eventBus.one(y.appEvents.LAYER_CLOSE,ie.onLayerClosing),e.on("click.mg_prevnext",ie.oDefaults.sSelectorPrevBtn,{direction:"back"},ie.handlePagePrevNextClick),e.on("click.mg_prevnext",ie.oDefaults.sSelectorNextBtn,{direction:"next"},ie.handlePagePrevNextClick),e.on("mousedown.mg_stage",ie.oDefaults.sSelectorSlideContainer,ie.onMouseDown),e.on("click.mg_slider_item",ie.oDefaults.sSelectorSliderItemLink,ie.handleSliderItemClick),e.on("click.mg_category",ie.oDefaults.sSelectorCategoryItem,ie.handleCategoryChangeClick),e.on("keydown.mg_browse_arrows",ie.handleKeyDown),e.on("change.mg_dropdown_select",ie.oDefaults.sIdDropdownList,ie.handleCategoryDropdownChanges),e.on("keyup.mediagallery",ie.handleEscKey),e.on("click.mediagallery",".nm-layer-wrapper",ie.handleShaderClick)},ie.removeEvents=function(){var e=jQuery("body");e.off("click.mg_prevnext",ie.oDefaults.sSelectorPrevBtn,ie.handlePagePrevNextClick),e.off("click.mg_prevnext",ie.oDefaults.sSelectorNextBtn,ie.handlePagePrevNextClick),e.off("mousedown.mg_stage",ie.oDefaults.sSelectorSlideContainer,ie.onMouseDown),e.off("click.mg_slider_item",ie.oDefaults.sSelectorSliderItemLink,ie.handleSliderItemClick),e.off("click.mg_category",ie.oDefaults.sSelectorCategoryItem,ie.handleCategoryChangeClick),e.off("keydown.mg_browse_arrows",ie.handleKeyDown),e.off("change.mg_dropdown_select",ie.oDefaults.sIdDropdownList,ie.handleCategoryDropdownChanges),e.off("keyup.mediagallery",ie.handleEscKey),e.off("click.mediagallery",".nm-layer-wrapper",ie.handleShaderClick)},ie.onLayerClosing=function(){var e,t;ie.removeEvents(),window.location.hash.indexOf("mediagallery=")>-1&&(e=document.body.scrollTop,t=document.documentElement.scrollTop,window.location.hash=window.location.hash.replace(/(mediagallery=){1}\w*(\|){1}\d*(&)?/,""),document.body.scrollTop=e,document.documentElement.scrollTop=t)},ie.onMouseDown=function(e){ie.mousePosX=e.pageX,jQuery("body").one("mouseup.mg_stage",ie.oDefaults.sSelectorSlideContainer,ie.onMouseUp)},ie.onMouseUp=function(e){Math.abs(ie.mousePosX-e.pageX)>25&&(ie.mousePosX-e.pageX>0?ie.triggerNextClick():ie.triggerPrevClick())},ie.handleEscKey=function(e){27===e.keyCode&&ie.closeLayer()},ie.galleryIsOpened=function(){return jQuery(ie.oDefaults.sSelectorMediagalleryModule).length>0},ie.closeLayer=function(){jQuery([ie.oDefaults.sSelectorMediagalleryModule,".nm-button-close"].join(" ")).trigger("click")},ie.handleShaderClick=function(e){ie.galleryIsOpened()&&(x.dom.isElementOutsideOfElementWithSelector(e.target,ie.oDefaults.sSelectorMediagalleryModule)&&!jQuery(e.target).hasClass("nm-mediagallery-image")&&(ie.cancelEvent(e),ie.closeLayer()))},ie.isInOverviewMode=function(){return jQuery(ie.oDefaults.sSelectorModule).hasClass(ie.oDefaults.sClassShowOverview)},ie.handleKeyDown=function(e){37===e.keyCode&&ie.triggerPrevClick(),39===e.keyCode&&ie.triggerNextClick()},ie.triggerNextClick=function(){var e=jQuery(ie.oDefaults.sSelectorNextBtn);e.hasClass("nm.hidden")||e.trigger("click")},ie.triggerPrevClick=function(){var e=jQuery(ie.oDefaults.sSelectorPrevBtn);e.hasClass("nm.hidden")||e.trigger("click")},ie.handlePagePrevNextClick=function(e){if(ie.isInOverviewMode())return!1;ie.cancelEvent(e);var t=e.data.direction,n=ae.getItemIndex(),r="next"===t?ae.getNextItem(n):ae.getPreviousItem(n);ie.triggerItemSelectionUpdate(r)},ie.handleSliderItemClick=function(e){ie.cancelEvent(e);var t=jQuery(this).parent().attr("id");if(!t)return console.warn("item could not be found!"),!1;var n=ae.getItemById(t);ie.triggerItemSelectionUpdate(n)},ie.showOverview=function(){var e=jQuery(ie.oDefaults.sSelectorModule);jQuery(".nm-mediagallery-categories").find(".nm-active").removeClass("nm-active"),jQuery(ie.oDefaults.sSelectorOverviewSwitch).addClass("nm-active"),e.addClass(ie.oDefaults.sClassShowOverview)},ie.hideOverview=function(){var e=jQuery(ie.oDefaults.sSelectorModule),t=jQuery(".nm-mediagallery-categories");t.find(".nm-active").removeClass("nm-active"),e.removeClass(ie.oDefaults.sClassShowOverview);var n=ae.getSelectedCategory();t.find('[data-category="'+n+'"]').addClass("nm-active")},ie.handleCategoryChangeClick=function(e){ie.cancelEvent(e);var t=jQuery(this).attr(ie.oDefaults.sSelectorDataCatAttr);"overview"===t?ie.isInOverviewMode()?ie.hideOverview():ie.showOverview():(ie.isInOverviewMode()&&ie.hideOverview(),ie.triggerCategoryUpdate(t))},ie.handleCategoryDropdownChanges=function(e){ie.cancelEvent(e);var t=this.value;"overview"===t?ie.isInOverviewMode()?ie.hideOverview():ie.showOverview():(ie.isInOverviewMode()&&ie.hideOverview(),ie.triggerCategoryUpdate(t))},ie.triggerCategoryUpdate=function(e){if(ae.setSelectedCategory(e),!ae.getSelectedItem())return!1;ae.getItemIndex()>-1?ie.triggerItemSelectionUpdate(ae.getSelectedItem()):ie.triggerItemSelectionUpdate(ae.getItemByIndex(0))},ie.triggerItemSelectionUpdate=function(e){ie.isInOverviewMode()&&(ae.getItemIndex(e)<0&&ae.setSelectedCategory("all"),ie.hideOverview()),ae.setSelectedItem(e),ie.updateBrowseArrows()},ie.updateBrowseArrows=function(){var e=ae.getMaxIndex(),t=jQuery(ie.oDefaults.sSelectorPrevBtn),n=jQuery(ie.oDefaults.sSelectorNextBtn);e<1?(t.addClass("nm-hidden"),n.addClass("nm-hidden")):(t.removeClass("nm-hidden"),n.removeClass("nm-hidden"))},ie.parseHash=function(e){var t={category:null,index:-1};if(e.indexOf("mediagallery=")>-1){var n=e.split("mediagallery=")[1],r=(n=(n=decodeURI(n)).split("&")[0]).split("|");2===r.length&&(t.category=r[0],t.index=parseInt(r[1],10)),1!==r.length||isNaN(parseInt(r[0],10))||(t.category="all",t.index=parseInt(r[0],10)),parseInt(t.index,10)>0&&(t.index=t.index-1)}return t},ie.cancelEvent=function(e){e&&"function"==typeof e.preventDefault&&e.preventDefault()},ie.initializeDataAndViews=function(){if(ie.galleryIsOpened()){ie.addEvents(),ie.initializeModel();var e=ie.parseHash(window.location.hash),t=ae.getAllItems();if(!e.category||!t||!t.length||e.index>=t.length)return console.log("could not enter with preselection!"),!1;var n=t[e.index];ie.triggerCategoryUpdate(e.category),ie.triggerItemSelectionUpdate(n)}},ie.initializeModel=function(){var e,t,n,r,a=jQuery(ie.oDefaults.sSelectorModule).find(ie.oDefaults.sSelectorSliderItem),i=[];jQuery.each(a,(function(r,a){e=jQuery(a),(t={}).category=e.attr("data-category")?e.attr("data-category").toLowerCase():"all",t.description=e.attr("data-description")||"",t.contenttype=e.attr("data-content-type")?e.attr("data-content-type"):"image",t.imageurl=e.attr("data-image-url")||null,t.thumburl=e.attr("data-thumb-url"),t.posterurl=e.attr("data-poster-url")||null,t.videosrc=e.attr("data-video-src")||null,t.downloadlink=e.attr("data-download-link")||null,t.id=e.attr("id"),i.push(t),e.hasClass("nm-active")&&(n=t)})),n=n||i[0],ae.setAllItems(i),a=jQuery(ie.oDefaults.sSelectorCategoryItem),i=[],jQuery.each(a,(function(){e=jQuery(this),t=e.attr(ie.oDefaults.sSelectorDataCatAttr),i.push(t),e.hasClass("nm-active")&&(r=t)})),ae.setAllCategories(i),r=r||"all",ae.setSelectedCategory(r),ae.setSelectedItem(n)},oe.initialize=function(e){ie.eventBus=e,ie.eventBus.on(y.appEvents.LAYER_LOADED,ie.initializeDataAndViews)};var le={},se={__:le};le.oDefaults={sSelectorCounterContainer:".nm-md-mediagallery-media-list .nm-counter",sSelectorActiveTxt:".nm-active",sSelectorTotalTxt:".nm-total"},le.addEvents=function(){le.eventBus.on(y.appEvents.MEDIAGALLERY_ITEM_CHANGED,le.handleUpdates)},le.handleUpdates=function(e){le.updateCounter(e.index,e.maxIndex)},le.updateCounter=function(e,t){var n=t+1,r=e+1,a=document.querySelector(le.oDefaults.sSelectorCounterContainer+" "+le.oDefaults.sSelectorActiveTxt),i=document.querySelector(le.oDefaults.sSelectorCounterContainer+" "+le.oDefaults.sSelectorTotalTxt);a&&(a.innerHTML=r),i&&(i.innerHTML=n)},se.initialize=function(e){le.eventBus=e,le.addEvents()};var ce={},ue={__:ce};ce.oDefaults={sSelectorCurrentDownloadBtn:".nm-mediagallery-download-current",sSelectorDownloadAllBtn:".nm-mediagallery-download-all",sIdCheckBox:"#nm-mediagallery-download-checkbox",sSelectorLinks:".nm-mediagallery-download a",sSelectorDownloadBox:".mediagallery-download-infobox"},ce.addEvents=function(){ce.eventBus.on(y.appEvents.MEDIAGALLERY_ITEM_CHANGED,ce.handleUpdates),jQuery("body").on("click.mg_download_link",ce.oDefaults.sSelectorLinks,ce.closeDownloadBox)},ce.handleUpdates=function(e){var t=jQuery([ce.oDefaults.sSelectorCurrentDownloadBtn," a"].join("")),n=jQuery(".nm-mediagallery-download");e&&e.item?(e.item.downloadlink?t.attr("href",e.item.downloadlink).removeClass("nm-hidden"):(t.addClass("nm-hidden"),jQuery(ce.oDefaults.sSelectorDownloadAllBtn).length<1?n.addClass("nm-hidden"):n.removeClass("nm-hidden")),"video"===e.item.contenttype?t.addClass("nm-hidden"):t.removeClass("nm-hidden")):console.warn("no link url to update!!")},ce.closeDownloadBox=function(){jQuery(ce.oDefaults.sIdCheckBox).prop("checked",!1),jQuery(ce.oDefaults.sSelectorDownloadBox).removeClass("nm-checked")},ue.initialize=function(e){ce.eventBus=e,ce.addEvents()};var de='<div class="nm-prevent-video-click"></div>\n<div class="nm-controls-wrap-video">\n\n\t<div class="nm-video-loader">\n\t\t<div class="nm-loader-played"></div>\n\t\t<div class="nm-loader-loaded"></div>\n\t</div>\n\t<div class="nm-controls-video clearfix">\n\t\t<div class="nm-button-play-pause nm-play nm-j-play-btn">\n\t\t\t<button class="nm-video-button-play" type="button" title="Play/Pause"></button>\n\t\t\t<button class="nm-video-button-pause" type="button" title="Play/Pause"></button>\n\t\t</div>\n\t\t<div class="nm-title-wrap">\n\t\t\t<div class="nm-title"><span class="nm-el-lbl nm-el-lbl-01 nm-at-lbl-inv"></span></div>\n\t\t\t<div class="nm-time">\n\t\t\t\t<span class="nm-time-played ">00:00</span>\n\t\t\t\t<span class="nm-time-break"> | </span>\n\t\t\t\t<span class="nm-time-duration">00:00</span>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="nm-button-fullscreen nm-j-fullscreen-btn">\n\t\t\t<button class="" type="button" title="Fullscreen"></button>\n\t\t</div>\n\n\t\t<div class="nm-button-mute nm-mute nm-j-mute-btn">\n\t\t\t<button class="" type="button" title="Mute"></button>\n\t\t</div>\n\t</div>\n</div>\n<div class="nm-button-play nm-button-overlay nm-j-play-btn">\n\t<button class="nm-video-button-play" type="button" title="Play"><span class="nm-image-replace">Play</span></button>\n</div>',me={},fe={__:me};me.oDefaults={sSelectorStage:".nm-mediagallery-stage",sSelectorThumbsContainer:".nm-mediagallery-thumbs",animationDuration:250,sSelectorModule:".nm-md-mediagallery-media-list",sClassShowThumbs:"nm-md-mediagallery-media-list-detail",sSelectorSlideContainer:".nm-mediagallery-detail-slide",sSelectorVideoSlide:".nm-mediagallery-detail-video",sSelectorImageSlide:".nm-mediagallery-detail-img",imageTemplateString:'<div class="nm-mediagallery-detail-img">\x3c!--[if IE 8 ]><img src="" /><![endif]--\x3e</div>',videoTemplateString:'<div class="nm-mediagallery-detail-video"><div class="nm-mediaplayer nm-video"><video src="" title="" poster=""></video>\x3c!--[if IE 8 ]><img src="" /><![endif]--\x3e'+x.template.render(de,null)+"</div></div>"},me.defaultVideoWidth=1920,me.defaultVideoHeight=1080,me.nativeDimensions={width:0,height:0},me.mousePosX=0,me.resizeStage=function(){var e=jQuery(me.oDefaults.sSelectorThumbsContainer).height(),t=jQuery("body").innerHeight()-e;jQuery(me.oDefaults.sSelectorModule).hasClass(me.oDefaults.sClassShowThumbs)?jQuery(me.oDefaults.sSelectorSlideContainer).height(jQuery("body").innerHeight()):jQuery(me.oDefaults.sSelectorSlideContainer).height(t)},me.contentIsResized=function(){var e=jQuery(me.oDefaults.sSelectorStage).find(me.oDefaults.sSelectorSlideContainer).width(),t=me.getNewContentHeight();return!(me.nativeDimensions.width<e&&me.nativeDimensions.height<t)},me.addEvents=function(){me.eventBus.on(y.appEvents.MEDIAGALLERY_ITEM_CHANGED,me.handleItemSelectionChange),me.eventBus.on(y.appEvents.LAYER_LOADED,me.checkNativeContentSize),me.eventBus.on(y.appEvents.MEDIAGALLERY_RESIZED,me.checkNativeContentSize),jQuery(window).on("resize",me.checkNativeContentSize)},me.getImageInfoPromise=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){var e=this.width,n=this.height;me.nativeDimensions.width=e,me.nativeDimensions.height=n,t({width:e,height:n})},r.onerror=function(){n("could not load image")},r.src=e}))},me.handleItemSelectionChange=function(e){if(console.log("data",e),!e.changed)return console.log("nothing changed"),!1;me.eventBus.once(y.appEvents.MEDIAGALLERY_SLIDED,(function(){me.waitForDescriptionTextboxResizing(e)}))},me.waitForDescriptionTextboxResizing=function(e){e.item&&e.item?me.removeOldSlide().then((function(){return me.getNewSlide(e.item)})).then((function(e){return me.appendNewSlide(e)})).then((function(){me.isVideoSlide()&&me.startVideoSlide()})).then(void 0,(function(e){console.log("Error appending new slide:",e)})):console.warn("data missing!!!!",e)},me.getNewSlide=function(e){return"video"===e.contenttype?me.createVideoSlide(e):me.createImageSlide(e)},me.isVideoSlide=function(){return 1===jQuery(me.oDefaults.sSelectorStage).find(me.oDefaults.sSelectorVideoSlide).length},me.stopVideoSlide=function(){jQuery(".nm-video video").each((function(){this.pause()}))},me.startVideoSlide=function(){N.handlerLayer({domElement:jQuery(me.oDefaults.sSelectorStage)})},me.removeOldSlide=function(){return new Promise((function(e){var t=jQuery(me.oDefaults.sSelectorStage).find(me.oDefaults.sSelectorSlideContainer);t.addClass("nm-animating"),me.isVideoSlide()&&me.stopVideoSlide(),t.animate({opacity:0},me.oDefaults.animationDuration,"easeOutSine"),setTimeout((function(){t.empty(),t.css("height",me.getNewContentHeight()),e(t)}),me.oDefaults.animationDuration)}))},me.appendNewSlide=function(e){return new Promise((function(t){var n=jQuery(me.oDefaults.sSelectorStage).find(me.oDefaults.sSelectorSlideContainer);n.css("opacity",0),e.appendTo(n),me.checkNativeContentSize(),n.removeClass("nm-animating"),n.animate({opacity:1},me.oDefaults.animationDuration,"easeOutSine"),setTimeout((function(){t(n)}),me.oDefaults.animationDuration)}))},me.createImageSlide=function(e){if(!e||!e.imageurl)return Promise.reject("image url missing!!!");var t=e.imageurl;return me.getImageInfoPromise(t).then((function(){var e=jQuery(me.oDefaults.imageTemplateString);return e.css("background-image","url("+t+")"),Promise.resolve(e)}))},me.getBackgroundImageURL=function(e){var t=e.css("background-image");return t=t?t.replace(/^url\(["']?/,"").replace(/["']?\)$/,""):e.find("image").attr("src")},me.checkNativeContentSize=function(){if(0===jQuery(me.oDefaults.sSelectorStage).length)return!0;if(this&&"resize"===this.type)return me.resizeIntervalID&&clearInterval(me.resizeIntervalID),me.resizeIntervalID=setInterval((function(){clearInterval(me.resizeIntervalID),me.resizeIntervalID=null,me.checkNativeContentSize()}),250),!1;var e;if(me.resizeStage(),0===me.nativeDimensions.width)if(me.isVideoSlide())me.nativeDimensions.width=me.defaultVideoWidth,me.nativeDimensions.height=me.defaultVideoHeight;else{var t=jQuery(me.oDefaults.sSelectorImageSlide),n=me.getBackgroundImageURL(t);e=me.getImageInfoPromise(n)}e||(e=Promise.resolve()),e.then((function(){var e=jQuery(me.oDefaults.sSelectorStage).find(me.oDefaults.sSelectorSlideContainer).find([me.oDefaults.sSelectorVideoSlide,me.oDefaults.sSelectorImageSlide].join(","));me.contentIsResized()?e.removeClass("nm-mediagallery-detail-img-native-size"):e.addClass("nm-mediagallery-detail-img-native-size"),me.isVideoSlide()&&me.resizeVideoSlideContainer()}))},me.createVideoSlide=function(e){return e&&e.videosrc?new Promise((function(t){var n=jQuery(me.oDefaults.sSelectorStage).find(me.oDefaults.sSelectorSlideContainer),r=jQuery(me.oDefaults.videoTemplateString),a=n.width();me.nativeDimensions.width=me.defaultVideoWidth,me.nativeDimensions.height=me.defaultVideoHeight,me.nativeDimensions.width<a&&r.addClass("nm-mediagallery-detail-img-native-size"),r.find("video").attr({src:e.videosrc,poster:e.posterurl}),me.resizeVideoSlideContainer(r),t(r)})):Promise.reject("invalid video slide")},me.resizeVideoSlideContainer=function(e){var t=jQuery(me.oDefaults.sSelectorStage).find(me.oDefaults.sSelectorSlideContainer),n=me.getNewContentHeight(),r=t.width(),a=me.nativeDimensions.width/me.nativeDimensions.height,i=0,o=e||t.find(me.oDefaults.sSelectorVideoSlide);o.length&&(i=(i=r/me.nativeDimensions.width*me.nativeDimensions.height<n?r/me.nativeDimensions.width:n*a/me.nativeDimensions.width)*me.nativeDimensions.width/r*100,o.css("width",i+"%"))},me.getNewContentHeight=function(){var e=jQuery(me.oDefaults.sSelectorThumbsContainer).height(),t=jQuery("body").innerHeight()-e;return console.log("THUMBS: "+e+" - BROWSER: "+jQuery("body").innerHeight()+" - "+t),t},fe.initialize=function(e){me.eventBus=e,me.addEvents()};n(54);var he={},ve={__:he};he.oDefaults={sSelectorModule:".nm-md-mediagallery-media-list",sSelectorCategoryItem:".nm-mediagallery-categories li",sSelectorDescription:".nm-mediagallery-thumbs-description p",sSelectorThumbs:".nm-mediagallery-show-thumbs",sClassShowThumbs:"nm-md-mediagallery-media-list-detail",sSelectorMediaItem:".nm-mediagallery-item",sSelectorThumbslider:".nm-mediagallery-thumbs-slider",sSelectorThumbList:".nm-mediagallery-thumbs-slider ul",animationDuration:800},he.addEvents=function(){he.eventBus.on(y.appEvents.MEDIAGALLERY_ITEM_CHANGED,he.handleItemUpdates),he.eventBus.on(y.appEvents.MEDIAGALLERY_CATEGORY_CHANGED,he.handleCategoryUpdates),jQuery("body").on("click",he.oDefaults.sSelectorThumbs,he.handleShowThumbs)},he.handleItemUpdates=function(e){if(he.centerSelectedItem(e),!e.changed)return!1;var t=jQuery(he.oDefaults.sSelectorMediaItem),n=e.item.id;t.removeClass("nm-active"),jQuery("#"+n).addClass("nm-active"),he.updateDescriptionText(e.item.description)},he.centerSelectedItem=function(e){if(e&&e.item&&e.item.id){var t=jQuery(he.oDefaults.sSelectorThumbslider),n=jQuery(he.oDefaults.sSelectorThumbList);if(t.width()<n.width()){var r=jQuery("#"+e.item.id),a=r.width(),i=r.offset().left+.5*a,o=.5*t.width()-i,l=parseInt(n.css("margin-left"),10)+o+.5*a,s=t.width()-n.width();l<0?(l=l<s?s:l,n.css({"margin-left":Math.round(l)+"px"})):n.removeAttr("style")}else n.removeAttr("style")}},he.handleShowThumbs=function(e){he.cancelEvent(e),jQuery(he.oDefaults.sSelectorModule).toggleClass(he.oDefaults.sClassShowThumbs);var t=he.oDefaults.animationDuration;jQuery(he.oDefaults.sSelectorModule).hasClass(he.oDefaults.sClassShowThumbs)&&(t=0),setTimeout((function(){he.eventBus.emit(y.appEvents.MEDIAGALLERY_RESIZED)}),t)},he.handleCategoryUpdates=function(e){var t=jQuery(he.oDefaults.sSelectorCategoryItem);t.removeClass("nm-active"),t.filter('[data-category="'+e.category+'"]').addClass("nm-active");var n=jQuery(he.oDefaults.sSelectorMediaItem);"all"===e.category?n.addClass("nm-selected"):(n.removeClass("nm-selected"),n.filter('[data-category="'+e.category+'"]').addClass("nm-selected"))},he.updateDescriptionText=function(e){jQuery(he.oDefaults.sSelectorDescription).css("opacity","0"),setTimeout((function(){document.querySelectorAll(he.oDefaults.sSelectorDescription)[0].innerHTML=e,he.eventBus.emit(y.appEvents.MEDIAGALLERY_SLIDED)}),300),setTimeout((function(){jQuery(he.oDefaults.sSelectorDescription).css("opacity","1")}),he.oDefaults.animationDuration+300)},he.cancelEvent=function(e){e&&"function"==typeof e.preventDefault&&e.preventDefault()},ve.initialize=function(e){he.eventBus=e,he.addEvents()};n(85);function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X()(e);if(t){var a=X()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q()(this,n)}}function pe(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(pe.prototype,HTMLElement.prototype),Object.setPrototypeOf(pe,HTMLElement);var ye=function(e){W()(r,e);var t,n=ge(r);function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,r),(e=n.call(this))._bindContextToFunctions(),e.data=Object.assign({},t.dataset),e.data.useTextResourceKeys&&(e.data.message=window.i18n[e.data.message],e.data.headline=window.i18n[e.data.headline],e.data.actionButtonLinkText=window.i18n[e.data.actionButtonLinkText]),e}return u()(r,[{key:"connectedCallback",value:function(){this._render()}},{key:"_bindContextToFunctions",value:function(){this._closeLayer=this._closeLayer.bind(this),this._render=this._render.bind(this)}},{key:"_render",value:function(){this.innerHTML=x.template.render('\n\t<div class="modal-layer__inner nm-modal-layer__inner" role="alert">\n\t\t<div class="nm-modal-layer__header">\n\t\t\t<div class="nm-modal-layer__headline-wrap" data-type="{{=it.type}}">\n\t\t\t\t<h2 class="nm-modal-layer__headline audi-headline-order-2">{{=it.headline}}</h2>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="nm-modal-layer__inner-content">\n\t\t\t<div data-layer-options=\'{"onEscClick": false, "onShaderClick": false, "centerVertically": true, "addCssClass": "nm-module-message-layer"}\'>\n\t\t\t<p class="nm-modal-layer__message audi-copy-m">{{=it.message}}</p>\n\t\t</div>\n\t\t<div class="nm-modal-layer__footer">\n\t\t\t<a class="nm-modal-layer__confirm-button audi-button" href="{{=it.actionButtonLinkUrl}}">\n\t\t\t\t<span class="audi-button__text">\n\t\t\t\t\t{{=it.actionButtonLinkText}}\n\t\t\t\t</span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n',this.data)}},{key:"_closeLayer",value:function(){this._triggerClose()}}],[{key:"type",get:function(){return"MessageLayerElement"}},{key:"getContent",value:(t=v()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new r(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),r}(pe);y.modalLayer.registerLayerType(ye),void 0===window.customElements.get("audi-modal-layer-message-element")&&window.customElements.define("audi-modal-layer-message-element",ye);function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X()(e);if(t){var a=X()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q()(this,n)}}function Ee(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}Object.setPrototypeOf(Ee.prototype,HTMLElement.prototype),Object.setPrototypeOf(Ee,HTMLElement);var Ce=function(e){W()(o,e);var t,n,r,a,i=Se(o);function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s()(this,o),(e=i.call(this))._bindContextToFunctions(),e.data=Object.assign({},t.dataset),e}return u()(o,[{key:"addEvents",value:function(){this.closeButton.addEventListener("click",this._closeLayer)}},{key:"removeEvents",value:function(){this.closeButton.removeEventListener("click",this._closeLayer)}},{key:"connectedCallback",value:function(){var e=this;this._render().then((function(){return e.addEvents()}))}},{key:"_bindContextToFunctions",value:function(){this._closeLayer=this._closeLayer.bind(this),this._render=this._render.bind(this)}},{key:"_render",value:(a=v()(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=SETUPS.get("nemo.InterstitialLayerLink"),e.next=3,this._fetchContent(t);case 3:this.data.body=e.sent,this.innerHTML=x.template.render('\n\t<div class="modal-layer__inner" role="alert">\n\t\t<div class="modal-layer__inner-header">\n\t\t</div>\n\t\t<div class="modal-layer__inner-content">\n\t\t\t<div data-layer-options=\'{"onEscClick": false, "onShaderClick": false, "centerVertically": true, "addCssClass": "nm-module-interstitial-layer"}\'>\n\t\t\t\t{{=it.body}}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n',this.data),this.closeButton=this.querySelector(o.defaults.closeButton);case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"_fetchContent",value:(r=v()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.content.getContent(t,!1);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(e){return r.apply(this,arguments)})},{key:"beforeClose",value:function(){this._dispatchCloseInterstitialEvent()}},{key:"_closeLayer",value:function(e){e.preventDefault(),e.stopPropagation(),this._triggerClose();var t=e.target.getAttribute("href");t&&"#"!==t&&y.router.open("",t)}},{key:"_dispatchCloseInterstitialEvent",value:function(){document.dispatchEvent(new CustomEvent(y.appEvents.INTERSTITIAL_LAYER_CLOSE))}},{key:"_triggerClose",value:(n=v()(p.a.mark((function e(){var t,n,r=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],e.prev=1,n=this.closest("modal-layer-wrapper"),e.next=5,n.close(this,t);case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),console.warn("_triggerClose - modal layer wrapper missing."),e.t0;case 11:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(){return n.apply(this,arguments)})}],[{key:"type",get:function(){return"ModalLayerInterstitialElement"}},{key:"defaults",get:function(){return{closeButton:".nm-button-cancel"}}},{key:"getContent",value:(t=v()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new o(t));case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),o}(Ee);y.modalLayer.registerLayerType(Ce),void 0===window.customElements.get("modal-layer-interstitial-element")&&window.customElements.define("modal-layer-interstitial-element",Ce);var we={},be={__:we};we.oDefaults={sClassNotificationBar:"nm-md-notification-bar",sSelectorNotificationBarCancel:".nm-md-nb-cancel",sSelectorNotificationBarLink:".nm-md-nb-link",sValueNotificationCanceled:"nb-canceled"},we.addEvents=function(){we.eventBus.on(y.appEvents.PAGE_LOADED,we.checkForNotificationBar),we.domDelegate.on("click",we.oDefaults.sSelectorNotificationBarCancel,we.cancelNotificationbar),we.domDelegate.on("click",we.oDefaults.sSelectorNotificationBarLink,we.cancelNotificationbar)},we.readLocalStorageFlag=function(e){return we.localStorageAlternative?we.localStorageAlternative[e]:localStorage.getItem(e)},we.writeLocalStorageFlag=function(e){try{localStorage.setItem(e,!0)}catch(t){we.localStorageAlternative=we.localStorageAlternative?we.localStorageAlternative:{},we.localStorageAlternative[e]=!0}},we.checkForNotificationBar=function(){we.readLocalStorageFlag(we.oDefaults.sValueNotificationCanceled)||we.showNotificationBar()},we.showNotificationBar=function(){document.getElementsByClassName(we.oDefaults.sClassNotificationBar)&&document.getElementsByClassName(we.oDefaults.sClassNotificationBar).length>0&&document.getElementsByClassName(we.oDefaults.sClassNotificationBar)[0].classList.add("nm-j-notification-foldout")},we.hideNotificationBar=function(){document.getElementsByClassName(we.oDefaults.sClassNotificationBar)&&document.getElementsByClassName(we.oDefaults.sClassNotificationBar).length>0&&document.getElementsByClassName(we.oDefaults.sClassNotificationBar)[0].classList.remove("nm-j-notification-foldout")},we.cancelNotificationbar=function(){we.writeLocalStorageFlag(we.oDefaults.sValueNotificationCanceled),we.hideNotificationBar()},be.initialize=function(e){we.eventBus=e,we.domDelegate=x.dom.getEventDelegate("body"),we.addEvents(),we.checkForNotificationBar()};n(167);var De={},xe={__:De};De.oDefaults={sSelectorPanoramaModule:".nm-module-panorama",sSelectorPanoramaWrapper:".nm-j-panorama",sSelectorPanoramaPoster:".nm-md-panorama-static",sSelectorPanoramaActivate:".nm-j-panorama-activate",sSelectorPanoramaCollapse:".nm-j-panorama-close-fullscreen"},De.threejsURL=window.webpack_public_path+"bundle.panorama.js",De.threejsLoaded=!1,De.panoramaIsFullscreen=!1,De.userInteraction=!1,De.debugEnabled=!1,De.gyroAvailable=void 0!==window.DeviceOrientationEvent,De.iOS=x.device.isiOS(),De.mobileDevice=x.device.isMobile(),De.topRange=28,De.bottomRange=-85,De.animationID=null,De.fullScreenElementID=null,De.onMouseDownMouseX=0,De.onMouseDownMouseY=0,De.logitude=0,De.onMouseDownLon=0,De.latitude=0,De.onMouseDownLat=0,De.alpha=0,De.beta=0,De.gamma=0,De.threeReady=function(e){De.debug("threejs_loaded!"),De.THREE=e.default,De.threejsLoaded=!0,De.addEvents(),De.enableInteraction(),De.addDeviceOrientationControls()},De.enableInteraction=function(){x.dom.getElementsArray(De.oDefaults.sSelectorPanoramaActivate).forEach((function(e){e.setAttribute("data-state","enabled"),De.preloadTexture(e)}))},De.preloadTexture=function(e){var t=new Image,n=x.dom.closest(e,De.oDefaults.sSelectorPanoramaWrapper),r=x.dom.getDataAttribute(n,"texture-url");r=x.device.isMobile()?r+"?imwidth=4000":r,t.setAttribute("loading","lazy"),t.dataset.src=r},De.activatePanoramaClickHandler=function(){var e,t=x.dom.closest(this,De.oDefaults.sSelectorPanoramaModule);x.dom.isElement(t)&&(De.initPanoramaViewer(t),De.activateUserControls(t),De.animatePanorama(),De.isFullScreen()||(e=x.dom.getElement(De.oDefaults.sSelectorPanoramaWrapper,t),De.switchToFullScreen(e)))},De.collapsePanoramaClickHandler=function(){var e=x.dom.closest(this,De.oDefaults.sSelectorPanoramaModule);x.dom.isElement(e)&&(De.deactivateUserControls(e),De.closePanoramaViewer(e),De.exitFullScreen())},De.collapsePanoramaHandler=function(e){var t=x.dom.closest(e,De.oDefaults.sSelectorPanoramaModule);x.dom.isElement(t)&&(De.deactivateUserControls(t),De.closePanoramaViewer(t))},De.activateUserControls=function(e){var t=x.dom.getElement("canvas",e);De.addWindowResizeEvent(),De.addMouseInteractionEvents(t),De.addTouchAndGesturesInteractionEvents(t),De.addDeviceOrientationEvent()},De.addWindowResizeEvent=function(){De.throttleResizeHandler=x.dom.throttle(De.panoramaResizeHandler,250),window.addEventListener("resize",De.throttleResizeHandler)},De.addMouseInteractionEvents=function(e){e.addEventListener("mousedown",De.handlePanoramaMouseDown,!1),De.throttlePanoramaMouseMove=x.dom.throttle(De.handlePanoramaMouseMove,40),e.addEventListener("mousemove",De.throttlePanoramaMouseMove,!1),e.addEventListener("mouseup",De.handlePanoramaMouseUp,!1),De.throttlePanoramaWheelAndMultitouchHandler=x.dom.throttle(De.handlePanoramaWheelAndMultitouch,500),e.addEventListener("wheel",De.throttlePanoramaWheelAndMultitouchHandler,!1),e.addEventListener("context",De.handlePanoramaWheelAndMultitouch,!1)},De.addTouchAndGesturesInteractionEvents=function(e){e.addEventListener("gesturestart",De.handlePanoramaWheelAndMultitouch,!1),e.addEventListener("gesturechange",De.throttlePanoramaWheelAndMultitouchHandler,!1),e.addEventListener("gestureend",De.handlePanoramaWheelAndMultitouch,!1),e.addEventListener("touchstart",De.handlePanoramaTouchStart,!1),De.throttlePanoramaTouchMoveHandler=x.dom.throttle(De.handlePanoramaTouchMove,20),e.addEventListener("touchmove",De.throttlePanoramaTouchMoveHandler,!1),e.addEventListener("touchend",De.handlePanoramaMouseUp,!1)},De.addDeviceOrientationEvent=function(){De.iOS?null!==window.DeviceMotionEvent&&(De.throttleIOSMotionHandler=x.dom.throttle(De.handleIOSMotion,20),window.addEventListener("devicemotion",De.throttleIOSMotionHandler)):window.addEventListener("deviceorientation",De.setAndroidOrientationControls,!0)},De.deactivateUserControls=function(e){var t=x.dom.getElement("canvas",e);window.removeEventListener("resize",De.throttleResizeHandler),t.removeEventListener("mousedown",De.handlePanoramaMouseDown,!1),t.removeEventListener("mousemove",De.throttlePanoramaMouseMove,!1),t.removeEventListener("mouseup",De.handlePanoramaMouseUp,!1),t.removeEventListener("wheel",De.throttlePanoramaWheelAndMultitouchHandler,!1),t.removeEventListener("context",De.handlePanoramaWheelAndMultitouch,!1),t.removeEventListener("gesturestart",De.handlePanoramaWheelAndMultitouch,!1),t.removeEventListener("gesturechange",De.throttlePanoramaWheelAndMultitouchHandler,!1),t.removeEventListener("gestureend",De.handlePanoramaWheelAndMultitouch,!1),t.removeEventListener("touchstart",De.handlePanoramaTouchStart,!1),t.removeEventListener("touchmove",De.throttlePanoramaTouchMoveHandler,!1),t.removeEventListener("touchend",De.handlePanoramaMouseUp,!1),De.iOS&&null!==window.DeviceMotionEvent&&window.removeEventListener("devicemotion",De.throttleIOSMotionHandler)},De.handleIOSMotion=function(e){var t=Math.round(e.rotationRate.alpha),n=Math.round(e.rotationRate.beta);switch(window.orientation){case 0:De.latitude+=.02*t,De.longitude-=.02*n;break;case-90:De.latitude+=.02*n,De.longitude+=.02*t;break;case 180:De.latitude-=.02*t,De.longitude+=.02*n;break;case 90:De.latitude-=.02*n,De.longitude-=.02*t}},De.setAndroidOrientationControls=function(e){e.alpha&&(De.camera.lookAt(new De.THREE.Vector3(-1,0,0)),De.sphereMesh.rotateY(De.THREE.Math.degToRad(180)),De.androidOrientationControls=new De.THREE.DeviceOrientationControls(De.camera,!0),De.androidOrientationControls.connect(),De.androidOrientationControls.update(),window.removeEventListener("deviceorientation",De.setAndroidOrientationControls,!0))},De.handlePanoramaMouseDown=function(e){e.preventDefault(),De.userInteraction=!0,De.onMouseDownMouseX=e.clientX,De.onMouseDownMouseY=e.clientY,De.onMouseDownLon=De.longitude,De.onMouseDownLat=De.latitude},De.handlePanoramaMouseMove=function(e){e.preventDefault(),De.userInteraction&&(De.latitude=.1*(e.clientY-De.onMouseDownMouseY)+De.onMouseDownLat,De.longitude=.1*(De.onMouseDownMouseX-e.clientX)+De.onMouseDownLon)},De.handlePanoramaMouseUp=function(e){De.userInteraction=!1,e.preventDefault()},De.handlePanoramaTouchStart=function(e){var t=e.changedTouches[0];e.preventDefault(),1===e.touches.length&&(De.userInteraction=!0,De.onMouseDownMouseX=t.clientX,De.onMouseDownMouseY=t.clientY,De.onMouseDownLon=De.longitude,De.onMouseDownLat=De.latitude)},De.handlePanoramaTouchMove=function(e){var t=e.changedTouches[0];e.preventDefault(),1===e.touches.length&&De.userInteraction&&(De.latitude=.2*(t.clientY-De.onMouseDownMouseY)+De.onMouseDownLat,De.longitude=.2*(De.onMouseDownMouseX-t.clientX)+De.onMouseDownLon)},De.handlePanoramaWheelAndMultitouch=function(e){e.preventDefault()},De.closePanoramaViewer=function(e){var t=x.dom.getElement(De.oDefaults.sSelectorPanoramaWrapper,e);De.debug("collapsePano - close"),t.setAttribute("data-state",null),t.removeChild(De.renderer.domElement),De.androidOrientationControls&&De.androidOrientationControls.dispose(),De.remove3DEntity()},De.panoramaResizeHandler=function(){var e=document.documentElement.clientWidth,t=document.documentElement.clientHeight;De.panoramaIsFullscreen&&(De.camera.aspect=e/t,De.camera.updateProjectionMatrix(),De.renderer.setSize(e,t))},De.isFullScreen=function(){return!!(document.fullscreenElement||document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement)},De.enterFullScreen=function(e){e.requestFullscreen||(e.requestFullscreen=e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen),e.requestFullscreen()},De.isFullScreenClosed=function(){De.isFullScreen()||(De.fullScreenElement&&De.collapsePanoramaHandler(De.fullScreenElement),De.exitFullScreen())},De.exitFullScreen=function(){document.exitFullScreen||(document.exitFullScreen=document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen),document.exitFullScreen(),De.handleFullscreenEvents(!1)},De.switchToFullScreen=function(e){De.handleFullscreenEvents(!0),De.fullScreenElement=e,De.enterFullScreen(e)},De.handleFullscreenEvents=function(e){e?(document.addEventListener("webkitfullscreenchange",De.isFullScreenClosed,!1),document.addEventListener("mozfullscreenchange",De.isFullScreenClosed,!1),document.addEventListener("fullscreenchange",De.isFullScreenClosed,!1),document.addEventListener("MSFullscreenChange",De.isFullScreenClosed,!1)):(document.removeEventListener("webkitfullscreenchange",De.isFullScreenClosed,!1),document.removeEventListener("mozfullscreenchange",De.isFullScreenClosed,!1),document.removeEventListener("fullscreenchange",De.isFullScreenClosed,!1),document.removeEventListener("MSFullscreenChange",De.isFullScreenClosed,!1))},De.initPanoramaViewer=function(e){var t=x.dom.getElement(De.oDefaults.sSelectorPanoramaWrapper,e),n=x.dom.getDataAttribute(t,"texture-url"),r=window.innerWidth,a=window.innerHeight;n=De.mobileDevice?n+"?imwidth=4000":n,De.debug("initPanoView"),De.longitude=0,De.latitude=0,De.setUpRenderer(r,a),De.updateDOMWithRenderer(t),De.createNewScene(),De.createNewCamera(r/a),De.createMeshAndAddPanoramaToScene(De.createNewSphere(),De.createSphereMaterial(n)),De.animatePanorama()},De.setUpRenderer=function(e,t){De.renderer=new De.THREE.WebGLRenderer,De.renderer.setSize(e,t)},De.updateDOMWithRenderer=function(e){e.setAttribute("data-state","active"),e.appendChild(De.renderer.domElement),De.panoramaIsFullscreen=!0},De.createNewScene=function(){De.scene=new De.THREE.Scene},De.createNewCamera=function(e){De.camera=new De.THREE.PerspectiveCamera(80,e,1,1e3),De.camera.target=new De.THREE.Vector3(0,0,0)},De.createNewSphere=function(){var e=new De.THREE.SphereGeometry(100,100,60,160);return e.applyMatrix((new De.THREE.Matrix4).makeScale(-1,1,1)),e},De.createSphereMaterial=function(e){var t=new De.THREE.MeshBasicMaterial;return t.map=De.THREE.ImageUtils.loadTexture(e),t},De.createMeshAndAddPanoramaToScene=function(e,t){De.sphereMesh=new De.THREE.Mesh(e,t),De.scene.add(De.sphereMesh)},De.remove3DEntity=function(){cancelAnimationFrame(De.animationID),De.panoramaIsFullscreen=!1,De.scene=null,De.camera=null,De.renderer=null},De.animatePanorama=function(){De.panoramaIsFullscreen&&(De.animationID=requestAnimationFrame(De.animatePanorama),De.updatePanoramaStage())},De.updatePanoramaStage=function(){De.androidOrientationControls?(De.androidOrientationControls.alphaOffset=De.THREE.Math.degToRad(-1*De.longitude),De.androidOrientationControls.update()):(De.latitude=Math.max(De.bottomRange,Math.min(De.topRange,De.latitude)),De.camera.target.x=500*Math.sin(De.THREE.Math.degToRad(90-De.latitude))*Math.cos(De.THREE.Math.degToRad(De.longitude)),De.camera.target.y=500*Math.cos(De.THREE.Math.degToRad(90-De.latitude)),De.camera.target.z=500*Math.sin(De.THREE.Math.degToRad(90-De.latitude))*Math.sin(De.THREE.Math.degToRad(De.longitude)),De.camera.lookAt(De.camera.target)),De.renderer.render(De.scene,De.camera)},De.debug=function(e){De.debugEnabled&&console.log("module_panorama: "+e)},De.addEvents=function(){De.domEventDelegate.on("click",De.oDefaults.sSelectorPanoramaActivate,De.activatePanoramaClickHandler),De.domEventDelegate.on("click",De.oDefaults.sSelectorPanoramaCollapse,De.collapsePanoramaClickHandler)},De.getContext=function(e){return e&&!e.context?e.domElement||e.element:document},De.isPanoramaModuleInContext=function(e){var t=De.getContext(e);return x.dom.getElementsArray(De.oDefaults.sSelectorPanoramaModule,t).length>0},De.loadThreeLibrary=function(e){De.isPanoramaModuleInContext(e)&&Promise.all([n.e(12),n.e(9)]).then(n.bind(null,180)).then(De.threeReady).catch((function(e){console.error(e)}))},De.initialize=function(){De.eventBus.on(y.appEvents.PAGE_LOADED,De.loadThreeLibrary),De.eventBus.on(y.appEvents.LAYER_LOADED,De.loadThreeLibrary),De.loadThreeLibrary()},De.addDeviceOrientationControls=function(){De.THREE.DeviceOrientationControls=function(e){var t,n,r,a,i=this,o=function(e){i.deviceOrientation=e},l=function(){i.screenOrientation=window.orientation||0},s=(t=new De.THREE.Vector3(0,0,1),n=new De.THREE.Euler,r=new De.THREE.Quaternion,a=new De.THREE.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),function(e,i,o,l,s){n.set(o,i,-l,"YXZ"),e.setFromEuler(n),e.multiply(a),e.multiply(r.setFromAxisAngle(t,-s))});this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0,this.connect=function(){l(),window.addEventListener("orientationchange",l,!1),window.addEventListener("deviceorientation",o,!1),i.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",l,!1),window.removeEventListener("deviceorientation",o,!1),i.enabled=!1},this.update=function(){var e,t,n,r,a=i.deviceOrientation;!1!==i.enabled&&a&&(e=a.alpha?De.THREE.Math.degToRad(a.alpha)+i.alphaOffset:0,t=a.beta?De.THREE.Math.degToRad(a.beta):0,n=a.gamma?De.THREE.Math.degToRad(a.gamma):0,r=i.screenOrientation?De.THREE.Math.degToRad(i.screenOrientation):0,s(i.object.quaternion,e,t,n,r))},this.dispose=function(){i.disconnect()},this.connect()}},xe.initialize=function(e){De.domEventDelegate=x.dom.getEventDelegate("body"),De.eventBus=e,De.initialize()};n(76),n(86),n(87);var Le=n(43),ke=n.n(Le);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){ke()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=new(function(){function e(){if(s()(this,e),e._instance)return e._instance;this.handlePageType=this.handlePageType.bind(this),m.stateRegistry.addStore("dbadPageStoreFootnotes",{isNemoHome:!1},{updatePageType:function(e,t){return Ae(Ae({},e),{},{isNemoHome:"nemo"===t.typeName&&"home"===t.templateName})}}),e._instance=this}return u()(e,[{key:"initialize",value:function(e){this.eventBus=e,this.eventBus.on(y.appEvents.PAGE_LOADED,this.handlePageType),this.handlePageType()}},{key:"handlePageType",value:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==(e=null!==r&&void 0!==r.domElement?r.domElement.querySelector(".nm-content"):document.querySelector(".nm-content"))&&(t=e.getAttribute("data-type"),n=e.getAttribute("data-template"),m.stateRegistry.triggerAction("dbadPageStoreFootnotes","updatePageType",{typeName:t,templateName:n}))}}]),e}()),Pe=(n(103),new(function(){function e(){s()(this,e),!0===SETUPS.get("scope.nemo.editorial.path.entryservice.links.dealer")&&(this._initialize(),this._onStateUpdate=this._onStateUpdate.bind(this),this._patchDealerLinks=this._patchDealerLinks.bind(this),this._markLinksWithPlaceholderAsProcessable=this._markLinksWithPlaceholderAsProcessable.bind(this),this._processLinksWithPlaceholder=this._processLinksWithPlaceholder.bind(this),this._getLinksToPatchWithGivenAttribute=this._getLinksToPatchWithGivenAttribute.bind(this),document.addEventListener("PAGE_READY",this._patchDealerLinks),document.addEventListener("LAYER_LOADED",this._patchDealerLinks),m.stateRegistry.subscribeToStore("dbadDealerStore",this._onStateUpdate))}return u()(e,[{key:"_initialize",value:function(){this.kvpsidPlaceholder="{kvpsid}",this.kvpsid="",this.kvpsSyncIdPlaceholder="{kvpsSyncId}",this.kvpsSyncId=""}},{key:"_onStateUpdate",value:function(e){this.kvpsid=e.kvpsid||"",this.kvpsSyncId=e.kvpsSyncId||"",this._patchDealerLinks()}},{key:"_patchDealerLinks",value:function(){this._markLinksWithPlaceholderAsProcessable("href","data-href-placeholder-url"),this._markLinksWithPlaceholderAsProcessable("data-link-pattern","data-pattern-placeholder-url"),this._processLinksWithPlaceholder("href","data-href-placeholder-url"),this._processLinksWithPlaceholder("data-link-pattern","data-pattern-placeholder-url")}},{key:"_markLinksWithPlaceholderAsProcessable",value:function(e,t){this._getLinksToPatchWithGivenAttribute(e).forEach((function(n){n.setAttribute(t,n.getAttribute(e))}))}},{key:"_processLinksWithPlaceholder",value:function(e,t){var n=this;this._getLinksToPatchWithGivenAttribute(t).forEach((function(r){var a=r.getAttribute(t).replace(new RegExp(n.kvpsidPlaceholder,"g"),n.kvpsid).replace(new RegExp(n.kvpsSyncIdPlaceholder,"g"),n.kvpsSyncId);r.setAttribute(e,a)}))}},{key:"_getLinksToPatchWithGivenAttribute",value:function(e){return o()(document.querySelectorAll("a["+e+'*="'+this.kvpsidPlaceholder+'"], a['+e+'*="'+this.kvpsSyncIdPlaceholder+'"]'))}}]),e}())),Me=n(67),Te={},je={__:Te};Te.oDefaults={selectorModuleRenderStage:".nm-md-render-stage",selectorImagesInputs:".nm-render-stage-inputs",selectorThumbnails:".nm-render-stage-thumbnail-item-wrap",selectorThumbnailsContainer:".nm-render-stage-thumbnails",selectorThumbnailsWrapper:".nm-render-stage-thumbnails-wrapper",selectorRenderStage:".nm-render-stage",selectorStageItem:".nm-render-stage-item-wrap",selectorNavigationPrev:".nm-render-stage-prev",selectorNavigationNext:".nm-render-stage-next",selectorThumbnailNavigationPrev:".nm-render-stage-thumbnail-prev",selectorThumbnailNavigationNext:".nm-render-stage-thumbnail-next",selectorInitialRenderImage:"[data-is-initial]"},Te.renderStages=[],Te.isScrollSnapSupported="scrollSnapType"in document.documentElement.style||"webkitScrollSnapType"in document.documentElement.style||!("classList"in document.createElement("_")),Te.nonPolyfillable=Te.isScrollSnapSupported||!Element.prototype.addEventListener||!window.requestAnimationFrame,Te.RenderStage=function(e){this.context=e,this.imageInputs=x.dom.getElementsArray(Te.oDefaults.selectorImagesInputs,this.context),this.maxIndex=this.imageInputs.length,this.scrollContainer=x.dom.getElement(Te.oDefaults.selectorRenderStage,this.context),this.scrollPosition=0,this.scrollContainerItem=x.dom.getElement(Te.oDefaults.selectorStageItem,this.context),this.thumbnails=x.dom.getElementsArray(Te.oDefaults.selectorThumbnails,this.context),this.thumbnailsContainer=x.dom.getElement(Te.oDefaults.selectorThumbnailsContainer,this.context),this.thumbnailsWrapper=x.dom.getElement(Te.oDefaults.selectorThumbnailsWrapper,this.context),this.currentIndex=0,this.slides=x.dom.getElementsArray(Te.oDefaults.selectorStageItem,this.context),this.navNext=x.dom.getElement(Te.oDefaults.selectorNavigationNext,this.context),this.navPrev=x.dom.getElement(Te.oDefaults.selectorNavigationPrev,this.context),this.thumbnailNavNext=x.dom.getElement(Te.oDefaults.selectorThumbnailNavigationNext,this.context),this.thumbnailNavPrev=x.dom.getElement(Te.oDefaults.selectorThumbnailNavigationPrev,this.context),this.initialRenderImage=x.dom.getElement(Te.oDefaults.selectorInitialRenderImage,this.context),this.initialRenderImage&&(this.currentIndex=this.initialRenderImage.getAttribute("data-index")-1,this.currentIndex>0&&this.jumpToImage(this.currentIndex)),this.scrollContainer.classList.remove("nm-render-stage--loading")},Te.RenderStage.prototype.jumpToImage=function(e){var t=this.scrollContainerItem.clientWidth*e;this.scrollContainer.classList.add("nm-render-stage--no-animation"),this.scrollContainer.scrollLeft=t,this.handleNavigationVisibility(this.slides,this.scrollContainer,this.navPrev,this.navNext),this.changeInputPos(e),this.scrollContainer.classList.remove("nm-render-stage--no-animation")},Te.RenderStage.prototype.navigationNextArrowClickHandler=function(){this.currentIndex<this.maxIndex&&(this.currentIndex++,this.scrollToImage(this.currentIndex))},Te.RenderStage.prototype.navigationPrevArrowClickHandler=function(){this.currentIndex>0&&(this.currentIndex--,this.scrollToImage(this.currentIndex))},Te.RenderStage.prototype.thumbnailClickhandler=function(){var e=v()(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=0,r=t.target,this.thumbnails.forEach((function(e,t){e===r&&(n=t)})),this.currentIndex=n,e.next=7,this.scrollToImage(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),Te.RenderStage.prototype.intersectionHandler=function(){var e=this;if("undefined"!=typeof IntersectionObserver){var t=new IntersectionObserver((function(t){if(t[0].intersectionRatio>=.25){var n=t[0].target.getAttribute("data-index")-1;e.changeInputPos(n),e.handleNavigationVisibility(e.slides,e.scrollContainer,e.navPrev,e.navNext)}}),{root:this.scrollContainer,threshold:.25});this.slides.forEach((function(e){t.observe(e)}))}},Te.RenderStage.prototype.thumbnailsScrollHandler=function(){this.handleNavigationVisibility(this.thumbnails,this.thumbnailsContainer,this.thumbnailNavPrev,this.thumbnailNavNext,!0)},Te.RenderStage.prototype.thumbnailsThrottleHandler=function(){return x.dom.throttle(this.thumbnailsScrollHandler.bind(this),15)},Te.RenderStage.prototype.thumbnailNavigationNextClickhandler=function(){this.translateThumbnailContainer("next")},Te.RenderStage.prototype.thumbnailNavigationPrevClickhandler=function(){this.translateThumbnailContainer("prev")},Te.RenderStage.prototype.addStageEvents=function(){this.navigationNextArrowClickHandler=this.navigationNextArrowClickHandler.bind(this),this.navigationPrevArrowClickHandler=this.navigationPrevArrowClickHandler.bind(this),this.thumbnailClickhandler=this.thumbnailClickhandler.bind(this),this.thumbnailNavigationNextClickhandler=this.thumbnailNavigationNextClickhandler.bind(this),this.thumbnailNavigationPrevClickhandler=this.thumbnailNavigationPrevClickhandler.bind(this),this.thumbnailsThrottleHandler=this.thumbnailsThrottleHandler(),this.navNext.addEventListener("click",this.navigationNextArrowClickHandler),this.navPrev.addEventListener("click",this.navigationPrevArrowClickHandler),this.thumbnailsContainer.addEventListener("click",this.thumbnailClickhandler),this.thumbnailNavNext.addEventListener("click",this.thumbnailNavigationNextClickhandler),this.thumbnailNavPrev.addEventListener("click",this.thumbnailNavigationPrevClickhandler),this.thumbnailsContainer.addEventListener("scroll",this.thumbnailsThrottleHandler),this.intersectionHandler=this.intersectionHandler.bind(this),this.intersectionHandler(),Te.nonPolyfillable||this.addScrollSnapPolyfill()},Te.RenderStage.prototype.addScrollSnapPolyfill=function(){var e=x.dom.getElement(".nm-render-stage",this.context);this.snapObject=new Me.ScrollSnap(e,{scrollSnapDestination:"100% 0%",scrollTimeout:50,scrollTime:300}),this.handleScrollSnapEnd=this.handleScrollSnapEnd.bind(this),this.snapObject.bind(this.handleScrollSnapEnd)},Te.RenderStage.prototype.handleScrollSnapEnd=function(){this.handleNavigationVisibility(this.slides,this.scrollContainer,this.navPrev,this.navNext)},Te.RenderStage.prototype.removeStageEvents=function(){this.navNext.removeEventListener("click",this.navigationNextArrowClickHandler),this.navPrev.removeEventListener("click",this.navigationPrevArrowClickHandler),this.thumbnailsContainer.removeEventListener("click",this.thumbnailClickhandler),this.thumbnailNavNext.removeEventListener("click",this.thumbnailNavigationNextClickhandler),this.thumbnailNavPrev.removeEventListener("click",this.thumbnailNavigationPrevClickhandler),this.scrollContainer.removeEventListener("scroll",this.throttleHandler),this.thumbnailsContainer.removeEventListener("scroll",this.thumbnailsThrottleHandler),this.snapObject&&this.snapObject.unbind(this.handleScrollSnapEnd)},Te.RenderStage.prototype.getVisibleThumbnailItems=function(){var e=this,t=[];return e.thumbnails.forEach((function(n){x.dom.isVisible(n,e.thumbnailsContainer,!1)&&t.push(n)})),t},Te.RenderStage.prototype.calculateNewScrollPosition=function(e){var t=this.getVisibleThumbnailItems(),n=this.thumbnailsContainer.scrollLeft,r=this.thumbnailsContainer.clientWidth;return"next"===e?n+r-(Te.getRightBound(this.thumbnailsContainer)-Te.getLeftBound(t[t.length-1])):n-r-(Te.getLeftBound(this.thumbnailsContainer)-Te.getRightBound(t[0]))},Te.RenderStage.prototype.translateThumbnailContainer=function(e){var t=this.calculateNewScrollPosition(e),n=this;x.dom.animateElementX(t,this.thumbnailsContainer,600).then((function(){n.handleNavigationVisibility(n.thumbnails,n.thumbnailsContainer,n.thumbnailNavPrev,n.thumbnailNavNext)})).catch((function(){}))},Te.RenderStage.prototype.handleNavigationVisibility=function(e,t,n,r,a){var i=Te.getItemVisiblityStatus(e[0],t),o=Te.getItemVisiblityStatus(e[e.length-1],t);Te.refreshNavigationVisibility(i,n,a),Te.refreshNavigationVisibility(o,r,a)},Te.RenderStage.prototype.scrollToImage=function(e){var t=this,n=this.scrollContainerItem.clientWidth*e;x.dom.animateElementX(n,this.scrollContainer,300).catch((function(){})).then((function(){t.centerThumb(),/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)&&t.changeInputPos(e)}))},Te.RenderStage.prototype.centerThumb=function(){var e=this.thumbnails[this.currentIndex],t=e.offsetLeft-(this.scrollContainer.clientWidth-e.clientWidth)/2;x.dom.isVisible(e,this.thumbnailsContainer,!0)||x.dom.animateElementX(t,this.thumbnailsContainer,300).catch((function(){}))},Te.RenderStage.prototype.changeInputPos=function(e){this.imageInputs.map((function(e){e.checked=!1})),this.currentIndex=e,this.imageInputs[e].checked=!0},Te.refreshNavigationVisibility=function(e,t,n){var r=n?100:20;2===e.visibleStatus||1===e.visibleStatus&&e.nearestParentBoundPercentage>=r?t.classList.add("nm-hidden"):t.classList.remove("nm-hidden")},Te.getItemVisiblityStatus=function(e,t,n){var r,a,i,o,l=n||0;return t.parentNode.style.display="block",r=t.getBoundingClientRect(),a=e.getBoundingClientRect(),i=(Math.round(a.right)<=Math.round(r.right)||Math.round(100*Math.abs(a.right/r.right))>=100-l&&Math.round(100*Math.abs(a.right/r.right))<=100+l)&&Math.round(a.right)>=Math.round(r.left),o=(Math.round(a.left)>=Math.round(r.left)||Math.round(100*Math.abs(a.left/r.left))>=100-l&&Math.round(100*Math.abs(a.left/r.left))<=100+l)&&Math.round(a.left)<=Math.round(r.right),t.parentNode.style.display="",Te.createBoundingObject(r,a,o,i)},Te.createBoundingObject=function(e,t,n,r){var a={};return r&&n?(a.visible=!0,a.visibleStatus=2,a.visibleStatusText="full"):r||n?(a.visible=!0,a.visibleStatus=1,a.visibleStatusText="half"):(a.visible=!1,a.visibleStatus=0,a.visibleStatusText="no"),a.elemWidth=Math.round(t.width),t.right<e.right&&t.right<e.right-e.width/2?(a.nearestParentBound="left",a.nearestParentBoundPercentage=Math.round(100*Math.abs((t.right-e.left)/t.width))):(a.nearestParentBound="right",a.nearestParentBoundPercentage=Math.round(100*Math.abs((e.right-t.left)/t.width))),a},Te.getNewIndex=function(e){return e.getAttribute("data-index")||0},Te.getItemWidth=function(e){return e.clientWidth||0},Te.getRightBound=function(e){return e.getBoundingClientRect().right||0},Te.getLeftBound=function(e){return e.getBoundingClientRect().left||0},Te.initiateStages=function(){var e,t,n=x.dom.getElementsArray(Te.oDefaults.selectorModuleRenderStage);Te.renderStages.forEach((function(e){(t=n.indexOf(e.context))>-1&&n.splice(t,1)})),n.forEach((function(t){e=new Te.RenderStage(t),Te.renderStages.push(e),e.addStageEvents()})),Te.addOrDeleteResizeHandler()},Te.removeStages=function(){for(var e=x.dom.getElementsArray(Te.oDefaults.selectorModuleRenderStage),t=Te.renderStages.length;t--;)e.indexOf(Te.renderStages[t].context)<0&&(Te.renderStages[t].removeStageEvents(),Te.renderStages.splice(t,1));Te.addOrDeleteResizeHandler()},Te.resizeHandler=function(){Te.renderStages.forEach((function(e){var t=e.scrollContainerItem.clientWidth*e.currentIndex;e.scrollContainer.scrollLeft=t,e.centerThumb()}))},Te.addOrDeleteResizeHandler=function(){Te.renderStages.length>0?(window.removeEventListener("resize",Te.resizeDebounceHandler),window.addEventListener("resize",Te.resizeDebounceHandler)):window.removeEventListener("resize",Te.resizeDebounceHandler)},Te.resizeDebounceHandler=x.dom.debounce(Te.resizeHandler,200),Te.addEvents=function(){Te.eventBus.on(y.appEvents.PAGE_READY,Te.initiateStages),Te.eventBus.on(y.appEvents.LAYER_LOADED,Te.initiateStages),Te.eventBus.on(y.appEvents.LAYER_CLOSED,Te.removeStages)},je.initialize=function(e){return new Promise((function(t){Te.eventBus=e,Te.initiateStages(),Te.addEvents(),t("module/render-stage.js")}))};var Oe,Ne,Re={},Be={__:Re};Re.stage=null,Re.isAnimating=!1,Re.domElement=null,Re.lastRotationMillis=-1,Re.autorotateDisableWidth=1023,Re.maxViewIndex=-1,Re.viewNamesArr=null,Re.currentView=null,Re.selectedCategory=null,Re.direction=null,Re.oDefaults={sAttrAutorotation:"data-autorotation",sAttrViewName:"data-view-name",sAttrStartDate:"data-startdate",sAttrEndDate:"data-enddate",sAttrViewCategory:"data-view-category",sClassHidden:"nm-hidden",sClassHomepage:"nm-homepage",sClassMobileActive:"nm-mobile-ok",sClassBrowseForward:"nm-nextarrow",sClassSelectedMenu:"nm-bs-selected",sClassHasMobileImg:"nm-stage-has-mobileimg",sClassExtendedCTA:"nm-homepage-stage-extend-cta",sSelectorStage:"#nm-id-stage, .nm-module-mediathek-stage",sSelectorHomepage:".nm-homepage",sSelectorInitialContentArea:".nm-wrapper-content .nm-area-content:first-child",sSelectorNext:"ul.nm-stage-browse>li.nm-nextarrow",sSelectorPrevious:"ul.nm-stage-browse>li.nm-backarrow",sSelectorDot:"ul.nm-dots-navi .nm-dot",sSelectorDotNavi:"ul.nm-dots-navi",sSelectorStageItemScript:".nm-stage-item script",sSelectorHomepageStageContainer:".nm-homepage .nm-stage-container",sSelectorStageContainer:".nm-stage-container",sSelectorMenuItems:"li.nm-stage-item",sSelectorBsRemote:".nm-bs-remote",sSelectorStageContent:".nm-stage",sSelectorRenderImage:"nm-stage-img.nm-j-configurator-renderimage",sSelectorMenuIcons:"ul[class^=nm-stage-list-]",sSelectorStageContentWrap:".nm-homepage-stage-teaser-content-wrap",sSelectorStageMobileImage:".nm-stage-mobile-image",sSelectorCTALink:".nm-homepage-stage-teaser-content a",sDotTemplate:'<li><a class="nm-dot" href="#"></a></li>'},Re.initialize=function(){var e;Re.addEvents(),0===(e=jQuery(Re.oDefaults.sSelectorHomepage)).length&&(e=jQuery(Re.oDefaults.sSelectorInitialContentArea)),0!==e.length?Re.initializeOnDomElement(e):console.log("stage.js - no matching dom element")},Re.initializeOnDomElement=function(e){var t=e;0===t.length&&(t=jQuery(Re.oDefaults.sSelectorInitialContentArea)),Re.stage=t.find(Re.oDefaults.sSelectorStage),Re.addStageEvents(Re.stage),Re.domElement=t,Re.filterUnpublishedTeasers(t),Re.initializeAutorotationOfStage(Re.stage),Re.resetStage(t,Re.stage)},Re.initializeAutorotationOfStage=function(e){Re.lastRotationMillis=(new Date).getTime();var t=e.find("["+Re.oDefaults.sAttrAutorotation+"]");if(t.length>0){var n=t.attr(Re.oDefaults.sAttrAutorotation);if(void 0!==n){var r=1e3*Math.round(n);r>0&&window.setInterval((function(){if(!(jQuery(window).width()<=Re.autorotateDisableWidth)&&(new Date).getTime()>Re.lastRotationMillis+r){var e=Re.showNextView();Be.setCurrentView(e)}}),r)}}},Re.filterUnpublishedTeasers=function(e){e.find(Re.oDefaults.sSelectorStageItemScript).each((function(){var t=e.find(this).html(),n=jQuery("<div/>").html(t).find(":first-child");if(n.length>0){var r=n.attr(Re.oDefaults.sAttrStartDate),a=n.attr(Re.oDefaults.sAttrEndDate);if(void 0===r||void 0===a)return;var i=Math.round(r),o=Math.round(a),l=(new Date).getTime();if(0===i&&0===o)return;if(i>0&&o>0){if(i<=l&&l<o)return}else if(i>0){if(i<=l)return}else if(o>0&&l<o)return}var s=jQuery(this).parent().attr(Re.oDefaults.sAttrViewName);$("["+Re.oDefaults.sAttrViewName+'="'+s+'"]').remove()}));var t=e.find(Re.oDefaults.sSelectorStageContainer);if(t.children().length<1){var n=e.find(Re.oDefaults.sSelectorStageItemScript).first().html();t.html(n)}e.find(Re.oDefaults.sSelectorHomepageStageContainer).css("visibility","visible")},Be.setCurrentView=function(e){var t,n,r,a,i,o,l=Re.currentView.attr(Re.oDefaults.sAttrViewName);if(l===e)return!1;Re.lastRotationMillis=(new Date).getTime(),Re.isAnimating=!0,t=parseInt(Re.getCurrentViewIndex(l),10),n=parseInt(Re.getCurrentViewIndex(e),10),Re.direction="left",(t>n&&(t!==Re.maxViewIndex||0!==n)||0===t&&n===Re.maxViewIndex)&&(Re.direction="right"),(r=Re.domElement.find(Re.oDefaults.sSelectorStageContainer).first()).find(".nm-j-configurator-renderimage").removeClass("nm-j-configurator-renderimage"),r.addClass("nm-stage-animation-start-"+Re.direction),a=Re.getTemplateByName(e),i=jQuery(a),Re.currentView=i.appendTo(Re.domElement.find(Re.oDefaults.sSelectorStageContainer)),Re.selectedCategory=Re.currentView.attr(Re.oDefaults.sAttrViewCategory),Re.updateSelectionStatus(Re.domElement,Re.stage),o="-"+.5*r.width()+"px",Re.updateRenderImageDataViewAttr(Re.domElement),"left"===Re.direction?r.animate({"margin-left":o},600,"easeOutSine",Re.animationEnded):r.css("margin-left",o).animate({"margin-left":0},600,"easeOutSine",Re.animationEnded)},Be.jumpToFirstRenderView=function(){var e=Re.getFirstRenderImageViewInList();e&&Be.setCurrentView(e)},Re.getFirstRenderImageViewInList=function(){var e,t=!1,n=Re.viewNamesArr,r=n.length;for(e=0;e<r;e++)if(jQuery(Re.getTemplateByName(n[e])).find(Re.oDefaults.sSelectorRenderImage).length)return t=n[e];return t},Re.animationEnded=function(){$(this).removeClass(["nm-stage-animation-start-",Re.direction].join("")).removeAttr("style").find(".nm-stage").first().remove(),Re.isAnimating=!1,Re.eventBus.emit(y.appEvents.STAGE_RENDERIMAGE_UPDATED)},Re.buildViewIndexArr=function(e){var t=[];return e.find(Re.oDefaults.sSelectorMenuItems).each((function(){t.push(this.getAttribute(Re.oDefaults.sAttrViewName))})),t},Re.getCurrentViewIndex=function(e){var t=e||Re.currentView.attr(Re.oDefaults.sAttrViewName);return jQuery.inArray(t,Re.viewNamesArr)},Re.buildOrUpdateDotNavi=function(e){var t=e.find(Re.oDefaults.sSelectorDotNavi),n=e.find(Re.oDefaults.sSelectorBsRemote),r=Re.oDefaults.sDotTemplate;if(t.children().length===Re.maxViewIndex+1)jQuery(Re.oDefaults.sSelectorDot).removeClass(Re.oDefaults.sClassSelectedMenu);else{t.empty();for(var a="",i=0;i<=Re.maxViewIndex;i++)a+=r;t.append(jQuery(a))}var o=Re.getCurrentViewIndex(),l=jQuery(t.find(".nm-dot").get(o));Re.currentView.hasClass(Re.oDefaults.sClassHasMobileImg)?jQuery("body").hasClass(Re.oDefaults.sClassHomepage)?e.hasClass(Re.oDefaults.sClassMobileActive)?(t.addClass(Re.oDefaults.sClassHasMobileImg),n.addClass(Re.oDefaults.sClassHasMobileImg)):(t.removeClass(Re.oDefaults.sClassHasMobileImg),n.removeClass(Re.oDefaults.sClassHasMobileImg)):(t.addClass(Re.oDefaults.sClassHasMobileImg),n.addClass(Re.oDefaults.sClassHasMobileImg)):(t.removeClass(Re.oDefaults.sClassHasMobileImg),n.removeClass(Re.oDefaults.sClassHasMobileImg)),l.addClass(Re.oDefaults.sClassSelectedMenu)},Re.getViewAtIndex=function(e){var t=Re.domElement.find(Re.oDefaults.sSelectorMenuItems).get(e);return Re.domElement.find(t).attr(Re.oDefaults.sAttrViewName)},Re.getTemplateByName=function(e){return(jQuery(["#",e,"-tpl"].join("")).html()||"").trim()},Re.handleMenuClick=function(e){var t;e.preventDefault(),Re.isAnimating||(t=jQuery(e.currentTarget).find("li").first().attr(Re.oDefaults.sAttrViewName),Be.setCurrentView(t))},Re.handleDotClick=function(e){var t,n;e.preventDefault(),Re.isAnimating||(t=$(this).parent().index(),n=Re.getViewAtIndex(t),Be.setCurrentView(n))},Re.handlePrevNextClick=function(e){var t;e.preventDefault(),Re.isAnimating||(t=jQuery(e.currentTarget).attr("class")===Re.oDefaults.sClassBrowseForward?Re.showNextView():Re.showPreviousView(),Be.setCurrentView(t))},Re.getNextIndex=function(e){var t=e||Re.getCurrentViewIndex();return t=++t%(Re.maxViewIndex+1)},Re.getPreviousIndex=function(e){var t=e||Re.getCurrentViewIndex(),n=Re.maxViewIndex;return--t<0&&(t=n),t},Re.showNextView=function(){return Re.getViewAtIndex(Re.getNextIndex())},Re.showPreviousView=function(){return Re.getViewAtIndex(Re.getPreviousIndex())},Re.checkForExtendedCTA=function(){Re.currentView.hasClass(Re.oDefaults.sClassExtendedCTA)?(Re.currentView.find(Re.oDefaults.sSelectorStageContentWrap).on("click",Re.extendedCTAClickHandler),Re.currentView.find(Re.oDefaults.sSelectorStageMobileImage).on("click",Re.extendedCTAClickHandler)):(Re.currentView.find(Re.oDefaults.sSelectorStageContentWrap).off("click",Re.extendedCTAClickHandler),Re.currentView.find(Re.oDefaults.sSelectorStageMobileImage).off("click",Re.extendedCTAClickHandler))},Re.extendedCTAClickHandler=function(e){var t,n=$(e.target),r=n.find(Re.oDefaults.sSelectorCTALink);r&&r.length>0&&(t=r.attr("href"),n=r.attr("target"),t&&n?window.open(t,n):location.href=t)},Re.updateSelectionStatus=function(e,t){Re.checkForExtendedCTA(),Re.buildOrUpdateDotNavi(t),e.find(Re.oDefaults.sSelectorMenuIcons).removeClass(Re.oDefaults.sClassSelectedMenu).filter([".nm-stage-list-",Re.selectedCategory].join("")).addClass(Re.oDefaults.sClassSelectedMenu)},Re.updateRenderImageDataViewAttr=function(e){var t,n;n=Re.currentView.attr(Re.oDefaults.sAttrViewName),Re.domElement.find(Re.oDefaults.sSelectorRenderImage,e).each((function(){"fixed"!==(t=jQuery(this)).attr("data-renderimage-context")&&t.attr({"data-renderimage-view":n})})),Re.eventBus.emit(y.appEvents.UPDATE_VIEW_STATE,{currentView:n,domElement:e})},Re.handlePageLoaded=function(e){Re.initializeOnDomElement(jQuery(e.domElement||e.element))},Re.resetStage=function(e,t){var n=t.find(Re.oDefaults.sSelectorDotNavi),r=e.find(Re.oDefaults.sSelectorBsRemote);Re.maxViewIndex=e.find(Re.oDefaults.sSelectorMenuItems).length-1,0===Re.maxViewIndex?(n.addClass(Re.oDefaults.sClassHidden),r.addClass(Re.oDefaults.sClassHidden)):(n.removeClass(Re.oDefaults.sClassHidden),r.removeClass(Re.oDefaults.sClassHidden)),Re.viewNamesArr=Re.buildViewIndexArr(e),Re.isAnimating=!1,Re.currentView=e.find([Re.oDefaults.sSelectorStageContainer,">div",Re.oDefaults.sSelectorStageContent].join("")).first(),Re.selectedCategory=Re.currentView.attr(Re.oDefaults.sAttrViewCategory),Re.updateSelectionStatus(e,t);var a=e.find(".nm-basket-image");a.length&&Re.updateRenderImageDataViewAttr(a)},Re.addEvents=function(){Re.eventBus.on(y.appEvents.PAGE_LOADED,Re.handlePageLoaded),Re.eventBus.on(y.appEvents.LAYER_LOADED,Re.handlePageLoaded),Re.eventBus.on(y.appEvents.LAYER_CLOSED,Re.handlePageLoaded)},Re.addStageEvents=function(e){e.on("click.stage.menuitem",Re.oDefaults.sSelectorMenuIcons,Re.handleMenuClick),e.on("click.stage.remote",Re.oDefaults.sSelectorNext,Re.handlePrevNextClick),e.on("click.stage.remote",Re.oDefaults.sSelectorPrevious,Re.handlePrevNextClick),e.on("click.stage.dot touchend.stage.dots",Re.oDefaults.sSelectorDot,Re.handleDotClick)},Be.dispose=function(){Re.eventBus.off(y.appEvents.PAGE_LOADED,Re.handlePageLoaded),Re.eventBus.off(y.appEvents.LAYER_LOADED,Re.handlePageLoaded)},Be.initialize=function(e){Re.eventBus=e,Re.initialize()},Ne={__:Oe={}},Oe.oDefaults={sClassActive:"nm-active",sClassDuringAnimation:"nm-animating",sClassNoAnimation:"no-animation",sClassForwardAnimation:"nm-animation-forward",sClassBackwardAnimation:"nm-animation-backward",sSelectorStage:".nm-layer-multi-stage",sSelectorNext:".nm-nextarrow",sSelectorPrevious:".nm-backarrow",sSelectorLayerStageImageActive:".nm-layer-image.nm-active",sSelectorLayerStageImage:".nm-layer-image"},Oe.initialize=function(){Oe.addEvents()},Oe.addEvents=function(){Oe.eventBus.on(y.appEvents.PAGE_LOADED,Oe.handleLayerLoaded),Oe.eventBus.on(y.appEvents.LAYER_LOADED,Oe.handleLayerLoaded)},Oe.handleLayerLoaded=function(e){var t;e.domElement?t=e.domElement:e.element&&(t=e.element),t?Oe.addStageEvents(t):console.log("no dom element available")},Oe.addStageEvents=function(e){jQuery(e).on("click",Oe.oDefaults.sSelectorNext,Oe.handleNextClick),jQuery(e).on("click",Oe.oDefaults.sSelectorPrevious,Oe.handlePrevClick),jQuery(Oe.oDefaults.sSelectorStage).on("mousedown",Oe.activateSwipe),jQuery(Oe.oDefaults.sSelectorStage).on("touchstart",Oe.activateSwipe),jQuery(document).on("mouseup",Oe.deactivateSwipe),jQuery(document).on("touchend",Oe.deactivateSwipe)},Oe.handleNextClick=function(e){var t;e.preventDefault(),jQuery(Oe.oDefaults.sSelectorStage).hasClass(Oe.oDefaults.sClassDuringAnimation)||(jQuery(Oe.oDefaults.sSelectorStage).addClass(Oe.oDefaults.sClassDuringAnimation),t=jQuery(Oe.oDefaults.sSelectorLayerStageImageActive),jQuery(Oe.oDefaults.sSelectorStage).addClass(Oe.oDefaults.sClassNoAnimation),jQuery(Oe.oDefaults.sSelectorStage).addClass(Oe.oDefaults.sClassForwardAnimation),setTimeout((function(){jQuery(Oe.oDefaults.sSelectorStage).removeClass(Oe.oDefaults.sClassNoAnimation),setTimeout((function(){jQuery(Oe.oDefaults.sSelectorStage).addClass(Oe.oDefaults.sClassNoAnimation),jQuery(Oe.oDefaults.sSelectorLayerStageImage).each((function(){$(this).is(t)?$(this).removeClass(Oe.oDefaults.sClassActive):$(this).addClass(Oe.oDefaults.sClassActive)})),jQuery(Oe.oDefaults.sSelectorStage).removeClass(Oe.oDefaults.sClassForwardAnimation),setTimeout((function(){jQuery(Oe.oDefaults.sSelectorStage).removeClass(Oe.oDefaults.sClassNoAnimation),jQuery(Oe.oDefaults.sSelectorStage).removeClass(Oe.oDefaults.sClassDuringAnimation)}),10)}),600)}),10))},Oe.handlePrevClick=function(e){var t;e.preventDefault(),jQuery(Oe.oDefaults.sSelectorStage).hasClass(Oe.oDefaults.sClassDuringAnimation)||(jQuery(Oe.oDefaults.sSelectorStage).addClass(Oe.oDefaults.sClassDuringAnimation),t=jQuery(Oe.oDefaults.sSelectorLayerStageImageActive),jQuery(Oe.oDefaults.sSelectorStage).addClass(Oe.oDefaults.sClassNoAnimation),jQuery(Oe.oDefaults.sSelectorStage).addClass(Oe.oDefaults.sClassBackwardAnimation),setTimeout((function(){jQuery(Oe.oDefaults.sSelectorStage).removeClass(Oe.oDefaults.sClassNoAnimation),setTimeout((function(){jQuery(Oe.oDefaults.sSelectorStage).addClass(Oe.oDefaults.sClassNoAnimation),jQuery(Oe.oDefaults.sSelectorLayerStageImage).each((function(){$(this).is(t)?$(this).removeClass(Oe.oDefaults.sClassActive):$(this).addClass(Oe.oDefaults.sClassActive)})),jQuery(Oe.oDefaults.sSelectorStage).removeClass(Oe.oDefaults.sClassBackwardAnimation),setTimeout((function(){jQuery(Oe.oDefaults.sSelectorStage).removeClass(Oe.oDefaults.sClassNoAnimation),jQuery(Oe.oDefaults.sSelectorStage).removeClass(Oe.oDefaults.sClassDuringAnimation)}),10)}),600)}),10))},Oe.activateSwipe=function(e){"touchstart"===e.type?Oe.swipeX=e.originalEvent.pageX:Oe.swipeX=e.pageX,jQuery(document).on("mousemove",Oe.swipe),jQuery(document).on("touchmove",Oe.swipe)},Oe.deactivateSwipe=function(){jQuery(document).off("mousemove",Oe.swipe),jQuery(document).off("touchmove",Oe.swipe)},Oe.swipe=function(e){var t;(t="touchmove"===e.type?e.originalEvent.pageX:e.pageX)>=Oe.swipeX+5?(Oe.deactivateSwipe(e),Oe.handlePrevClick(e)):t<=Oe.swipeX-5&&(Oe.deactivateSwipe(e),Oe.handleNextClick(e))},Ne.initialize=function(e){Oe.eventBus=e,Oe.initialize()};n(59);var Ve=".nm-wrapper-content .nm-area-content:first-child",Fe=".nm-navigation-derivative-main-list",He=".nm-navigation-derivative-sub-list",Qe=".nm-layer .nm-navigation-derivative-sub-list",ze="nm-navigation-hidden-item",Ge="nm-navigation-more-btn-show",We="nm-navigation-more-btn-order",Ue="nm-has-more-btn",qe="#nm-basket-toggle",Ye="#nm-navigation-toggle-btn",Xe="#nm-supportbar-toggle",$e=".nm-supportbar-toggle-label",Ke=".nm-supportbar-navigation",Je="#nm-matching-toggle",Ze=".nm-nav-wrap",et="nm-nav-loaded",tt=768,nt={isStockCar:!1},rt={__:nt};nt.showMoreButton=function(e,t){var n,r=e.find(t+" > li:first-child"),a=e.find(He);r.length>0&&((n=e.find(t+" > li:last-child")).hasClass("nm-summary-mobile-link")&&(n=e.find(t+" > li:nth-last-child(2)")),(n.position().top>0||n.hasClass(ze))&&n.find("a").is(":visible")?(r.addClass(Ge),r.removeClass(We),a.addClass(Ue),jQuery(e.find(t+" > li:not(.nm-navigation-hidden-item)").get()).each((function(){jQuery(this).find("a").length&&jQuery(this).find("a").position().top>0&&!jQuery(this).find("a").hasClass(Ge)&&jQuery(this).addClass(ze)})),r.addClass(We)):(r.removeClass(Ge),a.removeClass(Ue))),jQuery(Ze).addClass(et)},nt.setHiddenNavItems=function(e,t){e.find(t).length>0&&e.find(t+" > li").length>0&&(e.find(t+" > li").removeClass(ze),jQuery(e.find(t+" > li").get().reverse()).each((function(){if(!(jQuery(this).find("a").length&&jQuery(this).find("a").position().top>0))return!1;jQuery(this).addClass(ze)}))),nt.showMoreButton(e,t)},nt.initNavToggles=function(){var e,t;nt.legacyEventBus.on("change",qe,nt.handleToggleChange),jQuery(Je).length&&nt.legacyEventBus.on("change",Je,nt.handleToggleChange),jQuery(Xe).length&&(nt.legacyEventBus.on("change",Xe,nt.handleToggleChange),jQuery(window).width()>tt&&!("ontouchstart"in window)&&!navigator.msMaxTouchPoints&&(e=jQuery($e),t=jQuery(Ke),e.on("mouseover mouseout",nt.handleShoppingToolsHover),t.on("mouseover mouseout",nt.handleShoppingToolsHover))),nt.legacyEventBus.on("change",Ye,nt.handleToggleChange)},nt.handleShoppingToolsHover=function(e){jQuery(Xe).prop("checked","mouseover"===e.type)},nt.handleToggleChange=function(e){var t=jQuery(".nm-basket"),n=t.length>0,r=jQuery(Je).length>0,a=jQuery(Xe).length>0;jQuery(e.target).is(qe)&&n?(t.toggleClass("nm-basket-widget-is-open",jQuery(e.target).is(":checked")),jQuery("body").removeClass("nm-page-nav-is-open"),jQuery(Ye).is(":checked")&&jQuery(Ye).prop("checked",!1),a&&jQuery(Xe).is(":checked")&&jQuery(Xe).prop("checked",!1),r&&jQuery(Je).is(":checked")&&jQuery(Je).prop("checked",!1)):jQuery(e.target).is(Ye)?(jQuery("body").toggleClass("nm-page-nav-is-open",jQuery(e.target).is(":checked")),n&&t.removeClass("nm-basket-widget-is-open"),jQuery(qe).is(":checked")&&jQuery(qe).prop("checked",!1),a&&jQuery(Xe).is(":checked")&&jQuery(Xe).prop("checked",!1),r&&jQuery(Je).is(":checked")&&jQuery(Je).prop("checked",!1)):jQuery(e.target).is(Xe)?(jQuery("body").removeClass("nm-page-nav-is-open"),n&&t.removeClass("nm-basket-widget-is-open"),jQuery(qe).is(":checked")&&jQuery(qe).prop("checked",!1),jQuery(Ye).is(":checked")&&jQuery(Ye).prop("checked",!1),r&&jQuery(Je).is(":checked")&&jQuery(Je).prop("checked",!1)):jQuery(e.target).is(Je)&&(jQuery("body").removeClass("nm-page-nav-is-open"),n&&t.toggleClass("nm-basket-widget-is-open",jQuery(e.target).is(":checked")),jQuery(qe).is(":checked")&&jQuery(qe).prop("checked",!1),jQuery(Ye).is(":checked")&&jQuery(Ye).prop("checked",!1),a&&jQuery(Xe).is(":checked")&&jQuery(Xe).prop("checked",!1))},nt.checkForMoreBtn=function(e){var t,n;nt.setHiddenNavItems(e,Fe),t=e.find(".nm-nav-wrap").attr("data-mainnav"),n=Fe+' > li > a[data-href="'+t+'"] ~ .nm-navigation-sub-wrap-outer .nm-navigation-derivative-sub-list',nt.setHiddenNavItems(e,n)},nt.checkForLayerMoreBtn=function(e){var t,n;nt.setHiddenNavItems(e,He),t=e.find(".nm-nav-wrap").attr("data-mainnav"),n=Fe+' > li > a[data-href="'+t+'"] ~ .nm-navigation-sub-wrap-outer .nm-navigation-derivative-sub-list',nt.setHiddenNavItems(e,n)},nt.handlerPageLoaded=function(e){nt.checkForMoreBtn(jQuery(e.domElement)),nt.initNavToggles()},nt.handlerLayerLoaded=function(){var e=jQuery(".nm-layer");nt.checkForLayerMoreBtn(e)},nt.initialize=function(){var e;nt.isStockCar=SETUPS.get("stockcar.context")&&"true"===SETUPS.get("stockcar.context").toString(),nt.isStockCar||(nt.checkForMoreBtn(jQuery(Ve)),(e=jQuery(".nm-layer"))&&e.length>0&&nt.checkForLayerMoreBtn(jQuery(Qe).parent()),nt.eventBus.on(y.appEvents.PAGE_LOADED,nt.handlerPageLoaded),nt.eventBus.on(y.appEvents.LAYER_LOADED,nt.handlerLayerLoaded),jQuery(window).on("resize",(function(){nt.checkForMoreBtn(jQuery(Ve)),nt.checkForLayerMoreBtn(jQuery(Qe).parent())})),jQuery(".nm-basket-navigation-item").on("click",(function(){setTimeout((function(){nt.checkForMoreBtn(jQuery(Ve)),nt.checkForLayerMoreBtn(jQuery(Qe).parent())}),20)})),nt.initNavToggles())},rt.initialize=function(e){nt.eventBus=e,nt.legacyEventBus=jQuery("body"),nt.initialize()},m.stateRegistry.subscribeToStore("dbadPageStore",(function(e){window.dbadPageStore=e}));var at=[a,C,b,H,te,ne,Ne,oe,se,ue,ae,fe,ve,be,rt,_e,xe,je,Be,k,N],it=y.signal.getEmitter();at.forEach((function(e){try{e.initialize(it)}catch(e){console.error(e)}}))}])}));
//# sourceMappingURL=bundle.editorial.legacy.js.map