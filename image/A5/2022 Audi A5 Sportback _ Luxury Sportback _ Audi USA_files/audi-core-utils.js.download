/*! @audi/audi-core-utils 1.0.2 - Thu, 11 Mar 2021 22:24:39 GMT
License information can be found in audi-core-utils.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("core-vendor")):"function"==typeof define&&define.amd?define("core-utils",["core-vendor"],t):"object"==typeof exports?exports["core-utils"]=t(require("core-vendor")):e["core-utils"]=t(e["core-vendor"])}(self,(function(e){return(()=>{var t={761:e=>{e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},94:(e,t,n)=>{var o=n(190)("unscopables"),r=Array.prototype;null==r[o]&&n(216)(r,o,{}),e.exports=function(e){r[o][e]=!0}},365:(e,t,n)=>{var o=n(334);e.exports=function(e){if(!o(e))throw TypeError(e+" is not an object!");return e}},21:(e,t,n)=>{var o=n(703),r=n(329),i=n(615);e.exports=function(e){return function(t,n,s){var a,u=o(t),c=r(u.length),l=i(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},688:e=>{var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},66:e=>{var t=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},528:(e,t,n)=>{var o=n(761);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)}}return function(){return e.apply(t,arguments)}}},622:e=>{e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},628:(e,t,n)=>{e.exports=!n(625)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},50:(e,t,n)=>{var o=n(334),r=n(113).document,i=o(r)&&o(r.createElement);e.exports=function(e){return i?r.createElement(e):{}}},603:e=>{e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},772:(e,t,n)=>{var o=n(113),r=n(66),i=n(216),s=n(738),a=n(528),u=function(e,t,n){var c,l,p,d,f=e&u.F,m=e&u.G,h=e&u.S,g=e&u.P,y=e&u.B,v=m?o:h?o[t]||(o[t]={}):(o[t]||{}).prototype,E=m?r:r[t]||(r[t]={}),w=E.prototype||(E.prototype={});for(c in m&&(n=t),n)p=((l=!f&&v&&void 0!==v[c])?v:n)[c],d=y&&l?a(p,o):g&&"function"==typeof p?a(Function.call,p):p,v&&s(v,c,p,e&u.U),E[c]!=p&&i(E,c,d),g&&w[c]!=p&&(w[c]=p)};o.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},625:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},646:(e,t,n)=>{e.exports=n(655)("native-function-to-string",Function.toString)},113:e=>{var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},40:e=>{var t={}.hasOwnProperty;e.exports=function(e,n){return t.call(e,n)}},216:(e,t,n)=>{var o=n(558),r=n(61);e.exports=n(628)?function(e,t,n){return o.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},954:(e,t,n)=>{var o=n(113).document;e.exports=o&&o.documentElement},100:(e,t,n)=>{e.exports=!n(628)&&!n(625)((function(){return 7!=Object.defineProperty(n(50)("div"),"a",{get:function(){return 7}}).a}))},467:(e,t,n)=>{var o=n(688);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==o(e)?e.split(""):Object(e)}},334:e=>{e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},445:(e,t,n)=>{"use strict";var o=n(872),r=n(61),i=n(727),s={};n(216)(s,n(190)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=o(s,{next:r(1,n)}),i(e,t+" Iterator")}},195:(e,t,n)=>{"use strict";var o=n(422),r=n(772),i=n(738),s=n(216),a=n(988),u=n(445),c=n(727),l=n(2),p=n(190)("iterator"),d=!([].keys&&"next"in[].keys()),f="keys",m="values",h=function(){return this};e.exports=function(e,t,n,g,y,v,E){u(n,t,g);var w,b,S,T=function(e){if(!d&&e in P)return P[e];switch(e){case f:case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",O=y==m,M=!1,P=e.prototype,I=P[p]||P["@@iterator"]||y&&P[y],D=I||T(y),L=y?O?T("entries"):D:void 0,A="Array"==t&&P.entries||I;if(A&&(S=l(A.call(new e)))!==Object.prototype&&S.next&&(c(S,x,!0),o||"function"==typeof S[p]||s(S,p,h)),O&&I&&I.name!==m&&(M=!0,D=function(){return I.call(this)}),o&&!E||!d&&!M&&P[p]||s(P,p,D),a[t]=D,a[x]=h,y)if(w={values:O?D:T(m),keys:v?D:T(f),entries:L},E)for(b in w)b in P||i(P,b,w[b]);else r(r.P+r.F*(d||M),t,w);return w}},38:e=>{e.exports=function(e,t){return{value:t,done:!!e}}},988:e=>{e.exports={}},422:e=>{e.exports=!1},872:(e,t,n)=>{var o=n(365),r=n(331),i=n(603),s=n(34)("IE_PROTO"),a=function(){},u=function(){var e,t=n(50)("iframe"),o=i.length;for(t.style.display="none",n(954).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;o--;)delete u.prototype[i[o]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=o(e),n=new a,a.prototype=null,n[s]=e):n=u(),void 0===t?n:r(n,t)}},558:(e,t,n)=>{var o=n(365),r=n(100),i=n(382),s=Object.defineProperty;t.f=n(628)?Object.defineProperty:function(e,t,n){if(o(e),t=i(t,!0),o(n),r)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},331:(e,t,n)=>{var o=n(558),r=n(365),i=n(912);e.exports=n(628)?Object.defineProperties:function(e,t){r(e);for(var n,s=i(t),a=s.length,u=0;a>u;)o.f(e,n=s[u++],t[n]);return e}},2:(e,t,n)=>{var o=n(40),r=n(33),i=n(34)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),o(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},547:(e,t,n)=>{var o=n(40),r=n(703),i=n(21)(!1),s=n(34)("IE_PROTO");e.exports=function(e,t){var n,a=r(e),u=0,c=[];for(n in a)n!=s&&o(a,n)&&c.push(n);for(;t.length>u;)o(a,n=t[u++])&&(~i(c,n)||c.push(n));return c}},912:(e,t,n)=>{var o=n(547),r=n(603);e.exports=Object.keys||function(e){return o(e,r)}},61:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},738:(e,t,n)=>{var o=n(113),r=n(216),i=n(40),s=n(78)("src"),a=n(646),u="toString",c=(""+a).split(u);n(66).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var u="function"==typeof n;u&&(i(n,"name")||r(n,"name",t)),e[t]!==n&&(u&&(i(n,s)||r(n,s,e[t]?""+e[t]:c.join(String(t)))),e===o?e[t]=n:a?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,u,(function(){return"function"==typeof this&&this[s]||a.call(this)}))},727:(e,t,n)=>{var o=n(558).f,r=n(40),i=n(190)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,i)&&o(e,i,{configurable:!0,value:t})}},34:(e,t,n)=>{var o=n(655)("keys"),r=n(78);e.exports=function(e){return o[e]||(o[e]=r(e))}},655:(e,t,n)=>{var o=n(66),r=n(113),i="__core-js_shared__",s=r[i]||(r[i]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:o.version,mode:n(422)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},615:(e,t,n)=>{var o=n(338),r=Math.max,i=Math.min;e.exports=function(e,t){return(e=o(e))<0?r(e+t,0):i(e,t)}},338:e=>{var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:t)(e)}},703:(e,t,n)=>{var o=n(467),r=n(622);e.exports=function(e){return o(r(e))}},329:(e,t,n)=>{var o=n(338),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},33:(e,t,n)=>{var o=n(622);e.exports=function(e){return Object(o(e))}},382:(e,t,n)=>{var o=n(334);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},78:e=>{var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+n).toString(36))}},190:(e,t,n)=>{var o=n(655)("wks"),r=n(78),i=n(113).Symbol,s="function"==typeof i;(e.exports=function(e){return o[e]||(o[e]=s&&i[e]||(s?i:r)("Symbol."+e))}).store=o},897:(e,t,n)=>{"use strict";var o=n(94),r=n(38),i=n(988),s=n(703);e.exports=n(195)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},85:(e,t,n)=>{for(var o=n(897),r=n(912),i=n(738),s=n(113),a=n(216),u=n(988),c=n(190),l=c("iterator"),p=c("toStringTag"),d=u.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=r(f),h=0;h<m.length;h++){var g,y=m[h],v=f[y],E=s[y],w=E&&E.prototype;if(w&&(w[l]||a(w,l,d),w[p]||a(w,p,y),u[y]=d,v))for(g in o)w[g]||i(w,g,o[g],!0)}},164:t=>{"use strict";t.exports=e}},n={};function o(e){if(n[e])return n[e].exports;var r=n[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";o.r(r),o.d(r,{animate:()=>l,device:()=>d,dom:()=>h,fetch:()=>g,jsLoader:()=>w,polling:()=>S,swipe:()=>x,template:()=>L});o(85);class e{constructor(e){this.initEasing(e)}getValue(e,t,n,o){return this.easing(e,t,n,o)}initEasing(e){switch(e){case"none":case"noEasing":case"linear":this.easing=this.noEasing;break;case"noEasingInt":this.easing=this.noEasingInt;break;case"easeInQuad":this.easing=this.easeInQuad;break;case"easeOutExpo":this.easing=this.easeOutExpo;break;case"easeInOutSine":this.easing=this.easeInOutSine;break;case"easeInSine":this.easing=this.easeInSine;break;case"easeOutSine":default:this.easing=this.easeOutSineFn}}easeInOutSine(e,t,n,o){return n/2*(1-Math.cos(Math.PI*e/o))+t}easeInSine(e,t,n,o){return n*(1-Math.cos(e/o*(Math.PI/2)))+t}easeOutSineFn(e,t,n,o){return n*(1-Math.cos(e/o*(Math.PI/2)))+t}noEasing(e,t,n,o){return n*e/o+t}noEasingInt(e,t,n,o){return Math.round(this.noEasing(e,t,n,o),0)}easeInQuad(e,t,n,o){return n*(e/=o)*e+t}easeOutExpo(e,t,n,o){return n*(1-Math.pow(2,-10*e/o))+t}}const t=0,n=1,i=2,s=4,a={duration:500,maxDuration:5e3,element:window,easing:"none"};class u{constructor(t,n){this.options=Object.assign({},a,n),this.elapsedTime=0,this.currentValue=this.options.startValue,this.targetValue=t,this.valueChange=this.targetValue-this.options.startValue,this.easing=new e(this.options.easing),this.render=this.options.renderFunction,this.animationFrameID=null,this.interrupted=!1}getDelta(){return Math.abs(this.valueChange)}startAnimation(){return new Promise(((e,t)=>{this.promiseResolveFn=e,this.promiseRejectFn=t,this.animationStep()}))}interruptAnimation(){this.interrupted=!0}animationStep(e){const t=e||0;this.startTime=this.startTime||t,this.elapsedTime=t-this.startTime,this.currentValue=this.easing.getValue(this.elapsedTime.toFixed(0),this.options.startValue,this.valueChange,this.options.duration),this.isAnimationRunning()&&(this.render(this),this.animationFrameID=window.requestAnimationFrame(this.animationStep.bind(this)))}setFinalState(){this.currentValue=this.targetValue,this.render(this)}getAnimationState(){return this.interrupted?s:this.elapsedTime>this.options.duration?n:this.elapsedTime>this.options.maxDuration?i:this.isTargetValueReached()?n:t}isTargetValueReached(){return this.valueChange<0?this.currentValue<=this.targetValue:this.currentValue>=this.targetValue}isAnimationRunning(){switch(this.getAnimationState()){case n:return this.completeAnimation(!0),this.promiseResolveFn(this),!1;case i:return this.completeAnimation(!0),this.promiseRejectFn(new Error("Animation was terminated")),!1;case s:return this.completeAnimation(!1),this.promiseResolveFn(this),!1;case t:default:return!0}}completeAnimation(e){window.cancelAnimationFrame(this.animationFrameID),e&&this.setFinalState()}}let c={},l={__:c};c.runningAnimations=new Map,c.createNewAnimation=function(e,t){let n=c.runningAnimations.get(t.element);return n||(n={}),n[t.property]&&n[t.property].interruptAnimation&&(n[t.property].interruptAnimation(),delete n[t.property]),n[t.property]=new u(e,t),c.runningAnimations.set(t.element,n),n[t.property]},c.renderWindowY=function(e){window.scrollTo(0,e.currentValue)},c.renderElementProperty=function(e){e.options.element[e.options.property]=e.currentValue},l.animateWindowY=function(e,t){const n={property:"pageYOffset",easing:"linear",startValue:Math.round(window.pageYOffset),renderFunction:c.renderWindowY},o=Object.assign({},n,t),r=isNaN(e)||Math.round(e)<0?0:e;return l.animateElementProperty(r,window,o)},l.animateElementProperty=function(e,t,n){const o={element:t,easing:"easeOutSine",startValue:0,renderFunction:c.renderElementProperty},r=Object.assign({},o,n);if(!r.property||isNaN(e)||!t)return Promise.reject(new Error("animateElementProperty --\x3e wrong  params"));r.startValue=Math.round(parseFloat(t[r.property]||0));return c.createNewAnimation(e,r).startAnimation()},l.animateElementStyleProperty=function(e,t,n){return l.animateElementProperty(e,t.style,n)};const p={},d={__:p};p.oDefaults={classIsIOS:"nm-is-ios",classIsIPad:"nm-is-ipad",classIsIPhone:"nm-is-iphone"},d.isiPhone=function(){return"iphone"===p.getDevice()},d.isiPod=function(){return"ipod"===p.getDevice()},d.isiPad=function(){return"ipad"===p.getDevice()},d.isAndroid=function(){return"android"===p.getDevice()},d.isiOS=function(){return d.isiPhone()||d.isiPad()||d.isiPod()},d.isMobile=function(){return d.isiOS()||d.isAndroid()},p.addDeviceClassToBody=function(){d.isiOS()&&(document.querySelector("body").classList.add(p.oDefaults.classIsIOS),d.isiPhone()?document.querySelector("body").classList.add(p.oDefaults.classIsIPhone):d.isiPad()&&document.querySelector("body").classList.add(p.oDefaults.classIsIPad))},p.getDevice=function(){let e=window.navigator.userAgent.toLowerCase();return null!==e.match(/ipod/i)?e="ipod":null!==e.match(/ipad/i)?e="ipad":null!==e.match(/iphone/i)?e="iphone":null!==e.match(/android/i)?null!==e.match(/mobile/i)&&(e="android"):e="default",e},p.initialize=function(){p.addDeviceClassToBody()},p.initialize();var f=o(164);const m={},h={__:m};m.eventDelegates={},m.TRANSITION_TIMEOUT=1500,m.isValidDOMElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},m.getDummyElement=function(){return document.createElement("_")},h.selectorMatches=function(e,t){const n=Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)},h.isHidden=function(e){return null===e.offsetParent},h.isVisible=function(e,t,n){const o=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=Math.round(r.right)<=Math.round(o.right)&&Math.round(r.right)>=Math.round(o.left),s=Math.round(r.left)>=Math.round(o.left)&&Math.round(r.left)<=Math.round(o.right);return n?i&&s:i||s},h.handleDocumentReady=function(e){let t="loading";/MSIE\s/.test(navigator.userAgent)&&parseFloat(navigator.appVersion.split("MSIE")[1])<10&&(t="interactive"),document.readyState!==t?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",(function(){"loading"!==document.readyState&&e()}))},h.getEventDelegate=function(e){const t=document.querySelector(e);return!m.eventDelegates[e]&&t&&(m.eventDelegates[e]=new f.domDelegate(t)),m.eventDelegates[e]},h.renderTemplate=function(e,t){let n="";try{n=f.doT.template(e)(t)}catch(e){console.warn("renderTemplate Error:",e)}return n},h.isElementOutsideOfElementWithSelector=function(e,t){let n;if(h.selectorMatches(e,t))return!1;for(n=e;!h.selectorMatches(n,t)&&n.parentNode!==document;)n=n.parentNode;return!h.selectorMatches(n,t)},h.getOffset=function(e,t){const n=h.getElement(e,t);let o,r,i,s;if(h.isElement(n))return n.getClientRects().length?(i=n.getBoundingClientRect(),i.width||i.height?(s=n.ownerDocument,r=window,o=s.documentElement,{top:i.top+r.pageYOffset-o.clientTop,left:i.left+r.pageXOffset-o.clientLeft}):i):{top:0,left:0}},h.appendHtmlString=function(e,t){let n,o;if(e&&t)for(n=document.createElement("div"),n.innerHTML=t,o=n.childNodes;o.length>0;)e.appendChild(o[0])},h.createElementsFromHtmlString=function(e){const t=document.createElement("div");return e&&(t.innerHTML=e),t.childNodes},h.getDataAttribute=function(e,t){const n=e.getAttribute("data-"+t)||e.getAttribute(t);let o={};try{return o=JSON.parse(n),o}catch(e){return n&&n.indexOf("{")<0&&n.indexOf("[")<0?n:(console.error("could not parse data attribute JSON",n),null)}},h.closest=function(e,t){let n,o;if(o=e,"function"==typeof e.closest)return e.closest(t);for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some((function(e){return"function"==typeof document.body[e]&&(n=e,!0)}));o;){if(o&&o[n](t))return o;o=o.parentElement}return null},h.siblings=function(e,t){const n=e.parentNode;let o=[];return n&&(o=Array.prototype.filter.call(n.children,(function(n){let o=n!==e;return t&&o&&(o=n.matches(t)),o}))),o},m.transitionEvent=function(){let e;const t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}(),h.handleTransition=function(e,t){return new Promise((function(n,o){e&&e.addEventListener||o("missing params"),e.addEventListener(m.transitionEvent,(function o(){e.removeEventListener(m.transitionEvent,o),t&&e.classList.remove(t),n(e)})),t&&e.classList.add(t),setTimeout((function(){o("transition timeout")}),m.TRANSITION_TIMEOUT)}))},h.handleCSSAnimation=function(e,t){return new Promise((function(n,o){e&&e.addEventListener||o("missing params"),e.addEventListener("animationend",(function o(){e.removeEventListener("animationend",o),t&&e.classList.remove(t),n(e)})),t&&e.classList.add(t),setTimeout((function(){o("animation timeout")}),m.TRANSITION_TIMEOUT)}))},h.getElement=function(e,t){return(t||document).querySelector(e)||m.getDummyElement()},h.selectorIsInLayerContext=function(e){const t=".nm-layer-opened .nm-layer "+e;return!!document.querySelector(t)},h.isInViewport=function(e){const t=e.getBoundingClientRect(),n=document.documentElement;return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||n.clientHeight)&&t.right<=(window.innerWidth||n.clientWidth)},h.getVisibleVerticalPercentageInViewport=function(e){const t=e.getBoundingClientRect();let n=window.innerHeight-t.top;return t.top<0&&(n=t.bottom),n<=0?0:n>=e.clientHeight?100:n/e.clientHeight*100},h.getViewportPercentageCovered=function(e){let t,n;return e?(t=e.getBoundingClientRect(),n=window.innerHeight,t.top<0&&t.bottom<=0||t.top>n?0:t.top>=0&&t.bottom<=n?100:t.top<0&&t.bottom<=n?t.bottom/n*100:t.top>=0&&t.top<n&&t.bottom>n?(n-t.top)/n*100:t.top<=0&&t.bottom>=n?100:0):0},h.isElement=function(e){const t="string"==typeof e?document.querySelector(e):e;return!!t&&"_"!==t.tagName&&m.isValidDOMElement(t)},h.getElementsArray=function(e,t){const n=t||document;return[].slice.call(n.querySelectorAll(e))},h.removeElement=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},m.now=function(){return(new Date).getTime()},h.debounce=function(e,t,n){let o,r,i,s,a;return function(){i=this,a=arguments,r=function(){o=null,n||e.apply(i,a)},s=n&&!o,clearTimeout(o),o=setTimeout(r,t),s&&e.apply(i,a)}},h.throttle=function(e,t){let n,o,r,i,s,a,u=null,c=0;return i=function(){c=m.now(),u=null,a=e.apply(n,s),n=s=null},function(){return o=m.now(),r=t-(o-c),n=this,s=arguments,r<=0?(clearTimeout(u),u=null,c=o,a=e.apply(n,s),n=s=null):u||(u=setTimeout(i,r)),a}},h.scrollTo=function(e,t){let n=t;return"number"==typeof t&&(n={duration:t}),l.animateWindowY(e,n)},h.animateElementX=function(e,t,n){let o=n;return"number"==typeof n&&(o={duration:n,property:"scrollLeft"}),l.animateElementProperty(e,t,o)},h.animateElementY=function(e,t,n){let o=n;return"number"==typeof n&&(o={duration:n,property:"scrollTop"}),l.animateElementProperty(e,t,o)},m.preloadImagePromise=function(e){return new Promise((function(t,n){const o=new Image;o.src=e,o.onload=function(){t(o)},o.onerror=function(e){n(e)}}))},h.preloadImages=function(e){const t=[];return e.forEach((function(e){t.push(m.preloadImagePromise(e.src))})),Promise.all(t)},h.getElementsAbsoluteTopPosition=function(e){const t=e.getBoundingClientRect().top;return window.pageYOffset+t};const g={};function y(e){return 200===e.status||0===e.status?Promise.resolve(e):Promise.reject(new Error("Error fetching: "+e.url))}function v(e){return e.blob()}function E(e){return e.json()}g.getBlob=function(e,t){return fetch(e,t||{}).then(y).then(v)},g.getJson=function(e,t={}){return fetch(e,t).then(y).then(E)};const w={__:{},loadURL:function(e,t={}){return new Promise((function(n,o){const r=document.createElement("script");r.onerror=function(){o(new Error("could not load Script from "+e))},r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,n())}:r.onload=function(){n()},[...t.attributes||[]].forEach((e=>{/^data-/.test(e.name)&&r.setAttribute(e.name,e.value)})),r.src=e,document.getElementsByTagName("head")[0].appendChild(r)}))}},b={},S={__:b};b.defaultIntervalTime=50,b.run=function(e,t,n,o,r){let i,s,a;s=0,a=e(),a?o(a):i=setInterval((function(){a=e(),a?(clearInterval(i),o(a)):s>t&&(clearInterval(i),r(new Error)),s+=n}),n)},S.wait=function(e,t,n){let o=n||b.defaultIntervalTime;return new Promise((function(n,r){b.run(e,t,o,n,r)}))};const T={},x={__:T},O=[],M={touchonly:!1,swipedistance:15},P="down",I="left",D="right";T.mouseMoveTimeout=null,T.swipePosition={direction:{vertical:"",horizontal:""},vertical:0,horizontal:0},T.deactivateSwipe=function(e,t,n){h.getEventDelegate("body").off("mousemove",n.selector),h.getEventDelegate("body").off("mouseup",n.selector),h.getEventDelegate("body").off("touchmove",n.selector),h.getEventDelegate("body").off("touchend",n.selector),n.position.move&&n.callback(n.position,t),n.position.move=null,T.mouseMoveTimeout&&clearTimeout(T.mouseMoveTimeout)},T.getEventPos=function(e){const t={};return"touchmove"===e.type||"touchend"===e.type?e.originalEvent?(t.x=e.originalEvent.pageX,t.y=e.originalEvent.pageY):e.changedTouches&&(t.x=e.changedTouches[0].pageX,t.y=e.changedTouches[0].pageY):(t.x=e.pageX,t.y=e.pageY),t},T.swipe=function(e,t,n){const o=T.getEventPos(e),r=h.getElement(n.selector).offsetWidth;o.x>=n.position.x+n.options.swipedistance?n.position.direction.horizontal=D:o.x<=n.position.x-n.options.swipedistance&&(n.position.direction.horizontal=I),o.y>=n.position.y+n.options.swipedistance?n.position.direction.vertical=P:o.y<=n.position.y-n.options.swipedistance&&(n.position.direction.vertical="up"),n.position.endX=o.x,n.position.endY=o.y,n.position.move=(o.x-n.position.x)/r*100,n.swipeCallback&&n.swipeCallback(n.position,t)},T.activateSwipe=function(e,t,n){let o;n.position.direction.horizontal="",n.position.direction.vertical="",n.position.x=0,n.position.endX=0,n.position.y=0,n.position.endY=0,"touchstart"===e.type?e.originalEvent?(n.position.x=e.originalEvent.pageX,n.position.y=e.originalEvent.pageY):e.changedTouches&&(n.position.x=e.changedTouches[0].pageX,n.position.y=e.changedTouches[0].pageY):(n.position.x=e.pageX,n.position.y=e.pageY),n.options.touchonly||(h.getEventDelegate("body").on("mousemove",n.selector,(function(e,t){T.swipe(e,t,n)})),h.getEventDelegate("body").on("mouseup",n.selector,(function(e,t){T.deactivateSwipe(e,t,n)}))),h.getEventDelegate("body").on("touchmove",n.selector,(function(e,t){T.swipe(e,t,n)})),h.getEventDelegate("body").on("touchend",n.selector,(function(e,t){T.swipe(e,t,n)})),T.mouseMoveTimeout&&clearTimeout(T.mouseMoveTimeout),T.mouseMoveTimeout=setTimeout((function(){o=document.createEvent?document.createEvent("MouseEvent"):new MouseEvent("click"),T.deactivateSwipe(o,t,n)}),300)},T.onStart=function(e){return function(t,n){T.activateSwipe(t,n,e)}},T.addEvents=function(){let e,t;for(e=0;e<O.length;e++)O[e].registered||(t=O[e],O[e].options.touchonly||h.getEventDelegate("body").on("mousedown",t.selector,T.onStart(t)),h.getEventDelegate("body").on("touchstart",t.selector,T.onStart(t)),O[e].registered=!0)},T.checkOptions=function(e,t){let n=M,o=t;return e&&(e.touchonly&&(n.touchonly=e.touchonly),e.swipedistance&&(n.swipedistance=e.swipedistance)),o.options=n,o},T.register=function(e,t,n,o){let r={};if(!e)throw new Error("swipe.js --\x3e no callback function defined");if(!(t&&t.length>0))throw new Error("swipe.js --\x3e no selector defined");r.selector=t,r.item=document.querySelector(t),r.callback=e,r.swipeCallback=o,r.initialized=!1,r.position=T.swipePosition,r=T.checkOptions(n,r),O.push(r),T.addEvents()},T.unregister=function(e){let t,n;if(e&&e.length>0)for(t=0;t<O.length;t++)n=O[t],n.selector===e&&n.registered&&(n.registered=!1,h.getEventDelegate("body").off("mousedown",e),h.getEventDelegate("body").off("mousemove",e),h.getEventDelegate("body").off("mouseup",e),h.getEventDelegate("body").off("touchstart",e),h.getEventDelegate("body").off("touchmove",e),h.getEventDelegate("body").off("touchend",e))},x.register=T.register,x.unregister=T.unregister,x.UP="up",x.DOWN=P,x.RIGHT=D,x.LEFT=I;const L={__:{},render:function(e,t){let n="";try{n=f.doT.template(e)(t)}catch(e){console.error("Error in dOT-template",e)}return n}}})(),r})()}));
//# sourceMappingURL=audi-core-utils.js.map