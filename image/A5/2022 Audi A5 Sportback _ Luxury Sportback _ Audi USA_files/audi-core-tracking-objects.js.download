/*! @audi/audi-core-tracking 6.4.0 - Tue, 28 Jun 2022 06:50:11 GMT
License information can be found in audi-core-tracking-objects.js.LICENSE.txt */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("core-tracking-objects",[],e):"object"==typeof exports?exports["core-tracking-objects"]=e():t["core-tracking-objects"]=e()}(self,(function(){return(()=>{var t={2576:(t,e,n)=>{n(6139),n(7472),n(3085),n(2235),n(6632),n(7469),n(66).Promise},2761:t=>{t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},2094:(t,e,n)=>{var r=n(2190)("unscopables"),i=Array.prototype;null==i[r]&&n(4216)(i,r,{}),t.exports=function(t){i[r][t]=!0}},5824:t=>{t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},6365:(t,e,n)=>{var r=n(7334);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},9021:(t,e,n)=>{var r=n(5703),i=n(6078),s=n(8615);t.exports=function(t){return function(e,n,a){var c,o=r(e),l=i(o.length),u=s(a,l);if(t&&n!=n){for(;l>u;)if((c=o[u++])!=c)return!0}else for(;l>u;u++)if((t||u in o)&&o[u]===n)return t||u||0;return!t&&-1}}},106:(t,e,n)=>{var r=n(6688),i=n(2190)("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:s?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},6688:t=>{var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},66:t=>{var e=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=e)},1528:(t,e,n)=>{var r=n(2761);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},1622:t=>{t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},6628:(t,e,n)=>{t.exports=!n(8625)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},5050:(t,e,n)=>{var r=n(7334),i=n(8113).document,s=r(i)&&r(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},3603:t=>{t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},5772:(t,e,n)=>{var r=n(8113),i=n(66),s=n(4216),a=n(7738),c=n(1528),o=function(t,e,n){var l,u,g,h,f=t&o.F,p=t&o.G,d=t&o.S,b=t&o.P,_=t&o.B,m=p?r:d?r[e]||(r[e]={}):(r[e]||{}).prototype,v=p?i:i[e]||(i[e]={}),y=v.prototype||(v.prototype={});for(l in p&&(n=e),n)g=((u=!f&&m&&void 0!==m[l])?m:n)[l],h=_&&u?c(g,r):b&&"function"==typeof g?c(Function.call,g):g,m&&a(m,l,g,t&o.U),v[l]!=g&&s(v,l,h),b&&y[l]!=g&&(y[l]=g)};r.core=i,o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,t.exports=o},8625:t=>{t.exports=function(t){try{return!!t()}catch(t){return!0}}},1891:(t,e,n)=>{var r=n(1528),i=n(3221),s=n(8908),a=n(6365),c=n(6078),o=n(7107),l={},u={},g=t.exports=function(t,e,n,g,h){var f,p,d,b,_=h?function(){return t}:o(t),m=r(n,g,e?2:1),v=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(s(_)){for(f=c(t.length);f>v;v++)if((b=e?m(a(p=t[v])[0],p[1]):m(t[v]))===l||b===u)return b}else for(d=_.call(t);!(p=d.next()).done;)if((b=i(d,m,p.value,e))===l||b===u)return b};g.BREAK=l,g.RETURN=u},646:(t,e,n)=>{t.exports=n(8655)("native-function-to-string",Function.toString)},8113:t=>{var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},4040:t=>{var e={}.hasOwnProperty;t.exports=function(t,n){return e.call(t,n)}},4216:(t,e,n)=>{var r=n(8558),i=n(6061);t.exports=n(6628)?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},8954:(t,e,n)=>{var r=n(8113).document;t.exports=r&&r.documentElement},5100:(t,e,n)=>{t.exports=!n(6628)&&!n(8625)((function(){return 7!=Object.defineProperty(n(5050)("div"),"a",{get:function(){return 7}}).a}))},7757:t=>{t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},8467:(t,e,n)=>{var r=n(6688);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},8908:(t,e,n)=>{var r=n(3988),i=n(2190)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[i]===t)}},7334:t=>{t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},3221:(t,e,n)=>{var r=n(6365);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var s=t.return;throw void 0!==s&&r(s.call(t)),e}}},6445:(t,e,n)=>{"use strict";var r=n(2897),i=n(6061),s=n(5727),a={};n(4216)(a,n(2190)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),s(t,e+" Iterator")}},1195:(t,e,n)=>{"use strict";var r=n(1422),i=n(5772),s=n(7738),a=n(4216),c=n(3988),o=n(6445),l=n(5727),u=n(9002),g=n(2190)("iterator"),h=!([].keys&&"next"in[].keys()),f="keys",p="values",d=function(){return this};t.exports=function(t,e,n,b,_,m,v){o(n,e,b);var y,O,S,j=function(t){if(!h&&t in D)return D[t];switch(t){case f:case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},w=e+" Iterator",k=_==p,T=!1,D=t.prototype,C=D[g]||D["@@iterator"]||_&&D[_],L=C||j(_),E=_?k?j("entries"):L:void 0,x="Array"==e&&D.entries||C;if(x&&(S=u(x.call(new t)))!==Object.prototype&&S.next&&(l(S,w,!0),r||"function"==typeof S[g]||a(S,g,d)),k&&C&&C.name!==p&&(T=!0,L=function(){return C.call(this)}),r&&!v||!h&&!T&&D[g]||a(D,g,L),c[e]=L,c[w]=d,_)if(y={values:k?L:j(p),keys:m?L:j(f),entries:E},v)for(O in y)O in D||s(D,O,y[O]);else i(i.P+i.F*(h||T),e,y);return y}},3143:(t,e,n)=>{var r=n(2190)("iterator"),i=!1;try{var s=[7][r]();s.return=function(){i=!0},Array.from(s,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var s=[7],a=s[r]();a.next=function(){return{done:n=!0}},s[r]=function(){return a},t(s)}catch(t){}return n}},5038:t=>{t.exports=function(t,e){return{value:e,done:!!t}}},3988:t=>{t.exports={}},1422:t=>{t.exports=!1},3492:(t,e,n)=>{var r=n(8113),i=n(9124).set,s=r.MutationObserver||r.WebKitMutationObserver,a=r.process,c=r.Promise,o="process"==n(6688)(a);t.exports=function(){var t,e,n,l=function(){var r,i;for(o&&(r=a.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(o)n=function(){a.nextTick(l)};else if(!s||r.navigator&&r.navigator.standalone)if(c&&c.resolve){var u=c.resolve(void 0);n=function(){u.then(l)}}else n=function(){i.call(r,l)};else{var g=!0,h=document.createTextNode("");new s(l).observe(h,{characterData:!0}),n=function(){h.data=g=!g}}return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}},8577:(t,e,n)=>{"use strict";var r=n(2761);function i(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new i(t)}},2897:(t,e,n)=>{var r=n(6365),i=n(7331),s=n(3603),a=n(8034)("IE_PROTO"),c=function(){},o=function(){var t,e=n(5050)("iframe"),r=s.length;for(e.style.display="none",n(8954).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),o=t.F;r--;)delete o.prototype[s[r]];return o()};t.exports=Object.create||function(t,e){var n;return null!==t?(c.prototype=r(t),n=new c,c.prototype=null,n[a]=t):n=o(),void 0===e?n:i(n,e)}},8558:(t,e,n)=>{var r=n(6365),i=n(5100),s=n(1382),a=Object.defineProperty;e.f=n(6628)?Object.defineProperty:function(t,e,n){if(r(t),e=s(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},7331:(t,e,n)=>{var r=n(8558),i=n(6365),s=n(2912);t.exports=n(6628)?Object.defineProperties:function(t,e){i(t);for(var n,a=s(e),c=a.length,o=0;c>o;)r.f(t,n=a[o++],e[n]);return t}},9002:(t,e,n)=>{var r=n(4040),i=n(6033),s=n(8034)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},5547:(t,e,n)=>{var r=n(4040),i=n(5703),s=n(9021)(!1),a=n(8034)("IE_PROTO");t.exports=function(t,e){var n,c=i(t),o=0,l=[];for(n in c)n!=a&&r(c,n)&&l.push(n);for(;e.length>o;)r(c,n=e[o++])&&(~s(l,n)||l.push(n));return l}},2912:(t,e,n)=>{var r=n(5547),i=n(3603);t.exports=Object.keys||function(t){return r(t,i)}},9739:t=>{t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},5151:(t,e,n)=>{var r=n(6365),i=n(7334),s=n(8577);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=s.f(t);return(0,n.resolve)(e),n.promise}},6061:t=>{t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2243:(t,e,n)=>{var r=n(7738);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},7738:(t,e,n)=>{var r=n(8113),i=n(4216),s=n(4040),a=n(5078)("src"),c=n(646),o="toString",l=(""+c).split(o);n(66).inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,c){var o="function"==typeof n;o&&(s(n,"name")||i(n,"name",e)),t[e]!==n&&(o&&(s(n,a)||i(n,a,t[e]?""+t[e]:l.join(String(e)))),t===r?t[e]=n:c?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,o,(function(){return"function"==typeof this&&this[a]||c.call(this)}))},9766:(t,e,n)=>{"use strict";var r=n(8113),i=n(8558),s=n(6628),a=n(2190)("species");t.exports=function(t){var e=r[t];s&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},5727:(t,e,n)=>{var r=n(8558).f,i=n(4040),s=n(2190)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,s)&&r(t,s,{configurable:!0,value:e})}},8034:(t,e,n)=>{var r=n(8655)("keys"),i=n(5078);t.exports=function(t){return r[t]||(r[t]=i(t))}},8655:(t,e,n)=>{var r=n(66),i=n(8113),s="__core-js_shared__",a=i[s]||(i[s]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(1422)?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},1987:(t,e,n)=>{var r=n(6365),i=n(2761),s=n(2190)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[s])?e:i(n)}},2070:(t,e,n)=>{var r=n(3338),i=n(1622);t.exports=function(t){return function(e,n){var s,a,c=String(i(e)),o=r(n),l=c.length;return o<0||o>=l?t?"":void 0:(s=c.charCodeAt(o))<55296||s>56319||o+1===l||(a=c.charCodeAt(o+1))<56320||a>57343?t?c.charAt(o):s:t?c.slice(o,o+2):a-56320+(s-55296<<10)+65536}}},9124:(t,e,n)=>{var r,i,s,a=n(1528),c=n(7757),o=n(8954),l=n(5050),u=n(8113),g=u.process,h=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,d=u.Dispatch,b=0,_={},m="onreadystatechange",v=function(){var t=+this;if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},y=function(t){v.call(t.data)};h&&f||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return _[++b]=function(){c("function"==typeof t?t:Function(t),e)},r(b),b},f=function(t){delete _[t]},"process"==n(6688)(g)?r=function(t){g.nextTick(a(v,t,1))}:d&&d.now?r=function(t){d.now(a(v,t,1))}:p?(s=(i=new p).port2,i.port1.onmessage=y,r=a(s.postMessage,s,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",y,!1)):r=m in l("script")?function(t){o.appendChild(l("script")).onreadystatechange=function(){o.removeChild(this),v.call(t)}}:function(t){setTimeout(a(v,t,1),0)}),t.exports={set:h,clear:f}},8615:(t,e,n)=>{var r=n(3338),i=Math.max,s=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):s(t,e)}},3338:t=>{var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},5703:(t,e,n)=>{var r=n(8467),i=n(1622);t.exports=function(t){return r(i(t))}},6078:(t,e,n)=>{var r=n(3338),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},6033:(t,e,n)=>{var r=n(1622);t.exports=function(t){return Object(r(t))}},1382:(t,e,n)=>{var r=n(7334);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},5078:t=>{var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},5822:(t,e,n)=>{var r=n(8113).navigator;t.exports=r&&r.userAgent||""},2190:(t,e,n)=>{var r=n(8655)("wks"),i=n(5078),s=n(8113).Symbol,a="function"==typeof s;(t.exports=function(t){return r[t]||(r[t]=a&&s[t]||(a?s:i)("Symbol."+t))}).store=r},7107:(t,e,n)=>{var r=n(106),i=n(2190)("iterator"),s=n(3988);t.exports=n(66).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||s[r(t)]}},7680:(t,e,n)=>{"use strict";var r=n(2094),i=n(5038),s=n(3988),a=n(5703);t.exports=n(1195)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},6139:(t,e,n)=>{"use strict";var r=n(106),i={};i[n(2190)("toStringTag")]="z",i+""!="[object z]"&&n(7738)(Object.prototype,"toString",(function(){return"[object "+r(this)+"]"}),!0)},2235:(t,e,n)=>{"use strict";var r,i,s,a,c=n(1422),o=n(8113),l=n(1528),u=n(106),g=n(5772),h=n(7334),f=n(2761),p=n(5824),d=n(1891),b=n(1987),_=n(9124).set,m=n(3492)(),v=n(8577),y=n(9739),O=n(5822),S=n(5151),j="Promise",w=o.TypeError,k=o.process,T=k&&k.versions,D=T&&T.v8||"",C=o.Promise,L="process"==u(k),E=function(){},x=i=v.f,A=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[n(2190)("species")]=function(t){t(E,E)};return(L||"function"==typeof PromiseRejectionEvent)&&t.then(E)instanceof e&&0!==D.indexOf("6.6")&&-1===O.indexOf("Chrome/66")}catch(t){}}(),P=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},I=function(t,e){if(!t._n){t._n=!0;var n=t._c;m((function(){for(var r=t._v,i=1==t._s,s=0,a=function(e){var n,s,a,c=i?e.ok:e.fail,o=e.resolve,l=e.reject,u=e.domain;try{c?(i||(2==t._h&&M(t),t._h=1),!0===c?n=r:(u&&u.enter(),n=c(r),u&&(u.exit(),a=!0)),n===e.promise?l(w("Promise-chain cycle")):(s=P(n))?s.call(n,o,l):o(n)):l(r)}catch(t){u&&!a&&u.exit(),l(t)}};n.length>s;)a(n[s++]);t._c=[],t._n=!1,e&&!t._h&&R(t)}))}},R=function(t){_.call(o,(function(){var e,n,r,i=t._v,s=N(t);if(s&&(e=y((function(){L?k.emit("unhandledRejection",i,t):(n=o.onunhandledrejection)?n({promise:t,reason:i}):(r=o.console)&&r.error&&r.error("Unhandled promise rejection",i)})),t._h=L||N(t)?2:1),t._a=void 0,s&&e.e)throw e.v}))},N=function(t){return 1!==t._h&&0===(t._a||t._c).length},M=function(t){_.call(o,(function(){var e;L?k.emit("rejectionHandled",t):(e=o.onrejectionhandled)&&e({promise:t,reason:t._v})}))},U=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),I(e,!0))},F=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw w("Promise can't be resolved itself");(e=P(t))?m((function(){var r={_w:n,_d:!1};try{e.call(t,l(F,r,1),l(U,r,1))}catch(t){U.call(r,t)}})):(n._v=t,n._s=1,I(n,!1))}catch(t){U.call({_w:n,_d:!1},t)}}};A||(C=function(t){p(this,C,j,"_h"),f(t),r.call(this);try{t(l(F,this,1),l(U,this,1))}catch(t){U.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(2243)(C.prototype,{then:function(t,e){var n=x(b(this,C));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=L?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&I(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),s=function(){var t=new r;this.promise=t,this.resolve=l(F,t,1),this.reject=l(U,t,1)},v.f=x=function(t){return t===C||t===a?new s(t):i(t)}),g(g.G+g.W+g.F*!A,{Promise:C}),n(5727)(C,j),n(9766)(j),a=n(66).Promise,g(g.S+g.F*!A,j,{reject:function(t){var e=x(this);return(0,e.reject)(t),e.promise}}),g(g.S+g.F*(c||!A),j,{resolve:function(t){return S(c&&this===a?C:this,t)}}),g(g.S+g.F*!(A&&n(3143)((function(t){C.all(t).catch(E)}))),j,{all:function(t){var e=this,n=x(e),r=n.resolve,i=n.reject,s=y((function(){var n=[],s=0,a=1;d(t,!1,(function(t){var c=s++,o=!1;n.push(void 0),a++,e.resolve(t).then((function(t){o||(o=!0,n[c]=t,--a||r(n))}),i)})),--a||r(n)}));return s.e&&i(s.v),n.promise},race:function(t){var e=this,n=x(e),r=n.reject,i=y((function(){d(t,!1,(function(t){e.resolve(t).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})},7472:(t,e,n)=>{"use strict";var r=n(2070)(!0);n(1195)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})}))},6632:(t,e,n)=>{"use strict";var r=n(5772),i=n(66),s=n(8113),a=n(1987),c=n(5151);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,i.Promise||s.Promise),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}})},7469:(t,e,n)=>{"use strict";var r=n(5772),i=n(8577),s=n(9739);r(r.S,"Promise",{try:function(t){var e=i.f(this),n=s(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},3085:(t,e,n)=>{for(var r=n(7680),i=n(2912),s=n(7738),a=n(8113),c=n(4216),o=n(3988),l=n(2190),u=l("iterator"),g=l("toStringTag"),h=o.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(f),d=0;d<p.length;d++){var b,_=p[d],m=f[_],v=a[_],y=v&&v.prototype;if(y&&(y[u]||c(y,u,h),y[g]||c(y,g,_),o[_]=h,m))for(b in r)y[b]||s(y,b,r[b],!0)}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{ClickEventHelperDom:()=>l,CustomEventService:()=>O,PageObjectDefaultAttributes:()=>E,PageObjectDefaultCategory:()=>L,PageObjectDefaultPageInfo:()=>C,cartService:()=>I,clickEventObjectLayerClose:()=>b,clickEventObjectLayerOpen:()=>m,clickEventObjectTab:()=>y,clickEventService:()=>o,componentService:()=>i,dealerService:()=>S,pageService:()=>D,productService:()=>A,searchService:()=>B,stateEventService:()=>w,userService:()=>F});n(2576),n(3085);const t=new class{mergeObjects(...t){const e=t=>t&&"object"==typeof t;return t.reduce(((t,n)=>(Object.keys(n).forEach((r=>{const i=t[r],s=n[r];Array.isArray(i)&&Array.isArray(s)?t[r]=s:e(i)&&e(s)?t[r]=this.mergeObjects(i,s):t[r]=s})),t)),{})}flattenAndMergeObjects(t,e){const n=[];for(let r of t)for(let t of r)n.push(this.mergeObjects(...e,t));return n}static toMMSS(t){return t>=3600?new Date(1e3*t).toISOString().substr(11,8):new Date(1e3*t).toISOString().substr(14,5)}static debounce(t,e,n){let r;return function(){const i=this,s=arguments,a=function(){r=null,n||t.apply(i,s)},c=n&&!r;clearTimeout(r),r=setTimeout(a,e),c&&t.apply(i,s)}}static withLastParameter(t){let e=null;return function(){null!==e?(t.call(this,...e,...arguments),e=arguments):e=arguments}}};class e{constructor(){if(e._instance)return e._instance;this.registeredCallbacks=[],e._instance=this}register(t,e=!1){if("function"!=typeof t)throw new Error("bad parameter: callback_ is not of type function");const n=0===this.registeredCallbacks.length?1:this.registeredCallbacks.length;e?this.registeredCallbacks[0]=t:this.registeredCallbacks[n]=t}unregister(t){let e=this.registeredCallbacks.indexOf(t);-1!==e&&this.registeredCallbacks.splice(e,1)}getComponentArray(){let t=[];const e=document.querySelectorAll("feature-app");let n=window.digitalData.component;if(n&&void 0!==n)for(let e=0;e<n.length;e++){if("audi-user-menu"===n[e].componentInfo.componentName){t.push(n[e]);break}}if(n&&void 0!==n)for(let r=0;r<e.length;r++){const i=e[r];if((!i.hasAttribute("data-audi-core-tracking-include")||"true"===i.getAttribute("data-audi-core-tracking-include"))&&!i.hasAttribute("data-module")){const i=e[r].id;for(let e=0;e<n.length;e++)if(n[e].componentInfo&&n[e].componentInfo.componentID==i){t.push(n[e]);break}}}return t}async getData(){const e=document.querySelectorAll("[data-module]"),n=e.length;let r=this.getComponentArray();for(let i=0;i<n;i+=1){const n=[],s=[];for(let t of this.registeredCallbacks){const r=await t(e[i],i);r instanceof Array&&r.length>0?s.push(r):"object"==typeof r&&r!==[]&&n.push(r)}0===s.length?r.push(t.mergeObjects(...n)):r=r.concat(t.flattenAndMergeObjects(s,n))}return r}}const i=new e;class s{constructor(){if(s._instance)return s._instance;i.register(s.getData,!0),s._instance=this}static async getData(t,e){return null===t?null:{componentInfo:{componentID:e+"-0",componentName:s.getComponentName(t)},category:{primaryCategory:""},attributes:{implementer:1,version:"",moduleNumber:e,subNumber:0}}}static getComponentName(t){return t.dataset.module?t.dataset.module:""}}new s;class a{constructor(){if(a._instance)return a._instance;i.register(a.getData),a._instance=this}static async getData(t,e){const n=[];if(null===t)return n;const r=t.querySelectorAll(".audi-j-module-item").length;for(let t=0;t<r;t+=1)n.push({componentInfo:{componentID:e+"-"+t},attributes:{subNumber:t}});return n}}new a;class c{constructor(){if(c._instance)return c._instance;i.register(c.getData),c._instance=this}static async getData(t,e){const n=[];if(null===t)return n;const r=t.querySelectorAll(".nm-j-teaser-item"),i=r.length;for(let t=0;t<i;t+=1){const i=r[t];let s="";s=i.querySelector(".nm-j-teaser-title")?i.querySelector(".nm-j-teaser-title").innerText.trim():i.innerText.trim(),n.push({componentInfo:{componentID:e+"-"+t},attributes:{subNumber:t,teaserTitle:s}})}return n}}new c;const o=new class{constructor(){this.eventObjectCallbacks=[],this.getData=this.getData.bind(this),this.clickSelectors=["a",".audi-button",".audi-j-clicktracking-element"],this._getRegisteredEventObjects=this._getRegisteredEventObjects.bind(this)}registerClickSelector(t){this.clickSelectors.push(t)}register(t,e=!1){let n=0===this.eventObjectCallbacks.length?1:this.eventObjectCallbacks.length;e?this.eventObjectCallbacks[0]=t:this.eventObjectCallbacks[n]=t}unregister(t){let e=this.eventObjectCallbacks.indexOf(t);this.eventObjectCallbacks.splice(e,1)}async getData(t,e){const n=this._retrieveFirstMatchedElement(t),r=t;if(!n)return{};const i=this._serializeEventData(r,n,e),s=await this._getRegisteredEventObjects(i);return this._mergeObjects(...s)}_retrieveFirstMatchedElement(t){let e;if(t)for(const n of this.clickSelectors)if(e=t.closest(n),e)return e;return!1}async _getRegisteredEventObjects(t){let e=[];for(let n in this.eventObjectCallbacks)if(n&&this.eventObjectCallbacks[n]){let r=await this.eventObjectCallbacks[n](t);e.push(r)}return e}_getModule(t){let e=t.closest("[data-module]");return e?e.getAttribute("data-module"):""}_serializeEventData(t,e,n){return{currentTarget:e,currentURL:n,target:t,moduleName:this._getModule(e)}}_mergeObjects(...t){const e=t=>t&&"object"==typeof t;return t.reduce(((t,n)=>(Object.keys(n).forEach((r=>{const i=t[r],s=n[r];Array.isArray(i)&&Array.isArray(s)?t[r]=s:e(i)&&e(s)?t[r]=this._mergeObjects(i,s):t[r]=s})),t)),{})}};class l{static getTargetUrl(t){return t.currentTarget&&t.currentTarget.href?t.currentTarget.href:""}static getLabel(t){if(!t.currentTarget)return"";return(t.currentTarget.textContent?t.currentTarget.textContent:"").trim()}static getClickID(t){return t.currentTarget&&t.currentTarget.id?t.currentTarget.id:""}static getElementName(t){const e=t.target;let n="other";return t.currentTarget instanceof HTMLElement?(l._isTextLink(e)||l._isTextLinkArrow(e)?n="text link":l._isButton(e)?n="button":!l._isIcon(e)||l._isTextLinkArrow(e)||l._isButton(e)?l._isImage(e)&&(n="image"):n="icon",n):n}static getTargetClassList(t){return t&&t.currentTarget&&t.currentTarget.classList?t.currentTarget.classList:0}static getTarget(t){return t?t.currentTarget:0}static _isTextLink(t){return!!t.classList&&(t.classList.contains("audi-link-s")||t.classList.contains("audi-link-m")||t.classList.contains("audi-copy-s")||t.classList.contains("audi-copy-m")||t.classList.contains("audi-headline-order-1")||t.classList.contains("audi-headline-order-2")||t.classList.contains("audi-headline-order-3")||null!==t.parentElement&&(t.parentElement.classList.contains("audi-link-s")||t.parentElement.classList.contains("audi-link-m")||t.parentElement.classList.contains("audi-copy-s")||t.parentElement.classList.contains("audi-copy-m")))}static _isButton(t){return!!t.classList&&(t.classList.contains("audi-button")||null!==t.parentElement&&(t.parentElement.classList.contains("audi-button")||t.parentElement.classList.contains("audi-button__icon")))}static _isIcon(t){return!t.classList||!t.tagName||("svg"===t.tagName.toLowerCase()||null!==t.parentElement&&"svg"===t.parentElement.tagName.toLowerCase())}static _isImage(t){return!!t.tagName&&("img"===t.tagName.toLowerCase()||"picture"===t.tagName.toLowerCase())}static _isTextLinkArrow(t){return l._isIcon(t)&&(t.closest(".audi-link-m--arrow")||t.closest(".audi-link-s--arrow"))}}class u{constructor(){if(u._instance)return u._instance;o.register(u.getData,!0),u._instance=this}static async getData(t){return{eventInfo:{eventAction:"internal_link",eventName:"generic"},attributes:{componentName:t.moduleName,label:l.getLabel(t),currentURL:t.currentURL,targetURL:l.getTargetUrl(t),clickID:l.getClickID(t),elementName:l.getElementName(t),value:"",pos:""}}}}new u;class g{constructor(){if(g._instance)return g._instance;o.register(g.getData),g._instance=this}static async getData(t){const e=l.getTargetUrl(t);return g._isExternalLink(e)?{eventInfo:{eventAction:"exit_link"}}:{}}static _isExternalLink(t){return(-1!==t.indexOf("http")||-1!==t.indexOf("//"))&&!this._isLinkOfSameDomain(t,window.location)}static _isLinkOfSameDomain(t,e){let n=t.split("/"),r=e.hostname,i=e.hostname+":"+e.port;return n[2]===r||n[2]===i}}new g;class h{constructor(){if(h._instance)return h._instance;o.register(h.getData),h._instance=this}static get DOWNLOAD_FILE_TYPES(){return["doc","docx","eps","xls","ppt","pptx","pdf","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe","wma","mov","avi","wmv","mp3","wav","m4v","ics"]}static async getData(t){const e=l.getTargetUrl(t);if(!h._isDownloadLink(e))return{};return{eventInfo:{eventAction:"download"},attributes:{value:h._getFileType(e).toUpperCase()}}}static _isDownloadLink(t){let e=h._getFileType(t);return""!==e&&-1!==h.DOWNLOAD_FILE_TYPES.indexOf(e.toLowerCase())}static _getFileType(t){let e=t.split("/"),n=e[e.length-1].split(".");return n.length<=1?"":n[n.length-1]}}new h;class f{constructor(){if(f._instance)return f._instance;o.register(f.getData),f._instance=this}static async getData(t){return f._isLinkWithinTeaser(t)?{eventInfo:{eventName:"teaser click"},attributes:{value:f._getTeaserTitle(t)}}:{}}static _isLinkWithinTeaser(t){return null!==t.currentTarget.closest(".nm-j-teaser-module")}static _getTeaserTitle(t){let e=t.currentTarget.innerText.trim();const n=t.currentTarget.closest(".nm-j-teaser-module");return n&&n.querySelector(".nm-j-teaser-title")&&(e=n.querySelector(".nm-j-teaser-title").innerText.trim()),e}}new f;class p{constructor(){if(p._instance)return p._instance;o.register(p.getData),p._instance=this}static async getData(t){const e=l.getTargetUrl(t);return p._isEmailLink(e)?{eventInfo:{eventAction:"email"},attributes:{targetURL:p._getEmailAddress(e),value:""}}:{}}static _isEmailLink(t){return!!t&&0===t.indexOf("mailto:")}static _getEmailAddress(t){const e=t?t.split(":"):[];return e.length<1||"mailto"!==e[0]?"":e[1]}}new p;class d{constructor(){if(d._instance)return d._instance;this.getData=this.getData.bind(this),this.layerCloseSelectors=[],o.register(this.getData),d._instance=this}registerLayerCloseSelector(t){this.layerCloseSelectors.push(t)}async getData(t){const e=l.getTarget(t);return this._isLayerCloseLink(e)?{eventInfo:{eventAction:"layer_close_click"}}:{}}_isLayerCloseLink(t){for(const e of this.layerCloseSelectors)if(t&&t.closest(e)===t)return!0;return!1}}const b=new d;class _{constructor(){if(_._instance)return _._instance;this.getData=this.getData.bind(this),this.layerOpenSelectors=[],o.register(this.getData),_._instance=this}registerLayerOpenSelector(t){this.layerOpenSelectors.push(t)}async getData(t){const e=l.getTarget(t);return this._isLayerOpenLink(e)?{eventInfo:{eventAction:"layer_open_click"}}:{}}_isLayerOpenLink(t){for(const e of this.layerOpenSelectors)if(t&&t.closest(e)===t)return!0;return!1}}const m=new _;class v{constructor(){if(v._instance)return v._instance;this.getData=this.getData.bind(this),this.tabSelectors=[],o.register(this.getData),v._instance=this}registerTabSelector(t){this.tabSelectors.push(t)}async getData(t){const e=l.getTarget(t);return this._isTab(e)?{attributes:{elementName:"tab"}}:{}}_isTab(t){for(const e of this.tabSelectors)if(t&&t.closest(e)===t)return!0;return!1}}const y=new v;class O{static get CUSTOM_TRACKING_EVENT(){return"CUSTOM_TRACKING_EVENT"}}const S=new class{constructor(){this.dealerObjectCallbacks=[],this.getData=this.getData.bind(this),this._getRegisteredDealerObjects=this._getRegisteredDealerObjects.bind(this)}register(t,e){let n=0===this.dealerObjectCallbacks.length?1:this.dealerObjectCallbacks.length;e?this.dealerObjectCallbacks[0]=t:this.dealerObjectCallbacks[n]=t}unregister(t){let e=this.dealerObjectCallbacks.indexOf(t);this.dealerObjectCallbacks.splice(e,1)}async getData(){return(await this._getRegisteredDealerObjects()).filter((t=>Object.getOwnPropertyNames(t).length>0)).reduce(((t,e)=>t.concat(e)),[])}async _getRegisteredDealerObjects(){let t=[];for(let e in this.dealerObjectCallbacks)if(e&&this.dealerObjectCallbacks[e]){let n=await this.dealerObjectCallbacks[e]();n!=={}&&t.push(n)}return t}};class j{constructor(){if(j._instance)return j._instance;S.register(j.getData,!0),j._instance=this}static async getData(){return{}}}new j;const w=new class{constructor(){this.eventObjectCallbacks=[],this.getData=this.getData.bind(this),this._getRegisteredEventObjects=this._getRegisteredEventObjects.bind(this)}register(t,e){let n=0===this.eventObjectCallbacks.length?1:this.eventObjectCallbacks.length;e?this.eventObjectCallbacks[0]=t:this.eventObjectCallbacks[n]=t}unregister(t){let e=this.eventObjectCallbacks.indexOf(t);this.eventObjectCallbacks.splice(e,1)}async getData(t){let e=await this._getRegisteredEventObjects(t);return this._mergeObjects(...e)}async _getRegisteredEventObjects(t){let e=[];for(let n in this.eventObjectCallbacks)if(n&&this.eventObjectCallbacks[n]){let r=await this.eventObjectCallbacks[n](t);e.push(r)}return e}_mergeObjects(...t){const e=t=>t&&"object"==typeof t;return t.reduce(((t,n)=>(Object.keys(n).forEach((r=>{const i=t[r],s=n[r];Array.isArray(i)&&Array.isArray(s)?t[r]=s:e(i)&&e(s)?t[r]=this._mergeObjects(i,s):t[r]=s})),t)),{})}};class k{constructor(){if(k._instance)return k._instance;w.register(k.getData,!0),k._instance=this}static async getData(){return{eventInfo:{eventAction:"page_load",eventName:"generic"},attributes:{componentName:"",label:"",currentURL:window.location.href,targetURL:"",clickID:"",elementName:"",value:"",pos:""}}}}new k;class T{constructor(){if(T._instance)return T._instance;w.register(T.getData),T._instance=this}static async getData(t){if("PAGE_READY"!==t&&"LAYER_LOADED"!==t&&"LAYER_CLOSED"!==t)return{};return{eventInfo:{eventAction:"step",eventName:"generic"},attributes:{componentName:"",label:"",currentURL:window.location.href,targetURL:"",clickID:"",elementName:"",value:"",pos:""}}}}new T;const D=new class{constructor(){this.pageObjectCallbacks=[],this.getData=this.getData.bind(this),this._getRegisteredPageObjects=this._getRegisteredPageObjects.bind(this)}register(t,e){let n=0===this.pageObjectCallbacks.length?1:this.pageObjectCallbacks.length;e?this.pageObjectCallbacks[0]=t:this.pageObjectCallbacks[n]=t}unregister(t){let e=this.pageObjectCallbacks.indexOf(t);this.pageObjectCallbacks.splice(e,1)}async getData(){let t=await this._getRegisteredPageObjects();return this._mergeObjects(...t)}async _getRegisteredPageObjects(){let t=[];for(let e in this.pageObjectCallbacks)if(e&&this.pageObjectCallbacks[e]){let n=await this.pageObjectCallbacks[e]();t.push(n)}return t}_mergeObjects(...t){const e=t=>t&&"object"==typeof t;return t.reduce(((t,n)=>(Object.keys(n).forEach((r=>{const i=t[r],s=n[r];Array.isArray(i)&&Array.isArray(s)?t[r]=s:e(i)&&e(s)?t[r]=this._mergeObjects(i,s):t[r]=s})),t)),{})}};class C{getPageID(t,e){let n=e;return this._hasSubString(t,"jslayer=")?n=this._getPageIdForJsLayer(n,t):this._hasSubString(t,"layer=")?n=this._getSubStringByMarker(t,"layer="):this._hasSubString(t,"page=")&&(n=this._getSubStringByMarker(t,"page=")),n=this._removeTrailingHtmlString(n),n}_getPageIdForJsLayer(t,e){let n=this._getSubStringByMarker(e,"jslayer="),r=t;return this._hasSubString(e,"page=")&&(r=this._getSubStringByMarker(e,"page=")),r=this._removeTrailingHtmlString(r),r+"/"+n}getPageName(t){let e=this._getDocumentTitle();return t&&t.getElementById("nm-page-title")&&(e=t.getElementById("nm-page-title").innerText),e}_getDocumentTitle(){let t="";return document.getElementsByTagName("title")&&document.getElementsByTagName("title")[0]&&(t=document.getElementsByTagName("title")[0].innerText),t}getDestinationUrl(){return window.location.href}getReferringUrl(){return document.referrer||""}getSysEnv(t){let e="production";return this._hasSubString(t,"local")||this._hasSubString(t,"aem")||this._hasSubString(t,"nemo")||this._hasSubString(t,"127.0.0.1")?e="development":(this._hasSubString(t,"pre-")||this._hasSubString(t,"test-"))&&(e="staging"),e}getBreadCrumbs(t,e){let n=[],r=this.getPageID(t,e);const i=this._getOffsetIndexId(r);return this.getPageID(t,e).split("/").forEach((function(t,e){e>i&&""!==t&&n.push(t)})),n}getMarket(t,e){let n="";return n=this._hasLocalMarket()?this._getLocalMarket():this._getMarketFromPageID(t,e)?this._getMarketFromPageID(t,e):n,n.toUpperCase()}_hasLocalMarket(){return this._hasSetupsValue("LocaleCountry")||this._hasSetupsValue("nemo.locale.country")}_getLocalMarket(){let t="";return this._hasSetupsValue("LocaleCountry")?t=this._getSetupsValue("LocaleCountry"):this._hasSetupsValue("nemo.locale.country")&&(t=this._getSetupsValue("nemo.locale.country")),t}_getMarketFromPageID(t,e){let n="",r=this.getPageID(t,e).split("/");return r&&r[3]&&(n=r[3]),n}getLanguage(t,e){let n="";return n=this._hasLocalLanguage()?this._getLocalLanguage():this._getLanguageFromPageID(t,e),n.toLowerCase()}_hasLocalLanguage(){return this._hasSetupsValue("LocaleLanguage")||this._hasSetupsValue("nemo.locale.language")}_getOffsetIndexId(t){let e=0;return/^\/(\w|-){2,4}\/(brand|web|touch)\/(\w|-){2,}/gi.test(t)?e=3:/^\/(\w|-){2,4}\//gi.test(t)&&(e=1),e}_getLocalLanguage(){let t="";return this._hasSetupsValue("LocaleLanguage")?t=this._getSetupsValue("LocaleLanguage"):this._hasSetupsValue("nemo.locale.language")&&(t=this._getSetupsValue("nemo.locale.language")),t}_getLanguageFromPageID(t,e){let n="",r=this.getPageID(t,e).split("/");return r&&r[3]&&(n=r[3]),n.toLowerCase()}_hasSetupsValue(t){let e=!1;return SETUPS&&SETUPS.get(t)&&""!==SETUPS.get(t)&&(e=!0),e}_getSetupsValue(t){let e="";return SETUPS&&SETUPS.get(t)&&""!==SETUPS.get(t)&&(e=SETUPS.get(t)),e}_hasSubString(t,e){return-1!==t.indexOf(e)}_getSubStringByMarker(t,e){return this._hasSubString(t,e)?t.substr(t.indexOf(e)+e.length):""}_removeTrailingHtmlString(t){let e=t;return e.indexOf(".html")>0&&(e=e.substr(0,e.indexOf(".html"))),e}}class L{getDisplayType(t){return this._hasSubString(t,"layer")?"layer":"default"}getPageType(t){let e="standardPage";return this._hasElement(document,".nm-homepage")?e="homepage":this._hasElement(document,"#nm_mofi")?e="modelFinder":t&&t.querySelectorAll&&this._hasElement(t,".nm-content")&&"nemo"===this._getDataType(t.querySelectorAll(".nm-content")[0])&&(e=this._getPageTypeForNemo(t.querySelectorAll(".nm-content")[0])),e}_getPageTypeForNemo(t){let e="configurableModel",n=this._getDataTemplate(t);return"home"===n?e="configurableHome":"summary"===n&&(e="configurationSummary"),e}_getDataType(t){let e="";return t&&t.getAttribute("data-type")&&(e=t.getAttribute("data-type")),e}_getDataTemplate(t){let e="";return t&&t.getAttribute("data-template")&&(e=t.getAttribute("data-template")),e}_hasElement(t,e){return t.querySelectorAll(e)&&t.querySelectorAll(e).length>0}_hasSubString(t,e){return-1!==t.indexOf(e)}}class E{getApplicationName(){return"undefined"!=typeof SETUPS&&SETUPS.get("page.template")&&""!==SETUPS.get("page.template")&&"oneshop-page"==SETUPS.get("page.template")?"oneshop":"cms"}getApplicationVersion(){let t="",e=document.getElementsByClassName("application-version");return e.length>0?t=e[0].getAttribute("data-version")||"":document.querySelectorAll(".nm-version-info dd")&&document.querySelectorAll(".nm-version-info dd").length>0&&(t=document.querySelectorAll(".nm-version-info dd")[1].innerHTML),t}getImplementer(){return 1}getSite(){return"product portal"}}class x{constructor(){if(x._instance)return x._instance;this.pagePageInfo=new C,this.pageCategory=new L,this.pageAttributes=new E,D.register(x.getData,!0),x._instance=this}static async getData(){return{pageInfo:{pageID:x._instance.pagePageInfo.getPageID(window.location.href,window.location.pathname),pageName:x._instance.pagePageInfo.getPageName(document),destinationURL:x._instance.pagePageInfo.getDestinationUrl(),referringURL:x._instance.pagePageInfo.getReferringUrl(),sysEnv:x._instance.pagePageInfo.getSysEnv(window.location.host),breadCrumbs:x._instance.pagePageInfo.getBreadCrumbs(window.location.href,window.location.pathname),language:x._instance.pagePageInfo.getLanguage(window.location.href,window.location.pathname),market:x._instance.pagePageInfo.getMarket(window.location.href,window.location.pathname)},category:{pageType:x._instance.pageCategory.getPageType(document),displayType:x._instance.pageCategory.getDisplayType(window.location.href)},attributes:{applicationName:x._instance.pageAttributes.getApplicationName(),applicationVersion:x._instance.pageAttributes.getApplicationVersion(),implementer:x._instance.pageAttributes.getImplementer(),site:x._instance.pageAttributes.getSite()}}}}new x;const A=new class{constructor(){this.productObjectCallbacks=[],this.getData=this.getData.bind(this),this._getRegisteredProductObjects=this._getRegisteredProductObjects.bind(this)}register(t,e){let n=0===this.productObjectCallbacks.length?1:this.productObjectCallbacks.length;e?this.productObjectCallbacks[0]=t:this.productObjectCallbacks[n]=t}unregister(t){let e=this.productObjectCallbacks.indexOf(t);this.productObjectCallbacks.splice(e,1)}async getData(){return(await this._getRegisteredProductObjects()).reduce(((t,e)=>t.concat(e)),[])}async _getRegisteredProductObjects(){let t=[];for(let e in this.productObjectCallbacks)if(e&&this.productObjectCallbacks[e]){let n=await this.productObjectCallbacks[e]();t.push(n)}return t}};class P{constructor(){if(P._instance)return P._instance;A.register(P.getData,!0),P._instance=this}static async getData(){return[]}}new P;const I=new class{constructor(){this.cartObjectCallbacks=[],this.getData=this.getData.bind(this),this._getRegisteredCartObjects=this._getRegisteredCartObjects.bind(this)}register(t,e){const n=0===this.cartObjectCallbacks.length?1:this.cartObjectCallbacks.length;e?this.cartObjectCallbacks[0]=t:this.cartObjectCallbacks[n]=t}unregister(t){const e=this.cartObjectCallbacks.indexOf(t);this.cartObjectCallbacks.splice(e,1)}async getData(){const e=await this._getRegisteredCartObjects();return t.mergeObjects(...e)}async _getRegisteredCartObjects(){let t=[];for(const e in this.cartObjectCallbacks)if(e&&this.cartObjectCallbacks[e]){const n=await this.cartObjectCallbacks[e]();t.push(n)}return t}};class R{constructor(){if(R._instance)return R._instance;I.register(this.getData,!0),R._instance=this}async getData(){return{}}}new R;class N{static get REGISTERED_DIGITALDATA_OBJECTS(){return["page","component","dealer","product","cart","user","search"]}constructor(){if(N._instance)return N._instance;window.digitalData=window.digitalData||{},window.digitalData.event=window.digitalData.event||[],this.eventObjectsQueue=[],this.registeredPropertyObjectsQueue={},N._instance=this}storeObjectsInDigitalData(t){window.digitalData.hasOwnProperty("page")?this._writeDataToWindowObject(t):t.hasOwnProperty("page")?this._writeDataToWindowObject(this._mergeRegisteredPropertyObjects(t)):Object.keys(t).forEach((e=>{this.registeredPropertyObjectsQueue[e]=t[e]}))}storeEventsInDigitalData(t){Object.keys(t).length>0&&(0===window.digitalData.event.length&&"page_load"!==this._getEventAction(t)?this.eventObjectsQueue.push(t):(window.digitalData.event.push(t),this._processEventObjectsQueue()))}_writeDataToWindowObject(t){N.REGISTERED_DIGITALDATA_OBJECTS.forEach((e=>{void 0!==t[e]&&(window.digitalData[e]=t[e])}))}_mergeRegisteredPropertyObjects(t){return t&&this.registeredPropertyObjectsQueue!=={}&&N.REGISTERED_DIGITALDATA_OBJECTS.forEach((e=>{void 0!==this.registeredPropertyObjectsQueue[e]&&(t[e]=this.registeredPropertyObjectsQueue[e])})),this.registeredPropertyObjectsQueue={},t}_processEventObjectsQueue(){const t=this.eventObjectsQueue.length;if(t>0){for(let e=0;e<t;e+=1)window.digitalData.event.push(this.eventObjectsQueue[e]);this.eventObjectsQueue=[]}}_getEventAction(t){let e="";return t&&t.eventInfo&&t.eventInfo.eventAction&&(e=t.eventInfo.eventAction),e}}const M=new N;class U{constructor(){var t,e,n;if(n="audi:authStore",(e="_trackingStoreName")in(t=this)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,U._instance)return U._instance;this.userObjectCallbacks=[],this.initialize(),U._instance=this}register(t,e=!1){if("function"!=typeof t)throw new Error("bad parameter: callback_ is not of type function");const n=0===this.userObjectCallbacks.length?1:this.userObjectCallbacks.length;e?this.userObjectCallbacks[0]=t:this.userObjectCallbacks[n]=t}unregister(t){let e=this.userObjectCallbacks.indexOf(t);-1!==e&&this.userObjectCallbacks.splice(e,1)}async getData(){const e=await this._getRegisteredUserObjects();return t.mergeObjects(...e)}async _getRegisteredUserObjects(){let t=[];for(const e in this.userObjectCallbacks)if(e&&this.userObjectCallbacks[e]){const n=await this.userObjectCallbacks[e]();t.push(n)}return t}initialize(){this._saveTrackingData=this._saveTrackingData.bind(this),this._getEventData=this._getEventData.bind(this),this._isWithinLifeTime=this._isWithinLifeTime.bind(this),this._updateTrackingSessionStore=this._updateTrackingSessionStore.bind(this),this.getTrackingSessionStore=this.getTrackingSessionStore.bind(this),this._subscribeToAuthenticationStore=this._subscribeToAuthenticationStore.bind(this),this._analyzeAuthenticationEvent=this._analyzeAuthenticationEvent.bind(this),this._subscribeToPageLoaded=this._subscribeToPageLoaded.bind(this),this._handleRefreshSession=this._handleRefreshSession.bind(this),this._getTrackingSessionStoreRaw=this._getTrackingSessionStoreRaw.bind(this),this._subscribeToAuthenticationStore(),this._subscribeToPageLoaded()}_subscribeToPageLoaded(){document.addEventListener("PAGE_READY",this._handleRefreshSession),document.addEventListener("LAYER_LOADED",this._handleRefreshSession),document.addEventListener("LAYER_CLOSED",this._handleRefreshSession)}_handleRefreshSession(){const t=this._getTrackingSessionStoreRaw();if(t){const e=t.timestamp;if(this._updateTrackingSessionStore(t.isAuthenticated),!this._isWithinLifeTime(e)&&t.isAuthenticated){let e=this._getEventData(t.isAuthenticated);this._saveTrackingData(e)}}}_subscribeToAuthenticationStore(){window&&window.microkernel&&window.microkernel.stateRegistry&&window.microkernel.stateRegistry.subscribeToStore("dbadAuthServiceStore",(t=>{this._analyzeAuthenticationEvent(t)}))}_analyzeAuthenticationEvent(t){let e=this.getTrackingSessionStore(),n=!!t&&t.isAuthenticated;if(this._updateTrackingSessionStore(n),!e&&n||e&&n!=e.isAuthenticated){let t=this._getEventData(n);this._saveTrackingData(t)}}_isWithinLifeTime(t){if(t){return Date.now()-t<18e5}return!1}_updateTrackingSessionStore(t){let e=JSON.stringify({isAuthenticated:t,timestamp:(new Date).getTime()});window.localStorage.setItem(this._trackingStoreName,e)}_getTrackingSessionStoreRaw(){const t=window.localStorage&&window.localStorage.getItem(this._trackingStoreName);if(t&&""!==t){return JSON.parse(t)}return null}getTrackingSessionStore(){const t=this._getTrackingSessionStoreRaw();if(t){if(this._isWithinLifeTime(t.timestamp))return t}return null}_getEventData(t){return{eventInfo:{eventAction:"non_interaction",eventName:t?"user logged in":"user logged out"},attributes:{componentName:"",label:"",currentUrl:`${window.location.hostname}${window.location.pathname}`,targetUrl:"",clickID:"",elementName:"",value:"",pos:""}}}async _saveTrackingData(t){if(t){if(Object.prototype.hasOwnProperty.call(window.digitalData,"page")){const t=await this.getData();M.storeObjectsInDigitalData({user:[t]})}M.storeEventsInDigitalData(t)}}}const F=new U;class V{constructor(){if(V._instance)return V._instance;F.register(V.getData,!0),V._instance=this}static async getData(){const t=F.getTrackingSessionStore();let e=!1;t&&(e=t.isAuthenticated);return{segment:{isLoggedIn:e}}}}new V;const B=new class{constructor(){this.searchObjectCallbacks=[],this.getData=this.getData.bind(this),this._getRegisteredSearchObjects=this._getRegisteredSearchObjects.bind(this)}register(t,e){const n=0===this.searchObjectCallbacks.length?1:this.searchObjectCallbacks.length;e?this.searchObjectCallbacks[0]=t:this.searchObjectCallbacks[n]=t}unregister(t){const e=this.searchObjectCallbacks.indexOf(t);this.searchObjectCallbacks.splice(e,1)}async getData(){const e=await this._getRegisteredSearchObjects();return t.mergeObjects(...e)}async _getRegisteredSearchObjects(){let t=[];for(const e in this.searchObjectCallbacks)if(e&&this.searchObjectCallbacks[e]){const n=await this.searchObjectCallbacks[e]();t.push(n)}return t}};class G{constructor(){if(G._instance)return G._instance;B.register(this.getData,!0),G._instance=this}async getData(){return{}}}new G})(),r})()}));
//# sourceMappingURL=audi-core-tracking-objects.js.map